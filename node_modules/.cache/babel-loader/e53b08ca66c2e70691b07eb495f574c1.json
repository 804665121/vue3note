{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport omit from 'omit.js';\nimport VcMenu, { Divider, ItemGroup } from '../vc-menu';\nimport SubMenu from './SubMenu';\nimport PropTypes from '../_util/vue-types';\nimport animation from '../_util/openAnimation';\nimport warning from '../_util/warning';\nimport Item from './MenuItem';\nimport { hasProp, getListeners, getOptionProps } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport commonPropsType from '../vc-menu/commonPropsType';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base'; // import raf from '../_util/raf';\n\nexport var MenuMode = PropTypes.oneOf(['vertical', 'vertical-left', 'vertical-right', 'horizontal', 'inline']);\nexport var menuProps = _extends({}, commonPropsType, {\n  theme: PropTypes.oneOf(['light', 'dark']).def('light'),\n  mode: MenuMode.def('vertical'),\n  selectable: PropTypes.bool,\n  selectedKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSelectedKeys: PropTypes.array,\n  openKeys: PropTypes.array,\n  defaultOpenKeys: PropTypes.array,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  openTransitionName: PropTypes.string,\n  prefixCls: PropTypes.string,\n  multiple: PropTypes.bool,\n  inlineIndent: PropTypes.number.def(24),\n  inlineCollapsed: PropTypes.bool,\n  isRootMenu: PropTypes.bool.def(true),\n  focusable: PropTypes.bool.def(false)\n});\nvar Menu = {\n  name: 'AMenu',\n  props: menuProps,\n  Divider: _extends({}, Divider, {\n    name: 'AMenuDivider'\n  }),\n  Item: _extends({}, Item, {\n    name: 'AMenuItem'\n  }),\n  SubMenu: _extends({}, SubMenu, {\n    name: 'ASubMenu'\n  }),\n  ItemGroup: _extends({}, ItemGroup, {\n    name: 'AMenuItemGroup'\n  }),\n  provide: function provide() {\n    return {\n      getInlineCollapsed: this.getInlineCollapsed,\n      menuPropsContext: this.$props\n    };\n  },\n  mixins: [BaseMixin],\n  inject: {\n    layoutSiderContext: {\n      'default': function _default() {\n        return {};\n      }\n    },\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  model: {\n    prop: 'selectedKeys',\n    event: 'selectChange'\n  },\n  updated: function updated() {\n    this.propsUpdating = false;\n  },\n  // beforeDestroy() {\n  //   raf.cancel(this.mountRafId);\n  // },\n  watch: {\n    mode: function mode(val, oldVal) {\n      if (oldVal === 'inline' && val !== 'inline') {\n        this.switchingModeFromInline = true;\n      }\n    },\n    openKeys: function openKeys(val) {\n      this.setState({\n        sOpenKeys: val\n      });\n    },\n    inlineCollapsed: function inlineCollapsed(val) {\n      this.collapsedChange(val);\n    },\n    'layoutSiderContext.sCollapsed': function layoutSiderContextSCollapsed(val) {\n      this.collapsedChange(val);\n    }\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!('inlineCollapsed' in props && props.mode !== 'inline'), 'Menu', \"`inlineCollapsed` should only be used when Menu's `mode` is inline.\");\n    this.switchingModeFromInline = false;\n    this.leaveAnimationExecutedWhenInlineCollapsed = false;\n    this.inlineOpenKeys = [];\n    var sOpenKeys = void 0;\n\n    if ('openKeys' in props) {\n      sOpenKeys = props.openKeys;\n    } else if ('defaultOpenKeys' in props) {\n      sOpenKeys = props.defaultOpenKeys;\n    }\n\n    return {\n      sOpenKeys: sOpenKeys\n    };\n  },\n  methods: {\n    collapsedChange: function collapsedChange(val) {\n      if (this.propsUpdating) {\n        return;\n      }\n\n      this.propsUpdating = true;\n\n      if (!hasProp(this, 'openKeys')) {\n        if (val) {\n          this.switchingModeFromInline = true;\n          this.inlineOpenKeys = this.sOpenKeys;\n          this.setState({\n            sOpenKeys: []\n          });\n        } else {\n          this.setState({\n            sOpenKeys: this.inlineOpenKeys\n          });\n          this.inlineOpenKeys = [];\n        }\n      } else if (val) {\n        // 缩起时，openKeys置为空的动画会闪动，react可以通过是否传递openKeys避免闪动，vue不是很方便动态传递openKeys\n        this.switchingModeFromInline = true;\n      }\n    },\n    restoreModeVerticalFromInline: function restoreModeVerticalFromInline() {\n      if (this.switchingModeFromInline) {\n        this.switchingModeFromInline = false;\n        this.$forceUpdate();\n      }\n    },\n    // Restore vertical mode when menu is collapsed responsively when mounted\n    // https://github.com/ant-design/ant-design/issues/13104\n    // TODO: not a perfect solution, looking a new way to avoid setting switchingModeFromInline in this situation\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.restoreModeVerticalFromInline();\n      this.$emit('mouseenter', e);\n    },\n    handleTransitionEnd: function handleTransitionEnd(e) {\n      // when inlineCollapsed menu width animation finished\n      // https://github.com/ant-design/ant-design/issues/12864\n      var widthCollapsed = e.propertyName === 'width' && e.target === e.currentTarget; // Fix SVGElement e.target.className.indexOf is not a function\n      // https://github.com/ant-design/ant-design/issues/15699\n\n      var className = e.target.className; // SVGAnimatedString.animVal should be identical to SVGAnimatedString.baseVal, unless during an animation.\n\n      var classNameValue = Object.prototype.toString.call(className) === '[object SVGAnimatedString]' ? className.animVal : className; // Fix for <Menu style={{ width: '100%' }} />, the width transition won't trigger when menu is collapsed\n      // https://github.com/ant-design/ant-design-pro/issues/2783\n\n      var iconScaled = e.propertyName === 'font-size' && classNameValue.indexOf('anticon') >= 0;\n\n      if (widthCollapsed || iconScaled) {\n        this.restoreModeVerticalFromInline();\n      }\n    },\n    handleClick: function handleClick(e) {\n      this.handleOpenChange([]);\n      this.$emit('click', e);\n    },\n    handleSelect: function handleSelect(info) {\n      this.$emit('select', info);\n      this.$emit('selectChange', info.selectedKeys);\n    },\n    handleDeselect: function handleDeselect(info) {\n      this.$emit('deselect', info);\n      this.$emit('selectChange', info.selectedKeys);\n    },\n    handleOpenChange: function handleOpenChange(openKeys) {\n      this.setOpenKeys(openKeys);\n      this.$emit('openChange', openKeys);\n      this.$emit('update:openKeys', openKeys);\n    },\n    setOpenKeys: function setOpenKeys(openKeys) {\n      if (!hasProp(this, 'openKeys')) {\n        this.setState({\n          sOpenKeys: openKeys\n        });\n      }\n    },\n    getRealMenuMode: function getRealMenuMode() {\n      var inlineCollapsed = this.getInlineCollapsed();\n\n      if (this.switchingModeFromInline && inlineCollapsed) {\n        return 'inline';\n      }\n\n      var mode = this.$props.mode;\n      return inlineCollapsed ? 'vertical' : mode;\n    },\n    getInlineCollapsed: function getInlineCollapsed() {\n      var inlineCollapsed = this.$props.inlineCollapsed;\n\n      if (this.layoutSiderContext.sCollapsed !== undefined) {\n        return this.layoutSiderContext.sCollapsed;\n      }\n\n      return inlineCollapsed;\n    },\n    getMenuOpenAnimation: function getMenuOpenAnimation(menuMode) {\n      var _$props = this.$props,\n          openAnimation = _$props.openAnimation,\n          openTransitionName = _$props.openTransitionName;\n      var menuOpenAnimation = openAnimation || openTransitionName;\n\n      if (openAnimation === undefined && openTransitionName === undefined) {\n        if (menuMode === 'horizontal') {\n          menuOpenAnimation = 'slide-up';\n        } else if (menuMode === 'inline') {\n          menuOpenAnimation = {\n            on: animation\n          };\n        } else {\n          // When mode switch from inline\n          // submenu should hide without animation\n          if (this.switchingModeFromInline) {\n            menuOpenAnimation = '';\n            this.switchingModeFromInline = false;\n          } else {\n            menuOpenAnimation = 'zoom-big';\n          }\n        }\n      }\n\n      return menuOpenAnimation;\n    }\n  },\n  render: function render() {\n    var _menuClassName,\n        _this = this;\n\n    var h = arguments[0];\n    var layoutSiderContext = this.layoutSiderContext,\n        $slots = this.$slots;\n    var collapsedWidth = layoutSiderContext.collapsedWidth;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        theme = props.theme,\n        getPopupContainer = props.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('menu', customizePrefixCls);\n    var menuMode = this.getRealMenuMode();\n    var menuOpenAnimation = this.getMenuOpenAnimation(menuMode);\n    var menuClassName = (_menuClassName = {}, _defineProperty(_menuClassName, prefixCls + '-' + theme, true), _defineProperty(_menuClassName, prefixCls + '-inline-collapsed', this.getInlineCollapsed()), _menuClassName);\n    var menuProps = {\n      props: _extends({}, omit(props, ['inlineCollapsed']), {\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        openKeys: this.sOpenKeys,\n        mode: menuMode,\n        prefixCls: prefixCls\n      }),\n      on: _extends({}, getListeners(this), {\n        select: this.handleSelect,\n        deselect: this.handleDeselect,\n        openChange: this.handleOpenChange,\n        mouseenter: this.handleMouseEnter\n      }),\n      nativeOn: {\n        transitionend: this.handleTransitionEnd\n      }\n    };\n\n    if (!hasProp(this, 'selectedKeys')) {\n      delete menuProps.props.selectedKeys;\n    }\n\n    if (menuMode !== 'inline') {\n      // closing vertical popup submenu after click it\n      menuProps.on.click = this.handleClick;\n      menuProps.props.openTransitionName = menuOpenAnimation;\n    } else {\n      menuProps.on.click = function (e) {\n        _this.$emit('click', e);\n      };\n\n      menuProps.props.openAnimation = menuOpenAnimation;\n    } // https://github.com/ant-design/ant-design/issues/8587\n\n\n    var hideMenu = this.getInlineCollapsed() && (collapsedWidth === 0 || collapsedWidth === '0' || collapsedWidth === '0px');\n\n    if (hideMenu) {\n      menuProps.props.openKeys = [];\n    }\n\n    return h(VcMenu, _mergeJSXProps([menuProps, {\n      'class': menuClassName\n    }]), [$slots['default']]);\n  }\n};\n/* istanbul ignore next */\n\nMenu.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(Menu.name, Menu);\n  Vue.component(Menu.Item.name, Menu.Item);\n  Vue.component(Menu.SubMenu.name, Menu.SubMenu);\n  Vue.component(Menu.Divider.name, Menu.Divider);\n  Vue.component(Menu.ItemGroup.name, Menu.ItemGroup);\n};\n\nexport default Menu;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/menu/index.js"],"names":["_mergeJSXProps","_defineProperty","_extends","omit","VcMenu","Divider","ItemGroup","SubMenu","PropTypes","animation","warning","Item","hasProp","getListeners","getOptionProps","BaseMixin","commonPropsType","ConfigConsumerProps","Base","MenuMode","oneOf","menuProps","theme","def","mode","selectable","bool","selectedKeys","arrayOf","oneOfType","string","number","defaultSelectedKeys","array","openKeys","defaultOpenKeys","openAnimation","object","openTransitionName","prefixCls","multiple","inlineIndent","inlineCollapsed","isRootMenu","focusable","Menu","name","props","provide","getInlineCollapsed","menuPropsContext","$props","mixins","inject","layoutSiderContext","_default","configProvider","model","prop","event","updated","propsUpdating","watch","val","oldVal","switchingModeFromInline","setState","sOpenKeys","collapsedChange","layoutSiderContextSCollapsed","data","leaveAnimationExecutedWhenInlineCollapsed","inlineOpenKeys","methods","restoreModeVerticalFromInline","$forceUpdate","handleMouseEnter","e","$emit","handleTransitionEnd","widthCollapsed","propertyName","target","currentTarget","className","classNameValue","Object","prototype","toString","call","animVal","iconScaled","indexOf","handleClick","handleOpenChange","handleSelect","info","handleDeselect","setOpenKeys","getRealMenuMode","sCollapsed","undefined","getMenuOpenAnimation","menuMode","_$props","menuOpenAnimation","on","render","_menuClassName","_this","h","arguments","$slots","collapsedWidth","getContextPopupContainer","getPopupContainer","customizePrefixCls","getPrefixCls","menuClassName","select","deselect","openChange","mouseenter","nativeOn","transitionend","click","hideMenu","install","Vue","use","component"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,kCAA3B;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,MAAP,IAAiBC,OAAjB,EAA0BC,SAA1B,QAA2C,YAA3C;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,cAAhC,QAAsD,qBAAtD;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB,C,CACA;;AAEA,OAAO,IAAIC,QAAQ,GAAGX,SAAS,CAACY,KAAV,CAAgB,CAAC,UAAD,EAAa,eAAb,EAA8B,gBAA9B,EAAgD,YAAhD,EAA8D,QAA9D,CAAhB,CAAf;AAEP,OAAO,IAAIC,SAAS,GAAGnB,QAAQ,CAAC,EAAD,EAAKc,eAAL,EAAsB;AACnDM,EAAAA,KAAK,EAAEd,SAAS,CAACY,KAAV,CAAgB,CAAC,OAAD,EAAU,MAAV,CAAhB,EAAmCG,GAAnC,CAAuC,OAAvC,CAD4C;AAEnDC,EAAAA,IAAI,EAAEL,QAAQ,CAACI,GAAT,CAAa,UAAb,CAF6C;AAGnDE,EAAAA,UAAU,EAAEjB,SAAS,CAACkB,IAH6B;AAInDC,EAAAA,YAAY,EAAEnB,SAAS,CAACoB,OAAV,CAAkBpB,SAAS,CAACqB,SAAV,CAAoB,CAACrB,SAAS,CAACsB,MAAX,EAAmBtB,SAAS,CAACuB,MAA7B,CAApB,CAAlB,CAJqC;AAKnDC,EAAAA,mBAAmB,EAAExB,SAAS,CAACyB,KALoB;AAMnDC,EAAAA,QAAQ,EAAE1B,SAAS,CAACyB,KAN+B;AAOnDE,EAAAA,eAAe,EAAE3B,SAAS,CAACyB,KAPwB;AAQnDG,EAAAA,aAAa,EAAE5B,SAAS,CAACqB,SAAV,CAAoB,CAACrB,SAAS,CAACsB,MAAX,EAAmBtB,SAAS,CAAC6B,MAA7B,CAApB,CARoC;AASnDC,EAAAA,kBAAkB,EAAE9B,SAAS,CAACsB,MATqB;AAUnDS,EAAAA,SAAS,EAAE/B,SAAS,CAACsB,MAV8B;AAWnDU,EAAAA,QAAQ,EAAEhC,SAAS,CAACkB,IAX+B;AAYnDe,EAAAA,YAAY,EAAEjC,SAAS,CAACuB,MAAV,CAAiBR,GAAjB,CAAqB,EAArB,CAZqC;AAanDmB,EAAAA,eAAe,EAAElC,SAAS,CAACkB,IAbwB;AAcnDiB,EAAAA,UAAU,EAAEnC,SAAS,CAACkB,IAAV,CAAeH,GAAf,CAAmB,IAAnB,CAduC;AAenDqB,EAAAA,SAAS,EAAEpC,SAAS,CAACkB,IAAV,CAAeH,GAAf,CAAmB,KAAnB;AAfwC,CAAtB,CAAxB;AAkBP,IAAIsB,IAAI,GAAG;AACTC,EAAAA,IAAI,EAAE,OADG;AAETC,EAAAA,KAAK,EAAE1B,SAFE;AAGThB,EAAAA,OAAO,EAAEH,QAAQ,CAAC,EAAD,EAAKG,OAAL,EAAc;AAAEyC,IAAAA,IAAI,EAAE;AAAR,GAAd,CAHR;AAITnC,EAAAA,IAAI,EAAET,QAAQ,CAAC,EAAD,EAAKS,IAAL,EAAW;AAAEmC,IAAAA,IAAI,EAAE;AAAR,GAAX,CAJL;AAKTvC,EAAAA,OAAO,EAAEL,QAAQ,CAAC,EAAD,EAAKK,OAAL,EAAc;AAAEuC,IAAAA,IAAI,EAAE;AAAR,GAAd,CALR;AAMTxC,EAAAA,SAAS,EAAEJ,QAAQ,CAAC,EAAD,EAAKI,SAAL,EAAgB;AAAEwC,IAAAA,IAAI,EAAE;AAAR,GAAhB,CANV;AAOTE,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,WAAO;AACLC,MAAAA,kBAAkB,EAAE,KAAKA,kBADpB;AAELC,MAAAA,gBAAgB,EAAE,KAAKC;AAFlB,KAAP;AAID,GAZQ;AAcTC,EAAAA,MAAM,EAAE,CAACrC,SAAD,CAdC;AAeTsC,EAAAA,MAAM,EAAE;AACNC,IAAAA,kBAAkB,EAAE;AAAE,iBAAW,SAASC,QAAT,GAAoB;AACjD,eAAO,EAAP;AACD;AAFiB,KADd;AAINC,IAAAA,cAAc,EAAE;AAAE,iBAAW,SAASD,QAAT,GAAoB;AAC7C,eAAOtC,mBAAP;AACD;AAFa;AAJV,GAfC;AAuBTwC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GAvBE;AA2BTC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,SAAKC,aAAL,GAAqB,KAArB;AACD,GA7BQ;AA+BT;AACA;AACA;AACAC,EAAAA,KAAK,EAAE;AACLtC,IAAAA,IAAI,EAAE,SAASA,IAAT,CAAcuC,GAAd,EAAmBC,MAAnB,EAA2B;AAC/B,UAAIA,MAAM,KAAK,QAAX,IAAuBD,GAAG,KAAK,QAAnC,EAA6C;AAC3C,aAAKE,uBAAL,GAA+B,IAA/B;AACD;AACF,KALI;AAML/B,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB6B,GAAlB,EAAuB;AAC/B,WAAKG,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAEJ;AAAb,OAAd;AACD,KARI;AASLrB,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBqB,GAAzB,EAA8B;AAC7C,WAAKK,eAAL,CAAqBL,GAArB;AACD,KAXI;AAYL,qCAAiC,SAASM,4BAAT,CAAsCN,GAAtC,EAA2C;AAC1E,WAAKK,eAAL,CAAqBL,GAArB;AACD;AAdI,GAlCE;AAkDTO,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,QAAIvB,KAAK,GAAGjC,cAAc,CAAC,IAAD,CAA1B;AACAJ,IAAAA,OAAO,CAAC,EAAE,qBAAqBqC,KAArB,IAA8BA,KAAK,CAACvB,IAAN,KAAe,QAA/C,CAAD,EAA2D,MAA3D,EAAmE,qEAAnE,CAAP;AACA,SAAKyC,uBAAL,GAA+B,KAA/B;AACA,SAAKM,yCAAL,GAAiD,KAAjD;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,QAAIL,SAAS,GAAG,KAAK,CAArB;;AAEA,QAAI,cAAcpB,KAAlB,EAAyB;AACvBoB,MAAAA,SAAS,GAAGpB,KAAK,CAACb,QAAlB;AACD,KAFD,MAEO,IAAI,qBAAqBa,KAAzB,EAAgC;AACrCoB,MAAAA,SAAS,GAAGpB,KAAK,CAACZ,eAAlB;AACD;;AACD,WAAO;AACLgC,MAAAA,SAAS,EAAEA;AADN,KAAP;AAGD,GAlEQ;AAoETM,EAAAA,OAAO,EAAE;AACPL,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBL,GAAzB,EAA8B;AAC7C,UAAI,KAAKF,aAAT,EAAwB;AACtB;AACD;;AACD,WAAKA,aAAL,GAAqB,IAArB;;AACA,UAAI,CAACjD,OAAO,CAAC,IAAD,EAAO,UAAP,CAAZ,EAAgC;AAC9B,YAAImD,GAAJ,EAAS;AACP,eAAKE,uBAAL,GAA+B,IAA/B;AACA,eAAKO,cAAL,GAAsB,KAAKL,SAA3B;AACA,eAAKD,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAE;AAAb,WAAd;AACD,SAJD,MAIO;AACL,eAAKD,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAE,KAAKK;AAAlB,WAAd;AACA,eAAKA,cAAL,GAAsB,EAAtB;AACD;AACF,OATD,MASO,IAAIT,GAAJ,EAAS;AACd;AACA,aAAKE,uBAAL,GAA+B,IAA/B;AACD;AACF,KAnBM;AAoBPS,IAAAA,6BAA6B,EAAE,SAASA,6BAAT,GAAyC;AACtE,UAAI,KAAKT,uBAAT,EAAkC;AAChC,aAAKA,uBAAL,GAA+B,KAA/B;AACA,aAAKU,YAAL;AACD;AACF,KAzBM;AA2BP;AACA;AACA;AACAC,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,CAA1B,EAA6B;AAC7C,WAAKH,6BAAL;AACA,WAAKI,KAAL,CAAW,YAAX,EAAyBD,CAAzB;AACD,KAjCM;AAkCPE,IAAAA,mBAAmB,EAAE,SAASA,mBAAT,CAA6BF,CAA7B,EAAgC;AACnD;AACA;AACA,UAAIG,cAAc,GAAGH,CAAC,CAACI,YAAF,KAAmB,OAAnB,IAA8BJ,CAAC,CAACK,MAAF,KAAaL,CAAC,CAACM,aAAlE,CAHmD,CAKnD;AACA;;AACA,UAAIC,SAAS,GAAGP,CAAC,CAACK,MAAF,CAASE,SAAzB,CAPmD,CAQnD;;AAEA,UAAIC,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,SAA/B,MAA8C,4BAA9C,GAA6EA,SAAS,CAACM,OAAvF,GAAiGN,SAAtH,CAVmD,CAYnD;AACA;;AACA,UAAIO,UAAU,GAAGd,CAAC,CAACI,YAAF,KAAmB,WAAnB,IAAkCI,cAAc,CAACO,OAAf,CAAuB,SAAvB,KAAqC,CAAxF;;AAEA,UAAIZ,cAAc,IAAIW,UAAtB,EAAkC;AAChC,aAAKjB,6BAAL;AACD;AACF,KArDM;AAsDPmB,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBhB,CAArB,EAAwB;AACnC,WAAKiB,gBAAL,CAAsB,EAAtB;AACA,WAAKhB,KAAL,CAAW,OAAX,EAAoBD,CAApB;AACD,KAzDM;AA0DPkB,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AACxC,WAAKlB,KAAL,CAAW,QAAX,EAAqBkB,IAArB;AACA,WAAKlB,KAAL,CAAW,cAAX,EAA2BkB,IAAI,CAACrE,YAAhC;AACD,KA7DM;AA8DPsE,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBD,IAAxB,EAA8B;AAC5C,WAAKlB,KAAL,CAAW,UAAX,EAAuBkB,IAAvB;AACA,WAAKlB,KAAL,CAAW,cAAX,EAA2BkB,IAAI,CAACrE,YAAhC;AACD,KAjEM;AAkEPmE,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0B5D,QAA1B,EAAoC;AACpD,WAAKgE,WAAL,CAAiBhE,QAAjB;AACA,WAAK4C,KAAL,CAAW,YAAX,EAAyB5C,QAAzB;AACA,WAAK4C,KAAL,CAAW,iBAAX,EAA8B5C,QAA9B;AACD,KAtEM;AAuEPgE,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBhE,QAArB,EAA+B;AAC1C,UAAI,CAACtB,OAAO,CAAC,IAAD,EAAO,UAAP,CAAZ,EAAgC;AAC9B,aAAKsD,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEjC;AAAb,SAAd;AACD;AACF,KA3EM;AA4EPiE,IAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,UAAIzD,eAAe,GAAG,KAAKO,kBAAL,EAAtB;;AACA,UAAI,KAAKgB,uBAAL,IAAgCvB,eAApC,EAAqD;AACnD,eAAO,QAAP;AACD;;AACD,UAAIlB,IAAI,GAAG,KAAK2B,MAAL,CAAY3B,IAAvB;AAEA,aAAOkB,eAAe,GAAG,UAAH,GAAgBlB,IAAtC;AACD,KApFM;AAqFPyB,IAAAA,kBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAChD,UAAIP,eAAe,GAAG,KAAKS,MAAL,CAAYT,eAAlC;;AAEA,UAAI,KAAKY,kBAAL,CAAwB8C,UAAxB,KAAuCC,SAA3C,EAAsD;AACpD,eAAO,KAAK/C,kBAAL,CAAwB8C,UAA/B;AACD;;AACD,aAAO1D,eAAP;AACD,KA5FM;AA6FP4D,IAAAA,oBAAoB,EAAE,SAASA,oBAAT,CAA8BC,QAA9B,EAAwC;AAC5D,UAAIC,OAAO,GAAG,KAAKrD,MAAnB;AAAA,UACIf,aAAa,GAAGoE,OAAO,CAACpE,aAD5B;AAAA,UAEIE,kBAAkB,GAAGkE,OAAO,CAAClE,kBAFjC;AAIA,UAAImE,iBAAiB,GAAGrE,aAAa,IAAIE,kBAAzC;;AACA,UAAIF,aAAa,KAAKiE,SAAlB,IAA+B/D,kBAAkB,KAAK+D,SAA1D,EAAqE;AACnE,YAAIE,QAAQ,KAAK,YAAjB,EAA+B;AAC7BE,UAAAA,iBAAiB,GAAG,UAApB;AACD,SAFD,MAEO,IAAIF,QAAQ,KAAK,QAAjB,EAA2B;AAChCE,UAAAA,iBAAiB,GAAG;AAAEC,YAAAA,EAAE,EAAEjG;AAAN,WAApB;AACD,SAFM,MAEA;AACL;AACA;AACA,cAAI,KAAKwD,uBAAT,EAAkC;AAChCwC,YAAAA,iBAAiB,GAAG,EAApB;AACA,iBAAKxC,uBAAL,GAA+B,KAA/B;AACD,WAHD,MAGO;AACLwC,YAAAA,iBAAiB,GAAG,UAApB;AACD;AACF;AACF;;AACD,aAAOA,iBAAP;AACD;AApHM,GApEA;AA0LTE,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,cAAJ;AAAA,QACIC,KAAK,GAAG,IADZ;;AAGA,QAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;AACA,QAAIzD,kBAAkB,GAAG,KAAKA,kBAA9B;AAAA,QACI0D,MAAM,GAAG,KAAKA,MADlB;AAEA,QAAIC,cAAc,GAAG3D,kBAAkB,CAAC2D,cAAxC;AACA,QAAIC,wBAAwB,GAAG,KAAK1D,cAAL,CAAoB2D,iBAAnD;AAEA,QAAIpE,KAAK,GAAGjC,cAAc,CAAC,IAAD,CAA1B;AACA,QAAIsG,kBAAkB,GAAGrE,KAAK,CAACR,SAA/B;AAAA,QACIjB,KAAK,GAAGyB,KAAK,CAACzB,KADlB;AAAA,QAEI6F,iBAAiB,GAAGpE,KAAK,CAACoE,iBAF9B;AAIA,QAAIE,YAAY,GAAG,KAAK7D,cAAL,CAAoB6D,YAAvC;AACA,QAAI9E,SAAS,GAAG8E,YAAY,CAAC,MAAD,EAASD,kBAAT,CAA5B;AACA,QAAIb,QAAQ,GAAG,KAAKJ,eAAL,EAAf;AACA,QAAIM,iBAAiB,GAAG,KAAKH,oBAAL,CAA0BC,QAA1B,CAAxB;AAEA,QAAIe,aAAa,IAAIV,cAAc,GAAG,EAAjB,EAAqB3G,eAAe,CAAC2G,cAAD,EAAiBrE,SAAS,GAAG,GAAZ,GAAkBjB,KAAnC,EAA0C,IAA1C,CAApC,EAAqFrB,eAAe,CAAC2G,cAAD,EAAiBrE,SAAS,GAAG,mBAA7B,EAAkD,KAAKU,kBAAL,EAAlD,CAApG,EAAkL2D,cAAtL,CAAjB;AAEA,QAAIvF,SAAS,GAAG;AACd0B,MAAAA,KAAK,EAAE7C,QAAQ,CAAC,EAAD,EAAKC,IAAI,CAAC4C,KAAD,EAAQ,CAAC,iBAAD,CAAR,CAAT,EAAuC;AACpDoE,QAAAA,iBAAiB,EAAEA,iBAAiB,IAAID,wBADY;AAEpDhF,QAAAA,QAAQ,EAAE,KAAKiC,SAFqC;AAGpD3C,QAAAA,IAAI,EAAE+E,QAH8C;AAIpDhE,QAAAA,SAAS,EAAEA;AAJyC,OAAvC,CADD;AAOdmE,MAAAA,EAAE,EAAExG,QAAQ,CAAC,EAAD,EAAKW,YAAY,CAAC,IAAD,CAAjB,EAAyB;AACnC0G,QAAAA,MAAM,EAAE,KAAKxB,YADsB;AAEnCyB,QAAAA,QAAQ,EAAE,KAAKvB,cAFoB;AAGnCwB,QAAAA,UAAU,EAAE,KAAK3B,gBAHkB;AAInC4B,QAAAA,UAAU,EAAE,KAAK9C;AAJkB,OAAzB,CAPE;AAad+C,MAAAA,QAAQ,EAAE;AACRC,QAAAA,aAAa,EAAE,KAAK7C;AADZ;AAbI,KAAhB;;AAiBA,QAAI,CAACnE,OAAO,CAAC,IAAD,EAAO,cAAP,CAAZ,EAAoC;AAClC,aAAOS,SAAS,CAAC0B,KAAV,CAAgBpB,YAAvB;AACD;;AAED,QAAI4E,QAAQ,KAAK,QAAjB,EAA2B;AACzB;AACAlF,MAAAA,SAAS,CAACqF,EAAV,CAAamB,KAAb,GAAqB,KAAKhC,WAA1B;AACAxE,MAAAA,SAAS,CAAC0B,KAAV,CAAgBT,kBAAhB,GAAqCmE,iBAArC;AACD,KAJD,MAIO;AACLpF,MAAAA,SAAS,CAACqF,EAAV,CAAamB,KAAb,GAAqB,UAAUhD,CAAV,EAAa;AAChCgC,QAAAA,KAAK,CAAC/B,KAAN,CAAY,OAAZ,EAAqBD,CAArB;AACD,OAFD;;AAGAxD,MAAAA,SAAS,CAAC0B,KAAV,CAAgBX,aAAhB,GAAgCqE,iBAAhC;AACD,KApDuB,CAsDxB;;;AACA,QAAIqB,QAAQ,GAAG,KAAK7E,kBAAL,OAA8BgE,cAAc,KAAK,CAAnB,IAAwBA,cAAc,KAAK,GAA3C,IAAkDA,cAAc,KAAK,KAAnG,CAAf;;AACA,QAAIa,QAAJ,EAAc;AACZzG,MAAAA,SAAS,CAAC0B,KAAV,CAAgBb,QAAhB,GAA2B,EAA3B;AACD;;AAED,WAAO4E,CAAC,CACN1G,MADM,EAENJ,cAAc,CAAC,CAACqB,SAAD,EAAY;AAAE,eAASiG;AAAX,KAAZ,CAAD,CAFR,EAGN,CAACN,MAAM,CAAC,SAAD,CAAP,CAHM,CAAR;AAKD;AA3PQ,CAAX;AA8PA;;AACAnE,IAAI,CAACkF,OAAL,GAAe,UAAUC,GAAV,EAAe;AAC5BA,EAAAA,GAAG,CAACC,GAAJ,CAAQ/G,IAAR;AACA8G,EAAAA,GAAG,CAACE,SAAJ,CAAcrF,IAAI,CAACC,IAAnB,EAAyBD,IAAzB;AACAmF,EAAAA,GAAG,CAACE,SAAJ,CAAcrF,IAAI,CAAClC,IAAL,CAAUmC,IAAxB,EAA8BD,IAAI,CAAClC,IAAnC;AACAqH,EAAAA,GAAG,CAACE,SAAJ,CAAcrF,IAAI,CAACtC,OAAL,CAAauC,IAA3B,EAAiCD,IAAI,CAACtC,OAAtC;AACAyH,EAAAA,GAAG,CAACE,SAAJ,CAAcrF,IAAI,CAACxC,OAAL,CAAayC,IAA3B,EAAiCD,IAAI,CAACxC,OAAtC;AACA2H,EAAAA,GAAG,CAACE,SAAJ,CAAcrF,IAAI,CAACvC,SAAL,CAAewC,IAA7B,EAAmCD,IAAI,CAACvC,SAAxC;AACD,CAPD;;AAQA,eAAeuC,IAAf","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport omit from 'omit.js';\nimport VcMenu, { Divider, ItemGroup } from '../vc-menu';\nimport SubMenu from './SubMenu';\nimport PropTypes from '../_util/vue-types';\nimport animation from '../_util/openAnimation';\nimport warning from '../_util/warning';\nimport Item from './MenuItem';\nimport { hasProp, getListeners, getOptionProps } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport commonPropsType from '../vc-menu/commonPropsType';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\n// import raf from '../_util/raf';\n\nexport var MenuMode = PropTypes.oneOf(['vertical', 'vertical-left', 'vertical-right', 'horizontal', 'inline']);\n\nexport var menuProps = _extends({}, commonPropsType, {\n  theme: PropTypes.oneOf(['light', 'dark']).def('light'),\n  mode: MenuMode.def('vertical'),\n  selectable: PropTypes.bool,\n  selectedKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSelectedKeys: PropTypes.array,\n  openKeys: PropTypes.array,\n  defaultOpenKeys: PropTypes.array,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  openTransitionName: PropTypes.string,\n  prefixCls: PropTypes.string,\n  multiple: PropTypes.bool,\n  inlineIndent: PropTypes.number.def(24),\n  inlineCollapsed: PropTypes.bool,\n  isRootMenu: PropTypes.bool.def(true),\n  focusable: PropTypes.bool.def(false)\n});\n\nvar Menu = {\n  name: 'AMenu',\n  props: menuProps,\n  Divider: _extends({}, Divider, { name: 'AMenuDivider' }),\n  Item: _extends({}, Item, { name: 'AMenuItem' }),\n  SubMenu: _extends({}, SubMenu, { name: 'ASubMenu' }),\n  ItemGroup: _extends({}, ItemGroup, { name: 'AMenuItemGroup' }),\n  provide: function provide() {\n    return {\n      getInlineCollapsed: this.getInlineCollapsed,\n      menuPropsContext: this.$props\n    };\n  },\n\n  mixins: [BaseMixin],\n  inject: {\n    layoutSiderContext: { 'default': function _default() {\n        return {};\n      } },\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  model: {\n    prop: 'selectedKeys',\n    event: 'selectChange'\n  },\n  updated: function updated() {\n    this.propsUpdating = false;\n  },\n\n  // beforeDestroy() {\n  //   raf.cancel(this.mountRafId);\n  // },\n  watch: {\n    mode: function mode(val, oldVal) {\n      if (oldVal === 'inline' && val !== 'inline') {\n        this.switchingModeFromInline = true;\n      }\n    },\n    openKeys: function openKeys(val) {\n      this.setState({ sOpenKeys: val });\n    },\n    inlineCollapsed: function inlineCollapsed(val) {\n      this.collapsedChange(val);\n    },\n    'layoutSiderContext.sCollapsed': function layoutSiderContextSCollapsed(val) {\n      this.collapsedChange(val);\n    }\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!('inlineCollapsed' in props && props.mode !== 'inline'), 'Menu', \"`inlineCollapsed` should only be used when Menu's `mode` is inline.\");\n    this.switchingModeFromInline = false;\n    this.leaveAnimationExecutedWhenInlineCollapsed = false;\n    this.inlineOpenKeys = [];\n    var sOpenKeys = void 0;\n\n    if ('openKeys' in props) {\n      sOpenKeys = props.openKeys;\n    } else if ('defaultOpenKeys' in props) {\n      sOpenKeys = props.defaultOpenKeys;\n    }\n    return {\n      sOpenKeys: sOpenKeys\n    };\n  },\n\n  methods: {\n    collapsedChange: function collapsedChange(val) {\n      if (this.propsUpdating) {\n        return;\n      }\n      this.propsUpdating = true;\n      if (!hasProp(this, 'openKeys')) {\n        if (val) {\n          this.switchingModeFromInline = true;\n          this.inlineOpenKeys = this.sOpenKeys;\n          this.setState({ sOpenKeys: [] });\n        } else {\n          this.setState({ sOpenKeys: this.inlineOpenKeys });\n          this.inlineOpenKeys = [];\n        }\n      } else if (val) {\n        // 缩起时，openKeys置为空的动画会闪动，react可以通过是否传递openKeys避免闪动，vue不是很方便动态传递openKeys\n        this.switchingModeFromInline = true;\n      }\n    },\n    restoreModeVerticalFromInline: function restoreModeVerticalFromInline() {\n      if (this.switchingModeFromInline) {\n        this.switchingModeFromInline = false;\n        this.$forceUpdate();\n      }\n    },\n\n    // Restore vertical mode when menu is collapsed responsively when mounted\n    // https://github.com/ant-design/ant-design/issues/13104\n    // TODO: not a perfect solution, looking a new way to avoid setting switchingModeFromInline in this situation\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.restoreModeVerticalFromInline();\n      this.$emit('mouseenter', e);\n    },\n    handleTransitionEnd: function handleTransitionEnd(e) {\n      // when inlineCollapsed menu width animation finished\n      // https://github.com/ant-design/ant-design/issues/12864\n      var widthCollapsed = e.propertyName === 'width' && e.target === e.currentTarget;\n\n      // Fix SVGElement e.target.className.indexOf is not a function\n      // https://github.com/ant-design/ant-design/issues/15699\n      var className = e.target.className;\n      // SVGAnimatedString.animVal should be identical to SVGAnimatedString.baseVal, unless during an animation.\n\n      var classNameValue = Object.prototype.toString.call(className) === '[object SVGAnimatedString]' ? className.animVal : className;\n\n      // Fix for <Menu style={{ width: '100%' }} />, the width transition won't trigger when menu is collapsed\n      // https://github.com/ant-design/ant-design-pro/issues/2783\n      var iconScaled = e.propertyName === 'font-size' && classNameValue.indexOf('anticon') >= 0;\n\n      if (widthCollapsed || iconScaled) {\n        this.restoreModeVerticalFromInline();\n      }\n    },\n    handleClick: function handleClick(e) {\n      this.handleOpenChange([]);\n      this.$emit('click', e);\n    },\n    handleSelect: function handleSelect(info) {\n      this.$emit('select', info);\n      this.$emit('selectChange', info.selectedKeys);\n    },\n    handleDeselect: function handleDeselect(info) {\n      this.$emit('deselect', info);\n      this.$emit('selectChange', info.selectedKeys);\n    },\n    handleOpenChange: function handleOpenChange(openKeys) {\n      this.setOpenKeys(openKeys);\n      this.$emit('openChange', openKeys);\n      this.$emit('update:openKeys', openKeys);\n    },\n    setOpenKeys: function setOpenKeys(openKeys) {\n      if (!hasProp(this, 'openKeys')) {\n        this.setState({ sOpenKeys: openKeys });\n      }\n    },\n    getRealMenuMode: function getRealMenuMode() {\n      var inlineCollapsed = this.getInlineCollapsed();\n      if (this.switchingModeFromInline && inlineCollapsed) {\n        return 'inline';\n      }\n      var mode = this.$props.mode;\n\n      return inlineCollapsed ? 'vertical' : mode;\n    },\n    getInlineCollapsed: function getInlineCollapsed() {\n      var inlineCollapsed = this.$props.inlineCollapsed;\n\n      if (this.layoutSiderContext.sCollapsed !== undefined) {\n        return this.layoutSiderContext.sCollapsed;\n      }\n      return inlineCollapsed;\n    },\n    getMenuOpenAnimation: function getMenuOpenAnimation(menuMode) {\n      var _$props = this.$props,\n          openAnimation = _$props.openAnimation,\n          openTransitionName = _$props.openTransitionName;\n\n      var menuOpenAnimation = openAnimation || openTransitionName;\n      if (openAnimation === undefined && openTransitionName === undefined) {\n        if (menuMode === 'horizontal') {\n          menuOpenAnimation = 'slide-up';\n        } else if (menuMode === 'inline') {\n          menuOpenAnimation = { on: animation };\n        } else {\n          // When mode switch from inline\n          // submenu should hide without animation\n          if (this.switchingModeFromInline) {\n            menuOpenAnimation = '';\n            this.switchingModeFromInline = false;\n          } else {\n            menuOpenAnimation = 'zoom-big';\n          }\n        }\n      }\n      return menuOpenAnimation;\n    }\n  },\n  render: function render() {\n    var _menuClassName,\n        _this = this;\n\n    var h = arguments[0];\n    var layoutSiderContext = this.layoutSiderContext,\n        $slots = this.$slots;\n    var collapsedWidth = layoutSiderContext.collapsedWidth;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        theme = props.theme,\n        getPopupContainer = props.getPopupContainer;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('menu', customizePrefixCls);\n    var menuMode = this.getRealMenuMode();\n    var menuOpenAnimation = this.getMenuOpenAnimation(menuMode);\n\n    var menuClassName = (_menuClassName = {}, _defineProperty(_menuClassName, prefixCls + '-' + theme, true), _defineProperty(_menuClassName, prefixCls + '-inline-collapsed', this.getInlineCollapsed()), _menuClassName);\n\n    var menuProps = {\n      props: _extends({}, omit(props, ['inlineCollapsed']), {\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        openKeys: this.sOpenKeys,\n        mode: menuMode,\n        prefixCls: prefixCls\n      }),\n      on: _extends({}, getListeners(this), {\n        select: this.handleSelect,\n        deselect: this.handleDeselect,\n        openChange: this.handleOpenChange,\n        mouseenter: this.handleMouseEnter\n      }),\n      nativeOn: {\n        transitionend: this.handleTransitionEnd\n      }\n    };\n    if (!hasProp(this, 'selectedKeys')) {\n      delete menuProps.props.selectedKeys;\n    }\n\n    if (menuMode !== 'inline') {\n      // closing vertical popup submenu after click it\n      menuProps.on.click = this.handleClick;\n      menuProps.props.openTransitionName = menuOpenAnimation;\n    } else {\n      menuProps.on.click = function (e) {\n        _this.$emit('click', e);\n      };\n      menuProps.props.openAnimation = menuOpenAnimation;\n    }\n\n    // https://github.com/ant-design/ant-design/issues/8587\n    var hideMenu = this.getInlineCollapsed() && (collapsedWidth === 0 || collapsedWidth === '0' || collapsedWidth === '0px');\n    if (hideMenu) {\n      menuProps.props.openKeys = [];\n    }\n\n    return h(\n      VcMenu,\n      _mergeJSXProps([menuProps, { 'class': menuClassName }]),\n      [$slots['default']]\n    );\n  }\n};\n\n/* istanbul ignore next */\nMenu.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(Menu.name, Menu);\n  Vue.component(Menu.Item.name, Menu.Item);\n  Vue.component(Menu.SubMenu.name, Menu.SubMenu);\n  Vue.component(Menu.Divider.name, Menu.Divider);\n  Vue.component(Menu.ItemGroup.name, Menu.ItemGroup);\n};\nexport default Menu;"]},"metadata":{},"sourceType":"module"}