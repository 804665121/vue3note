{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport omit from 'omit.js';\nimport PropTypes from '../_util/vue-types';\nimport Trigger from '../vc-trigger';\nimport KeyCode from '../_util/KeyCode';\nimport { connect } from '../_util/store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getComponentFromProp, filterEmpty, getListeners } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey } from './util';\nimport getTransitionProps from '../_util/getTransitionProps';\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _extends({}, state.defaultActiveFirst, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nvar SubMenu = {\n  name: 'SubMenu',\n  props: {\n    parentMenu: PropTypes.object,\n    title: PropTypes.any,\n    selectedKeys: PropTypes.array.def([]),\n    openKeys: PropTypes.array.def([]),\n    openChange: PropTypes.func.def(noop),\n    rootPrefixCls: PropTypes.string,\n    eventKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    multiple: PropTypes.bool,\n    active: PropTypes.bool,\n    // TODO: remove\n    isRootMenu: PropTypes.bool.def(false),\n    index: PropTypes.number,\n    triggerSubMenuAction: PropTypes.string,\n    popupClassName: PropTypes.string,\n    getPopupContainer: PropTypes.func,\n    forceSubMenuRender: PropTypes.bool,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    disabled: PropTypes.bool,\n    subMenuOpenDelay: PropTypes.number.def(0.1),\n    subMenuCloseDelay: PropTypes.number.def(0.1),\n    level: PropTypes.number.def(1),\n    inlineIndent: PropTypes.number.def(24),\n    openTransitionName: PropTypes.string,\n    popupOffset: PropTypes.array,\n    isOpen: PropTypes.bool,\n    store: PropTypes.object,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']).def('vertical'),\n    manualRef: PropTypes.func.def(noop),\n    builtinPlacements: PropTypes.object.def(function () {\n      return {};\n    }),\n    itemIcon: PropTypes.any,\n    expandIcon: PropTypes.any,\n    subMenuKey: PropTypes.string\n  },\n  mixins: [BaseMixin],\n  isSubMenu: true,\n  data: function data() {\n    var props = this.$props;\n    var store = props.store;\n    var eventKey = props.eventKey;\n    var defaultActiveFirst = store.getState().defaultActiveFirst;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return {// defaultActiveFirst: false,\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.handleUpdated();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.handleUpdated();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    var eventKey = this.eventKey;\n\n    this.__emit('destroy', eventKey);\n    /* istanbul ignore if */\n\n\n    if (this.minWidthTimeout) {\n      cancelAnimationTimeout(this.minWidthTimeout);\n      this.minWidthTimeout = null;\n    }\n    /* istanbul ignore if */\n\n\n    if (this.mouseenterTimeout) {\n      cancelAnimationTimeout(this.mouseenterTimeout);\n      this.mouseenterTimeout = null;\n    }\n  },\n  methods: {\n    handleUpdated: function handleUpdated() {\n      var _this3 = this;\n\n      var _$props = this.$props,\n          mode = _$props.mode,\n          parentMenu = _$props.parentMenu,\n          manualRef = _$props.manualRef; // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = requestAnimationTimeout(function () {\n        return _this3.adjustWidth();\n      }, 0);\n    },\n    onKeyDown: function onKeyDown(e) {\n      var keyCode = e.keyCode;\n      var menu = this.menuInstance;\n      var _$props2 = this.$props,\n          store = _$props2.store,\n          isOpen = _$props2.isOpen;\n\n      if (keyCode === KeyCode.ENTER) {\n        this.onTitleClick(e);\n        updateDefaultActiveFirst(store, this.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (isOpen) {\n          menu.onKeyDown(e);\n        } else {\n          this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n          updateDefaultActiveFirst(store, this.eventKey, true);\n        }\n\n        return true;\n      }\n\n      if (keyCode === KeyCode.LEFT) {\n        var handled = void 0;\n\n        if (isOpen) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n\n        if (!handled) {\n          this.triggerOpenChange(false);\n          handled = true;\n        }\n\n        return handled;\n      }\n\n      if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n\n      return undefined;\n    },\n    onPopupVisibleChange: function onPopupVisibleChange(visible) {\n      this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      var _$props3 = this.$props,\n          key = _$props3.eventKey,\n          store = _$props3.store;\n      updateDefaultActiveFirst(store, key, false);\n\n      this.__emit('mouseenter', {\n        key: key,\n        domEvent: e\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      var eventKey = this.eventKey,\n          parentMenu = this.parentMenu;\n      parentMenu.subMenuInstance = this; // parentMenu.subMenuLeaveFn = () => {\n      // // trigger mouseleave\n      //   this.__emit('mouseleave', {\n      //     key: eventKey,\n      //     domEvent: e,\n      //   })\n      // }\n\n      this.__emit('mouseleave', {\n        key: eventKey,\n        domEvent: e\n      }); // prevent popup menu and submenu gap\n      // parentMenu.subMenuLeaveTimer = setTimeout(parentMenu.subMenuLeaveFn, 100)\n\n    },\n    onTitleMouseEnter: function onTitleMouseEnter(domEvent) {\n      var key = this.$props.eventKey; // this.clearSubMenuTitleLeaveTimer()\n\n      this.__emit('itemHover', {\n        key: key,\n        hover: true\n      });\n\n      this.__emit('titleMouseenter', {\n        key: key,\n        domEvent: domEvent\n      });\n    },\n    onTitleMouseLeave: function onTitleMouseLeave(e) {\n      var eventKey = this.eventKey,\n          parentMenu = this.parentMenu;\n      parentMenu.subMenuInstance = this;\n\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: false\n      });\n\n      this.__emit('titleMouseleave', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onTitleClick: function onTitleClick(e) {\n      var _$props4 = this.$props,\n          triggerSubMenuAction = _$props4.triggerSubMenuAction,\n          eventKey = _$props4.eventKey,\n          isOpen = _$props4.isOpen,\n          store = _$props4.store;\n\n      this.__emit('titleClick', {\n        key: eventKey,\n        domEvent: e\n      });\n\n      if (triggerSubMenuAction === 'hover') {\n        return;\n      }\n\n      this.triggerOpenChange(!isOpen, 'click');\n      updateDefaultActiveFirst(store, eventKey, false);\n    },\n    onSubMenuClick: function onSubMenuClick(info) {\n      this.__emit('click', this.addKeyPath(info));\n    },\n    getPrefixCls: function getPrefixCls() {\n      return this.$props.rootPrefixCls + '-submenu';\n    },\n    getActiveClassName: function getActiveClassName() {\n      return this.getPrefixCls() + '-active';\n    },\n    getDisabledClassName: function getDisabledClassName() {\n      return this.getPrefixCls() + '-disabled';\n    },\n    getSelectedClassName: function getSelectedClassName() {\n      return this.getPrefixCls() + '-selected';\n    },\n    getOpenClassName: function getOpenClassName() {\n      return this.$props.rootPrefixCls + '-submenu-open';\n    },\n    saveMenuInstance: function saveMenuInstance(c) {\n      // children menu instance\n      this.menuInstance = c;\n    },\n    addKeyPath: function addKeyPath(info) {\n      return _extends({}, info, {\n        keyPath: (info.keyPath || []).concat(this.$props.eventKey)\n      });\n    },\n    // triggerOpenChange (open, type) {\n    //   const key = this.$props.eventKey\n    //   this.__emit('openChange', {\n    //     key,\n    //     item: this,\n    //     trigger: type,\n    //     open,\n    //   })\n    // },\n    triggerOpenChange: function triggerOpenChange(open, type) {\n      var _this4 = this;\n\n      var key = this.$props.eventKey;\n\n      var openChange = function openChange() {\n        _this4.__emit('openChange', {\n          key: key,\n          item: _this4,\n          trigger: type,\n          open: open\n        });\n      };\n\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        this.mouseenterTimeout = requestAnimationTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    },\n    isChildrenSelected: function isChildrenSelected() {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(this.$slots['default'], this.$props.selectedKeys, ret);\n      return ret.find;\n    },\n    // isOpen () {\n    //   return this.$props.openKeys.indexOf(this.$props.eventKey) !== -1\n    // },\n    adjustWidth: function adjustWidth() {\n      /* istanbul ignore if */\n      if (!this.$refs.subMenuTitle || !this.menuInstance) {\n        return;\n      }\n\n      var popupMenu = this.menuInstance.$el;\n\n      if (popupMenu.offsetWidth >= this.$refs.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      popupMenu.style.minWidth = this.$refs.subMenuTitle.offsetWidth + 'px';\n    },\n    renderChildren: function renderChildren(children) {\n      var h = this.$createElement;\n      var props = this.$props;\n\n      var _getListeners = getListeners(this),\n          select = _getListeners.select,\n          deselect = _getListeners.deselect,\n          openChange = _getListeners.openChange;\n\n      var subPopupMenuProps = {\n        props: {\n          mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n          visible: props.isOpen,\n          level: props.level + 1,\n          inlineIndent: props.inlineIndent,\n          focusable: false,\n          selectedKeys: props.selectedKeys,\n          eventKey: props.eventKey + '-menu-',\n          openKeys: props.openKeys,\n          openTransitionName: props.openTransitionName,\n          openAnimation: props.openAnimation,\n          subMenuOpenDelay: props.subMenuOpenDelay,\n          parentMenu: this,\n          subMenuCloseDelay: props.subMenuCloseDelay,\n          forceSubMenuRender: props.forceSubMenuRender,\n          triggerSubMenuAction: props.triggerSubMenuAction,\n          builtinPlacements: props.builtinPlacements,\n          defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n          multiple: props.multiple,\n          prefixCls: props.rootPrefixCls,\n          manualRef: this.saveMenuInstance,\n          itemIcon: getComponentFromProp(this, 'itemIcon'),\n          expandIcon: getComponentFromProp(this, 'expandIcon'),\n          children: children\n        },\n        on: {\n          click: this.onSubMenuClick,\n          select: select,\n          deselect: deselect,\n          openChange: openChange\n        },\n        id: this.internalMenuId\n      };\n      var baseProps = subPopupMenuProps.props;\n      var haveRendered = this.haveRendered;\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return h('div');\n      } // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n\n      var transitionAppear = haveRendered || !baseProps.visible || !baseProps.mode === 'inline';\n      subPopupMenuProps['class'] = ' ' + baseProps.prefixCls + '-sub';\n      var animProps = {\n        appear: transitionAppear,\n        css: false\n      };\n      var transitionProps = {\n        props: animProps,\n        on: {}\n      };\n\n      if (baseProps.openTransitionName) {\n        transitionProps = getTransitionProps(baseProps.openTransitionName, {\n          appear: transitionAppear\n        });\n      } else if (_typeof(baseProps.openAnimation) === 'object') {\n        animProps = _extends({}, animProps, baseProps.openAnimation.props || {});\n\n        if (!transitionAppear) {\n          animProps.appear = false;\n        }\n      } else if (typeof baseProps.openAnimation === 'string') {\n        transitionProps = getTransitionProps(baseProps.openAnimation, {\n          appear: transitionAppear\n        });\n      }\n\n      if (_typeof(baseProps.openAnimation) === 'object' && baseProps.openAnimation.on) {\n        transitionProps.on = baseProps.openAnimation.on;\n      }\n\n      return h('transition', transitionProps, [h(SubPopupMenu, _mergeJSXProps([{\n        directives: [{\n          name: 'show',\n          value: props.isOpen\n        }]\n      }, subPopupMenuProps]))]);\n    }\n  },\n  render: function render() {\n    var _className, _attrs;\n\n    var h = arguments[0];\n    var props = this.$props;\n    var rootPrefixCls = this.rootPrefixCls,\n        parentMenu = this.parentMenu;\n    var isOpen = props.isOpen;\n    var prefixCls = this.getPrefixCls();\n    var isInlineMode = props.mode === 'inline';\n    var className = (_className = {}, _defineProperty(_className, prefixCls, true), _defineProperty(_className, prefixCls + '-' + props.mode, true), _defineProperty(_className, this.getOpenClassName(), isOpen), _defineProperty(_className, this.getActiveClassName(), props.active || isOpen && !isInlineMode), _defineProperty(_className, this.getDisabledClassName(), props.disabled), _defineProperty(_className, this.getSelectedClassName(), this.isChildrenSelected()), _className);\n\n    if (!this.internalMenuId) {\n      if (props.eventKey) {\n        this.internalMenuId = props.eventKey + '$Menu';\n      } else {\n        this.internalMenuId = '$__$' + ++guid + '$Menu';\n      }\n    }\n\n    var mouseEvents = {};\n    var titleClickEvents = {};\n    var titleMouseEvents = {};\n\n    if (!props.disabled) {\n      mouseEvents = {\n        mouseleave: this.onMouseLeave,\n        mouseenter: this.onMouseEnter\n      }; // only works in title, not outer li\n\n      titleClickEvents = {\n        click: this.onTitleClick\n      };\n      titleMouseEvents = {\n        mouseenter: this.onTitleMouseEnter,\n        mouseleave: this.onTitleMouseLeave\n      };\n    }\n\n    var style = {};\n\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level + 'px';\n    }\n\n    var ariaOwns = {}; // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n\n    if (isOpen) {\n      ariaOwns = {\n        'aria-owns': this.internalMenuId\n      };\n    }\n\n    var titleProps = {\n      attrs: _extends({\n        'aria-expanded': isOpen\n      }, ariaOwns, {\n        'aria-haspopup': 'true',\n        title: typeof props.title === 'string' ? props.title : undefined\n      }),\n      on: _extends({}, titleMouseEvents, titleClickEvents),\n      style: style,\n      'class': prefixCls + '-title',\n      ref: 'subMenuTitle'\n    }; // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n    var icon = null;\n\n    if (props.mode !== 'horizontal') {\n      icon = getComponentFromProp(this, 'expandIcon', props);\n    }\n\n    var title = h('div', titleProps, [getComponentFromProp(this, 'title'), icon || h('i', {\n      'class': prefixCls + '-arrow'\n    })]);\n    var children = this.renderChildren(filterEmpty(this.$slots['default']));\n    var getPopupContainer = this.parentMenu.isRootMenu ? this.parentMenu.getPopupContainer : function (triggerNode) {\n      return triggerNode.parentNode;\n    };\n    var popupPlacement = popupPlacementMap[props.mode];\n    var popupAlign = props.popupOffset ? {\n      offset: props.popupOffset\n    } : {};\n    var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    var liProps = {\n      on: _extends({}, omit(getListeners(this), ['click']), mouseEvents),\n      'class': className\n    };\n    return h('li', _mergeJSXProps([liProps, {\n      attrs: {\n        role: 'menuitem'\n      }\n    }]), [isInlineMode && title, isInlineMode && children, !isInlineMode && h(Trigger, {\n      attrs: (_attrs = {\n        prefixCls: prefixCls,\n        popupClassName: prefixCls + '-popup ' + rootPrefixCls + '-' + parentMenu.theme + ' ' + (popupClassName || ''),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: placements\n      }, _defineProperty(_attrs, 'builtinPlacements', _extends({}, placements, props.builtinPlacements)), _defineProperty(_attrs, 'popupPlacement', popupPlacement), _defineProperty(_attrs, 'popupVisible', isOpen), _defineProperty(_attrs, 'popupAlign', popupAlign), _defineProperty(_attrs, 'action', props.disabled ? [] : [props.triggerSubMenuAction]), _defineProperty(_attrs, 'mouseEnterDelay', props.subMenuOpenDelay), _defineProperty(_attrs, 'mouseLeaveDelay', props.subMenuCloseDelay), _defineProperty(_attrs, 'forceRender', props.forceSubMenuRender), _attrs),\n      on: {\n        'popupVisibleChange': this.onPopupVisibleChange\n      }\n    }, [h('template', {\n      slot: 'popup'\n    }, [children]), title])]);\n  }\n};\nvar connected = connect(function (_ref, _ref2) {\n  var openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-menu/SubMenu.js"],"names":["_mergeJSXProps","_typeof","_defineProperty","_extends","omit","PropTypes","Trigger","KeyCode","connect","SubPopupMenu","placements","BaseMixin","getComponentFromProp","filterEmpty","getListeners","requestAnimationTimeout","cancelAnimationTimeout","noop","loopMenuItemRecursively","getMenuIdFromSubMenuEventKey","getTransitionProps","guid","popupPlacementMap","horizontal","vertical","updateDefaultActiveFirst","store","eventKey","defaultActiveFirst","menuId","state","getState","setState","SubMenu","name","props","parentMenu","object","title","any","selectedKeys","array","def","openKeys","openChange","func","rootPrefixCls","string","oneOfType","number","multiple","bool","active","isRootMenu","index","triggerSubMenuAction","popupClassName","getPopupContainer","forceSubMenuRender","openAnimation","disabled","subMenuOpenDelay","subMenuCloseDelay","level","inlineIndent","openTransitionName","popupOffset","isOpen","mode","oneOf","manualRef","builtinPlacements","itemIcon","expandIcon","subMenuKey","mixins","isSubMenu","data","$props","value","mounted","_this","$nextTick","handleUpdated","updated","_this2","beforeDestroy","__emit","minWidthTimeout","mouseenterTimeout","methods","_this3","_$props","adjustWidth","onKeyDown","e","keyCode","menu","menuInstance","_$props2","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","undefined","UP","DOWN","onPopupVisibleChange","visible","onMouseEnter","_$props3","key","domEvent","onMouseLeave","subMenuInstance","onTitleMouseEnter","hover","onTitleMouseLeave","_$props4","onSubMenuClick","info","addKeyPath","getPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","c","keyPath","concat","open","type","_this4","item","trigger","isChildrenSelected","ret","find","$slots","$refs","subMenuTitle","popupMenu","$el","offsetWidth","style","minWidth","renderChildren","children","h","$createElement","_getListeners","select","deselect","subPopupMenuProps","focusable","prefixCls","on","click","id","internalMenuId","baseProps","haveRendered","haveOpened","transitionAppear","animProps","appear","css","transitionProps","directives","render","_className","_attrs","arguments","isInlineMode","className","mouseEvents","titleClickEvents","titleMouseEvents","mouseleave","mouseenter","paddingLeft","ariaOwns","titleProps","attrs","ref","icon","triggerNode","parentNode","popupPlacement","popupAlign","offset","liProps","role","theme","slot","connected","_ref","_ref2","activeKey","indexOf"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport omit from 'omit.js';\nimport PropTypes from '../_util/vue-types';\nimport Trigger from '../vc-trigger';\nimport KeyCode from '../_util/KeyCode';\nimport { connect } from '../_util/store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getComponentFromProp, filterEmpty, getListeners } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey } from './util';\nimport getTransitionProps from '../_util/getTransitionProps';\n\nvar guid = 0;\n\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _extends({}, state.defaultActiveFirst, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nvar SubMenu = {\n  name: 'SubMenu',\n  props: {\n    parentMenu: PropTypes.object,\n    title: PropTypes.any,\n    selectedKeys: PropTypes.array.def([]),\n    openKeys: PropTypes.array.def([]),\n    openChange: PropTypes.func.def(noop),\n    rootPrefixCls: PropTypes.string,\n    eventKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    multiple: PropTypes.bool,\n    active: PropTypes.bool, // TODO: remove\n    isRootMenu: PropTypes.bool.def(false),\n    index: PropTypes.number,\n    triggerSubMenuAction: PropTypes.string,\n    popupClassName: PropTypes.string,\n    getPopupContainer: PropTypes.func,\n    forceSubMenuRender: PropTypes.bool,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    disabled: PropTypes.bool,\n    subMenuOpenDelay: PropTypes.number.def(0.1),\n    subMenuCloseDelay: PropTypes.number.def(0.1),\n    level: PropTypes.number.def(1),\n    inlineIndent: PropTypes.number.def(24),\n    openTransitionName: PropTypes.string,\n    popupOffset: PropTypes.array,\n    isOpen: PropTypes.bool,\n    store: PropTypes.object,\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']).def('vertical'),\n    manualRef: PropTypes.func.def(noop),\n    builtinPlacements: PropTypes.object.def(function () {\n      return {};\n    }),\n    itemIcon: PropTypes.any,\n    expandIcon: PropTypes.any,\n    subMenuKey: PropTypes.string\n  },\n  mixins: [BaseMixin],\n  isSubMenu: true,\n  data: function data() {\n    var props = this.$props;\n    var store = props.store;\n    var eventKey = props.eventKey;\n    var defaultActiveFirst = store.getState().defaultActiveFirst;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return {\n      // defaultActiveFirst: false,\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.handleUpdated();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.handleUpdated();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    var eventKey = this.eventKey;\n\n    this.__emit('destroy', eventKey);\n\n    /* istanbul ignore if */\n    if (this.minWidthTimeout) {\n      cancelAnimationTimeout(this.minWidthTimeout);\n      this.minWidthTimeout = null;\n    }\n\n    /* istanbul ignore if */\n    if (this.mouseenterTimeout) {\n      cancelAnimationTimeout(this.mouseenterTimeout);\n      this.mouseenterTimeout = null;\n    }\n  },\n\n  methods: {\n    handleUpdated: function handleUpdated() {\n      var _this3 = this;\n\n      var _$props = this.$props,\n          mode = _$props.mode,\n          parentMenu = _$props.parentMenu,\n          manualRef = _$props.manualRef;\n\n      // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = requestAnimationTimeout(function () {\n        return _this3.adjustWidth();\n      }, 0);\n    },\n    onKeyDown: function onKeyDown(e) {\n      var keyCode = e.keyCode;\n      var menu = this.menuInstance;\n      var _$props2 = this.$props,\n          store = _$props2.store,\n          isOpen = _$props2.isOpen;\n\n\n      if (keyCode === KeyCode.ENTER) {\n        this.onTitleClick(e);\n        updateDefaultActiveFirst(store, this.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (isOpen) {\n          menu.onKeyDown(e);\n        } else {\n          this.triggerOpenChange(true);\n          // need to update current menu's defaultActiveFirst value\n          updateDefaultActiveFirst(store, this.eventKey, true);\n        }\n        return true;\n      }\n      if (keyCode === KeyCode.LEFT) {\n        var handled = void 0;\n        if (isOpen) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n        if (!handled) {\n          this.triggerOpenChange(false);\n          handled = true;\n        }\n        return handled;\n      }\n\n      if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n      return undefined;\n    },\n    onPopupVisibleChange: function onPopupVisibleChange(visible) {\n      this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      var _$props3 = this.$props,\n          key = _$props3.eventKey,\n          store = _$props3.store;\n\n      updateDefaultActiveFirst(store, key, false);\n      this.__emit('mouseenter', {\n        key: key,\n        domEvent: e\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      var eventKey = this.eventKey,\n          parentMenu = this.parentMenu;\n\n      parentMenu.subMenuInstance = this;\n      // parentMenu.subMenuLeaveFn = () => {\n      // // trigger mouseleave\n      //   this.__emit('mouseleave', {\n      //     key: eventKey,\n      //     domEvent: e,\n      //   })\n      // }\n      this.__emit('mouseleave', {\n        key: eventKey,\n        domEvent: e\n      });\n      // prevent popup menu and submenu gap\n      // parentMenu.subMenuLeaveTimer = setTimeout(parentMenu.subMenuLeaveFn, 100)\n    },\n    onTitleMouseEnter: function onTitleMouseEnter(domEvent) {\n      var key = this.$props.eventKey;\n      // this.clearSubMenuTitleLeaveTimer()\n\n      this.__emit('itemHover', {\n        key: key,\n        hover: true\n      });\n      this.__emit('titleMouseenter', {\n        key: key,\n        domEvent: domEvent\n      });\n    },\n    onTitleMouseLeave: function onTitleMouseLeave(e) {\n      var eventKey = this.eventKey,\n          parentMenu = this.parentMenu;\n\n      parentMenu.subMenuInstance = this;\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: false\n      });\n      this.__emit('titleMouseleave', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onTitleClick: function onTitleClick(e) {\n      var _$props4 = this.$props,\n          triggerSubMenuAction = _$props4.triggerSubMenuAction,\n          eventKey = _$props4.eventKey,\n          isOpen = _$props4.isOpen,\n          store = _$props4.store;\n\n      this.__emit('titleClick', {\n        key: eventKey,\n        domEvent: e\n      });\n      if (triggerSubMenuAction === 'hover') {\n        return;\n      }\n      this.triggerOpenChange(!isOpen, 'click');\n      updateDefaultActiveFirst(store, eventKey, false);\n    },\n    onSubMenuClick: function onSubMenuClick(info) {\n      this.__emit('click', this.addKeyPath(info));\n    },\n    getPrefixCls: function getPrefixCls() {\n      return this.$props.rootPrefixCls + '-submenu';\n    },\n    getActiveClassName: function getActiveClassName() {\n      return this.getPrefixCls() + '-active';\n    },\n    getDisabledClassName: function getDisabledClassName() {\n      return this.getPrefixCls() + '-disabled';\n    },\n    getSelectedClassName: function getSelectedClassName() {\n      return this.getPrefixCls() + '-selected';\n    },\n    getOpenClassName: function getOpenClassName() {\n      return this.$props.rootPrefixCls + '-submenu-open';\n    },\n    saveMenuInstance: function saveMenuInstance(c) {\n      // children menu instance\n      this.menuInstance = c;\n    },\n    addKeyPath: function addKeyPath(info) {\n      return _extends({}, info, {\n        keyPath: (info.keyPath || []).concat(this.$props.eventKey)\n      });\n    },\n\n\n    // triggerOpenChange (open, type) {\n    //   const key = this.$props.eventKey\n    //   this.__emit('openChange', {\n    //     key,\n    //     item: this,\n    //     trigger: type,\n    //     open,\n    //   })\n    // },\n    triggerOpenChange: function triggerOpenChange(open, type) {\n      var _this4 = this;\n\n      var key = this.$props.eventKey;\n      var openChange = function openChange() {\n        _this4.__emit('openChange', {\n          key: key,\n          item: _this4,\n          trigger: type,\n          open: open\n        });\n      };\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        this.mouseenterTimeout = requestAnimationTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    },\n    isChildrenSelected: function isChildrenSelected() {\n      var ret = { find: false };\n      loopMenuItemRecursively(this.$slots['default'], this.$props.selectedKeys, ret);\n      return ret.find;\n    },\n\n    // isOpen () {\n    //   return this.$props.openKeys.indexOf(this.$props.eventKey) !== -1\n    // },\n\n    adjustWidth: function adjustWidth() {\n      /* istanbul ignore if */\n      if (!this.$refs.subMenuTitle || !this.menuInstance) {\n        return;\n      }\n      var popupMenu = this.menuInstance.$el;\n      if (popupMenu.offsetWidth >= this.$refs.subMenuTitle.offsetWidth) {\n        return;\n      }\n\n      /* istanbul ignore next */\n      popupMenu.style.minWidth = this.$refs.subMenuTitle.offsetWidth + 'px';\n    },\n    renderChildren: function renderChildren(children) {\n      var h = this.$createElement;\n\n      var props = this.$props;\n\n      var _getListeners = getListeners(this),\n          select = _getListeners.select,\n          deselect = _getListeners.deselect,\n          openChange = _getListeners.openChange;\n\n      var subPopupMenuProps = {\n        props: {\n          mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n          visible: props.isOpen,\n          level: props.level + 1,\n          inlineIndent: props.inlineIndent,\n          focusable: false,\n          selectedKeys: props.selectedKeys,\n          eventKey: props.eventKey + '-menu-',\n          openKeys: props.openKeys,\n          openTransitionName: props.openTransitionName,\n          openAnimation: props.openAnimation,\n          subMenuOpenDelay: props.subMenuOpenDelay,\n          parentMenu: this,\n          subMenuCloseDelay: props.subMenuCloseDelay,\n          forceSubMenuRender: props.forceSubMenuRender,\n          triggerSubMenuAction: props.triggerSubMenuAction,\n          builtinPlacements: props.builtinPlacements,\n          defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n          multiple: props.multiple,\n          prefixCls: props.rootPrefixCls,\n          manualRef: this.saveMenuInstance,\n          itemIcon: getComponentFromProp(this, 'itemIcon'),\n          expandIcon: getComponentFromProp(this, 'expandIcon'),\n          children: children\n        },\n        on: {\n          click: this.onSubMenuClick,\n          select: select,\n          deselect: deselect,\n          openChange: openChange\n        },\n        id: this.internalMenuId\n      };\n      var baseProps = subPopupMenuProps.props;\n      var haveRendered = this.haveRendered;\n      this.haveRendered = true;\n\n      this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender;\n      // never rendered not planning to, don't render\n      if (!this.haveOpened) {\n        return h('div');\n      }\n\n      // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n      var transitionAppear = haveRendered || !baseProps.visible || !baseProps.mode === 'inline';\n      subPopupMenuProps['class'] = ' ' + baseProps.prefixCls + '-sub';\n      var animProps = { appear: transitionAppear, css: false };\n      var transitionProps = {\n        props: animProps,\n        on: {}\n      };\n      if (baseProps.openTransitionName) {\n        transitionProps = getTransitionProps(baseProps.openTransitionName, {\n          appear: transitionAppear\n        });\n      } else if (_typeof(baseProps.openAnimation) === 'object') {\n        animProps = _extends({}, animProps, baseProps.openAnimation.props || {});\n        if (!transitionAppear) {\n          animProps.appear = false;\n        }\n      } else if (typeof baseProps.openAnimation === 'string') {\n        transitionProps = getTransitionProps(baseProps.openAnimation, { appear: transitionAppear });\n      }\n\n      if (_typeof(baseProps.openAnimation) === 'object' && baseProps.openAnimation.on) {\n        transitionProps.on = baseProps.openAnimation.on;\n      }\n      return h(\n        'transition',\n        transitionProps,\n        [h(SubPopupMenu, _mergeJSXProps([{\n          directives: [{\n            name: 'show',\n            value: props.isOpen\n          }]\n        }, subPopupMenuProps]))]\n      );\n    }\n  },\n\n  render: function render() {\n    var _className, _attrs;\n\n    var h = arguments[0];\n\n    var props = this.$props;\n    var rootPrefixCls = this.rootPrefixCls,\n        parentMenu = this.parentMenu;\n\n    var isOpen = props.isOpen;\n    var prefixCls = this.getPrefixCls();\n    var isInlineMode = props.mode === 'inline';\n    var className = (_className = {}, _defineProperty(_className, prefixCls, true), _defineProperty(_className, prefixCls + '-' + props.mode, true), _defineProperty(_className, this.getOpenClassName(), isOpen), _defineProperty(_className, this.getActiveClassName(), props.active || isOpen && !isInlineMode), _defineProperty(_className, this.getDisabledClassName(), props.disabled), _defineProperty(_className, this.getSelectedClassName(), this.isChildrenSelected()), _className);\n\n    if (!this.internalMenuId) {\n      if (props.eventKey) {\n        this.internalMenuId = props.eventKey + '$Menu';\n      } else {\n        this.internalMenuId = '$__$' + ++guid + '$Menu';\n      }\n    }\n\n    var mouseEvents = {};\n    var titleClickEvents = {};\n    var titleMouseEvents = {};\n    if (!props.disabled) {\n      mouseEvents = {\n        mouseleave: this.onMouseLeave,\n        mouseenter: this.onMouseEnter\n      };\n\n      // only works in title, not outer li\n      titleClickEvents = {\n        click: this.onTitleClick\n      };\n      titleMouseEvents = {\n        mouseenter: this.onTitleMouseEnter,\n        mouseleave: this.onTitleMouseLeave\n      };\n    }\n\n    var style = {};\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level + 'px';\n    }\n    var ariaOwns = {};\n    // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n    if (isOpen) {\n      ariaOwns = {\n        'aria-owns': this.internalMenuId\n      };\n    }\n    var titleProps = {\n      attrs: _extends({\n        'aria-expanded': isOpen\n      }, ariaOwns, {\n        'aria-haspopup': 'true',\n        title: typeof props.title === 'string' ? props.title : undefined\n      }),\n      on: _extends({}, titleMouseEvents, titleClickEvents),\n      style: style,\n      'class': prefixCls + '-title',\n      ref: 'subMenuTitle'\n    };\n    // expand custom icon should NOT be displayed in menu with horizontal mode.\n    var icon = null;\n    if (props.mode !== 'horizontal') {\n      icon = getComponentFromProp(this, 'expandIcon', props);\n    }\n    var title = h(\n      'div',\n      titleProps,\n      [getComponentFromProp(this, 'title'), icon || h('i', { 'class': prefixCls + '-arrow' })]\n    );\n    var children = this.renderChildren(filterEmpty(this.$slots['default']));\n\n    var getPopupContainer = this.parentMenu.isRootMenu ? this.parentMenu.getPopupContainer : function (triggerNode) {\n      return triggerNode.parentNode;\n    };\n    var popupPlacement = popupPlacementMap[props.mode];\n    var popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\n    var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    var liProps = {\n      on: _extends({}, omit(getListeners(this), ['click']), mouseEvents),\n      'class': className\n    };\n\n    return h(\n      'li',\n      _mergeJSXProps([liProps, {\n        attrs: { role: 'menuitem' }\n      }]),\n      [isInlineMode && title, isInlineMode && children, !isInlineMode && h(\n        Trigger,\n        {\n          attrs: (_attrs = {\n            prefixCls: prefixCls,\n            popupClassName: prefixCls + '-popup ' + rootPrefixCls + '-' + parentMenu.theme + ' ' + (popupClassName || ''),\n            getPopupContainer: getPopupContainer,\n            builtinPlacements: placements\n          }, _defineProperty(_attrs, 'builtinPlacements', _extends({}, placements, props.builtinPlacements)), _defineProperty(_attrs, 'popupPlacement', popupPlacement), _defineProperty(_attrs, 'popupVisible', isOpen), _defineProperty(_attrs, 'popupAlign', popupAlign), _defineProperty(_attrs, 'action', props.disabled ? [] : [props.triggerSubMenuAction]), _defineProperty(_attrs, 'mouseEnterDelay', props.subMenuOpenDelay), _defineProperty(_attrs, 'mouseLeaveDelay', props.subMenuCloseDelay), _defineProperty(_attrs, 'forceRender', props.forceSubMenuRender), _attrs),\n          on: {\n            'popupVisibleChange': this.onPopupVisibleChange\n          }\n        },\n        [h(\n          'template',\n          { slot: 'popup' },\n          [children]\n        ), title]\n      )]\n    );\n  }\n};\n\nvar connected = connect(function (_ref, _ref2) {\n  var openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\n\nconnected.isSubMenu = true;\n\nexport default connected;"]},"metadata":{},"sourceType":"module"}