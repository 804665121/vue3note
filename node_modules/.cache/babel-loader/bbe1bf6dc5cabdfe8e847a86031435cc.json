{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport Dialog from '../vc-dialog';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { getConfirmLocale } from './locale';\nimport Icon from '../icon';\nimport Button from '../button';\nimport buttonTypes from '../button/buttonTypes';\nvar ButtonType = buttonTypes().type;\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { initDefaultProps, getComponentFromProp, getClass, getStyle, mergeProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nvar mousePosition = null; // ref: https://github.com/ant-design/ant-design/issues/15795\n\nvar getClickPosition = function getClickPosition(e) {\n  mousePosition = {\n    x: e.pageX,\n    y: e.pageY\n  }; // 100ms 内发生过点击事件，则从点击位置动画展示\n  // 否则直接 zoom 展示\n  // 这样可以兼容非点击方式展开\n\n  setTimeout(function () {\n    return mousePosition = null;\n  }, 100);\n}; // 只有点击事件支持从鼠标位置动画展开\n\n\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n  addEventListener(document.documentElement, 'click', getClickPosition, true);\n}\n\nfunction noop() {}\n\nvar modalProps = function modalProps() {\n  var defaultProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var props = {\n    prefixCls: PropTypes.string,\n\n    /** 对话框是否可见*/\n    visible: PropTypes.bool,\n\n    /** 确定按钮 loading*/\n    confirmLoading: PropTypes.bool,\n\n    /** 标题*/\n    title: PropTypes.any,\n\n    /** 是否显示右上角的关闭按钮*/\n    closable: PropTypes.bool,\n    closeIcon: PropTypes.any,\n\n    /** 点击确定回调*/\n    // onOk: (e: React.MouseEvent<any>) => void,\n\n    /** 点击模态框右上角叉、取消按钮、Props.maskClosable 值为 true 时的遮罩层或键盘按下 Esc 时的回调*/\n    // onCancel: (e: React.MouseEvent<any>) => void,\n    afterClose: PropTypes.func.def(noop),\n\n    /** 垂直居中 */\n    centered: PropTypes.bool,\n\n    /** 宽度*/\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n    /** 底部内容*/\n    footer: PropTypes.any,\n\n    /** 确认按钮文字*/\n    okText: PropTypes.any,\n\n    /** 确认按钮类型*/\n    okType: ButtonType,\n\n    /** 取消按钮文字*/\n    cancelText: PropTypes.any,\n    icon: PropTypes.any,\n\n    /** 点击蒙层是否允许关闭*/\n    maskClosable: PropTypes.bool,\n\n    /** 强制渲染 Modal*/\n    forceRender: PropTypes.bool,\n    okButtonProps: PropTypes.object,\n    cancelButtonProps: PropTypes.object,\n    destroyOnClose: PropTypes.bool,\n    wrapClassName: PropTypes.string,\n    maskTransitionName: PropTypes.string,\n    transitionName: PropTypes.string,\n    getContainer: PropTypes.func,\n    zIndex: PropTypes.number,\n    bodyStyle: PropTypes.object,\n    maskStyle: PropTypes.object,\n    mask: PropTypes.bool,\n    keyboard: PropTypes.bool,\n    wrapProps: PropTypes.object,\n    focusTriggerAfterClose: PropTypes.bool,\n    dialogStyle: PropTypes.object.def(function () {\n      return {};\n    })\n  };\n  return initDefaultProps(props, defaultProps);\n};\n\nexport var destroyFns = [];\nexport default {\n  name: 'AModal',\n  inheritAttrs: false,\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: modalProps({\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary'\n  }),\n  data: function data() {\n    return {\n      sVisible: !!this.visible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  // static info: ModalFunc;\n  // static success: ModalFunc;\n  // static error: ModalFunc;\n  // static warn: ModalFunc;\n  // static warning: ModalFunc;\n  // static confirm: ModalFunc;\n  methods: {\n    handleCancel: function handleCancel(e) {\n      this.$emit('cancel', e);\n      this.$emit('change', false);\n    },\n    handleOk: function handleOk(e) {\n      this.$emit('ok', e);\n    },\n    renderFooter: function renderFooter(locale) {\n      var h = this.$createElement;\n      var okType = this.okType,\n          confirmLoading = this.confirmLoading;\n      var cancelBtnProps = mergeProps({\n        on: {\n          click: this.handleCancel\n        }\n      }, this.cancelButtonProps || {});\n      var okBtnProps = mergeProps({\n        on: {\n          click: this.handleOk\n        },\n        props: {\n          type: okType,\n          loading: confirmLoading\n        }\n      }, this.okButtonProps || {});\n      return h('div', [h(Button, cancelBtnProps, [getComponentFromProp(this, 'cancelText') || locale.cancelText]), h(Button, okBtnProps, [getComponentFromProp(this, 'okText') || locale.okText])]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        visible = this.sVisible,\n        wrapClassName = this.wrapClassName,\n        centered = this.centered,\n        getContainer = this.getContainer,\n        $slots = this.$slots,\n        $scopedSlots = this.$scopedSlots,\n        $attrs = this.$attrs;\n    var children = $scopedSlots['default'] ? $scopedSlots['default']() : $slots['default'];\n    var _configProvider = this.configProvider,\n        getPrefixCls = _configProvider.getPrefixCls,\n        getContextPopupContainer = _configProvider.getPopupContainer;\n    var prefixCls = getPrefixCls('modal', customizePrefixCls);\n    var defaultFooter = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Modal',\n        defaultLocale: getConfirmLocale()\n      },\n      scopedSlots: {\n        'default': this.renderFooter\n      }\n    });\n    var closeIcon = getComponentFromProp(this, 'closeIcon');\n    var closeIconToRender = h('span', {\n      'class': prefixCls + '-close-x'\n    }, [closeIcon || h(Icon, {\n      'class': prefixCls + '-close-icon',\n      attrs: {\n        type: 'close'\n      }\n    })]);\n    var footer = getComponentFromProp(this, 'footer');\n    var title = getComponentFromProp(this, 'title');\n    var dialogProps = {\n      props: _extends({}, this.$props, {\n        getContainer: getContainer === undefined ? getContextPopupContainer : getContainer,\n        prefixCls: prefixCls,\n        wrapClassName: classNames(_defineProperty({}, prefixCls + '-centered', !!centered), wrapClassName),\n        title: title,\n        footer: footer === undefined ? defaultFooter : footer,\n        visible: visible,\n        mousePosition: mousePosition,\n        closeIcon: closeIconToRender\n      }),\n      on: _extends({}, getListeners(this), {\n        close: this.handleCancel\n      }),\n      'class': getClass(this),\n      style: getStyle(this),\n      attrs: $attrs\n    };\n    return h(Dialog, dialogProps, [children]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/modal/Modal.js"],"names":["_defineProperty","_extends","classNames","Dialog","PropTypes","addEventListener","getConfirmLocale","Icon","Button","buttonTypes","ButtonType","type","LocaleReceiver","initDefaultProps","getComponentFromProp","getClass","getStyle","mergeProps","getListeners","ConfigConsumerProps","mousePosition","getClickPosition","e","x","pageX","y","pageY","setTimeout","window","document","documentElement","noop","modalProps","defaultProps","arguments","length","undefined","props","prefixCls","string","visible","bool","confirmLoading","title","any","closable","closeIcon","afterClose","func","def","centered","width","oneOfType","number","footer","okText","okType","cancelText","icon","maskClosable","forceRender","okButtonProps","object","cancelButtonProps","destroyOnClose","wrapClassName","maskTransitionName","transitionName","getContainer","zIndex","bodyStyle","maskStyle","mask","keyboard","wrapProps","focusTriggerAfterClose","dialogStyle","destroyFns","name","inheritAttrs","model","prop","event","data","sVisible","watch","val","inject","configProvider","_default","methods","handleCancel","$emit","handleOk","renderFooter","locale","h","$createElement","cancelBtnProps","on","click","okBtnProps","loading","render","customizePrefixCls","$slots","$scopedSlots","$attrs","children","_configProvider","getPrefixCls","getContextPopupContainer","getPopupContainer","defaultFooter","attrs","componentName","defaultLocale","scopedSlots","closeIconToRender","dialogProps","$props","close","style"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport Dialog from '../vc-dialog';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { getConfirmLocale } from './locale';\nimport Icon from '../icon';\nimport Button from '../button';\nimport buttonTypes from '../button/buttonTypes';\nvar ButtonType = buttonTypes().type;\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { initDefaultProps, getComponentFromProp, getClass, getStyle, mergeProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nvar mousePosition = null;\n// ref: https://github.com/ant-design/ant-design/issues/15795\nvar getClickPosition = function getClickPosition(e) {\n  mousePosition = {\n    x: e.pageX,\n    y: e.pageY\n  };\n  // 100ms 内发生过点击事件，则从点击位置动画展示\n  // 否则直接 zoom 展示\n  // 这样可以兼容非点击方式展开\n  setTimeout(function () {\n    return mousePosition = null;\n  }, 100);\n};\n\n// 只有点击事件支持从鼠标位置动画展开\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n  addEventListener(document.documentElement, 'click', getClickPosition, true);\n}\n\nfunction noop() {}\nvar modalProps = function modalProps() {\n  var defaultProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var props = {\n    prefixCls: PropTypes.string,\n    /** 对话框是否可见*/\n    visible: PropTypes.bool,\n    /** 确定按钮 loading*/\n    confirmLoading: PropTypes.bool,\n    /** 标题*/\n    title: PropTypes.any,\n    /** 是否显示右上角的关闭按钮*/\n    closable: PropTypes.bool,\n    closeIcon: PropTypes.any,\n    /** 点击确定回调*/\n    // onOk: (e: React.MouseEvent<any>) => void,\n    /** 点击模态框右上角叉、取消按钮、Props.maskClosable 值为 true 时的遮罩层或键盘按下 Esc 时的回调*/\n    // onCancel: (e: React.MouseEvent<any>) => void,\n    afterClose: PropTypes.func.def(noop),\n    /** 垂直居中 */\n    centered: PropTypes.bool,\n    /** 宽度*/\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    /** 底部内容*/\n    footer: PropTypes.any,\n    /** 确认按钮文字*/\n    okText: PropTypes.any,\n    /** 确认按钮类型*/\n    okType: ButtonType,\n    /** 取消按钮文字*/\n    cancelText: PropTypes.any,\n    icon: PropTypes.any,\n    /** 点击蒙层是否允许关闭*/\n    maskClosable: PropTypes.bool,\n    /** 强制渲染 Modal*/\n    forceRender: PropTypes.bool,\n    okButtonProps: PropTypes.object,\n    cancelButtonProps: PropTypes.object,\n    destroyOnClose: PropTypes.bool,\n    wrapClassName: PropTypes.string,\n    maskTransitionName: PropTypes.string,\n    transitionName: PropTypes.string,\n    getContainer: PropTypes.func,\n    zIndex: PropTypes.number,\n    bodyStyle: PropTypes.object,\n    maskStyle: PropTypes.object,\n    mask: PropTypes.bool,\n    keyboard: PropTypes.bool,\n    wrapProps: PropTypes.object,\n    focusTriggerAfterClose: PropTypes.bool,\n    dialogStyle: PropTypes.object.def(function () {\n      return {};\n    })\n  };\n  return initDefaultProps(props, defaultProps);\n};\n\nexport var destroyFns = [];\n\nexport default {\n  name: 'AModal',\n  inheritAttrs: false,\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: modalProps({\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary'\n  }),\n  data: function data() {\n    return {\n      sVisible: !!this.visible\n    };\n  },\n\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  // static info: ModalFunc;\n  // static success: ModalFunc;\n  // static error: ModalFunc;\n  // static warn: ModalFunc;\n  // static warning: ModalFunc;\n  // static confirm: ModalFunc;\n  methods: {\n    handleCancel: function handleCancel(e) {\n      this.$emit('cancel', e);\n      this.$emit('change', false);\n    },\n    handleOk: function handleOk(e) {\n      this.$emit('ok', e);\n    },\n    renderFooter: function renderFooter(locale) {\n      var h = this.$createElement;\n      var okType = this.okType,\n          confirmLoading = this.confirmLoading;\n\n      var cancelBtnProps = mergeProps({ on: { click: this.handleCancel } }, this.cancelButtonProps || {});\n      var okBtnProps = mergeProps({\n        on: { click: this.handleOk },\n        props: {\n          type: okType,\n          loading: confirmLoading\n        }\n      }, this.okButtonProps || {});\n      return h('div', [h(\n        Button,\n        cancelBtnProps,\n        [getComponentFromProp(this, 'cancelText') || locale.cancelText]\n      ), h(\n        Button,\n        okBtnProps,\n        [getComponentFromProp(this, 'okText') || locale.okText]\n      )]);\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        visible = this.sVisible,\n        wrapClassName = this.wrapClassName,\n        centered = this.centered,\n        getContainer = this.getContainer,\n        $slots = this.$slots,\n        $scopedSlots = this.$scopedSlots,\n        $attrs = this.$attrs;\n\n    var children = $scopedSlots['default'] ? $scopedSlots['default']() : $slots['default'];\n    var _configProvider = this.configProvider,\n        getPrefixCls = _configProvider.getPrefixCls,\n        getContextPopupContainer = _configProvider.getPopupContainer;\n\n    var prefixCls = getPrefixCls('modal', customizePrefixCls);\n\n    var defaultFooter = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Modal',\n        defaultLocale: getConfirmLocale()\n      },\n      scopedSlots: { 'default': this.renderFooter }\n    });\n    var closeIcon = getComponentFromProp(this, 'closeIcon');\n    var closeIconToRender = h(\n      'span',\n      { 'class': prefixCls + '-close-x' },\n      [closeIcon || h(Icon, { 'class': prefixCls + '-close-icon', attrs: { type: 'close' }\n      })]\n    );\n    var footer = getComponentFromProp(this, 'footer');\n    var title = getComponentFromProp(this, 'title');\n    var dialogProps = {\n      props: _extends({}, this.$props, {\n        getContainer: getContainer === undefined ? getContextPopupContainer : getContainer,\n        prefixCls: prefixCls,\n        wrapClassName: classNames(_defineProperty({}, prefixCls + '-centered', !!centered), wrapClassName),\n        title: title,\n        footer: footer === undefined ? defaultFooter : footer,\n        visible: visible,\n        mousePosition: mousePosition,\n        closeIcon: closeIconToRender\n      }),\n      on: _extends({}, getListeners(this), {\n        close: this.handleCancel\n      }),\n      'class': getClass(this),\n      style: getStyle(this),\n      attrs: $attrs\n    };\n    return h(\n      Dialog,\n      dialogProps,\n      [children]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}