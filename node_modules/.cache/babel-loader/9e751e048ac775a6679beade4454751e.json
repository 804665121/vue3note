{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport classnames from 'classnames';\nimport raf from 'raf';\n\nfunction noop() {}\n\nvar scrollTo = function scrollTo(element, to, duration) {\n  // jump to target if duration zero\n  if (duration <= 0) {\n    raf(function () {\n      element.scrollTop = to;\n    });\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  raf(function () {\n    element.scrollTop += perTick;\n    if (element.scrollTop === to) return;\n    scrollTo(element, to, duration - 10);\n  });\n};\n\nvar Select = {\n  mixins: [BaseMixin],\n  props: {\n    prefixCls: PropTypes.string,\n    options: PropTypes.array,\n    selectedIndex: PropTypes.number,\n    type: PropTypes.string // onSelect: PropTypes.func,\n    // onMouseEnter: PropTypes.func,\n\n  },\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // jump to selected option\n      _this.scrollToSelected(0);\n    });\n  },\n  watch: {\n    selectedIndex: function selectedIndex() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // smooth scroll to selected option\n        _this2.scrollToSelected(120);\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect(value) {\n      var type = this.type;\n\n      this.__emit('select', type, value);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getOptions: function getOptions() {\n      var _this3 = this;\n\n      var h = this.$createElement;\n      var options = this.options,\n          selectedIndex = this.selectedIndex,\n          prefixCls = this.prefixCls;\n      return options.map(function (item, index) {\n        var _classnames;\n\n        var cls = classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-select-option-selected', selectedIndex === index), _defineProperty(_classnames, prefixCls + '-select-option-disabled', item.disabled), _classnames));\n        var onClick = item.disabled ? noop : function () {\n          _this3.onSelect(item.value);\n        };\n\n        var onKeyDown = function onKeyDown(e) {\n          if (e.keyCode === 13) onClick();else if (e.keyCode === 27) _this3.onEsc();\n        };\n\n        return h('li', {\n          attrs: {\n            role: 'button',\n            disabled: item.disabled,\n            tabIndex: '0'\n          },\n          on: {\n            'click': onClick,\n            'keydown': onKeyDown\n          },\n          'class': cls,\n          key: index\n        }, [item.value]);\n      });\n    },\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.setState({\n        active: true\n      });\n\n      this.__emit('mouseenter', e);\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      this.setState({\n        active: false\n      });\n    },\n    scrollToSelected: function scrollToSelected(duration) {\n      // move to selected item\n      var select = this.$el;\n      var list = this.$refs.list;\n\n      if (!list) {\n        return;\n      }\n\n      var index = this.selectedIndex;\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      var topOption = list.children[index];\n      var to = topOption.offsetTop;\n      scrollTo(select, to, duration);\n    }\n  },\n  render: function render() {\n    var _cls;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        options = this.options,\n        active = this.active;\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-select', 1), _defineProperty(_cls, prefixCls + '-select-active', active), _cls);\n    return h('div', {\n      'class': cls,\n      on: {\n        'mouseenter': this.handleMouseEnter,\n        'mouseleave': this.handleMouseLeave\n      }\n    }, [h('ul', {\n      ref: 'list'\n    }, [this.getOptions()])]);\n  }\n};\nexport default Select;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-time-picker/Select.js"],"names":["_defineProperty","PropTypes","BaseMixin","classnames","raf","noop","scrollTo","element","to","duration","scrollTop","difference","perTick","Select","mixins","props","prefixCls","string","options","array","selectedIndex","number","type","data","active","mounted","_this","$nextTick","scrollToSelected","watch","_this2","methods","onSelect","value","__emit","onEsc","e","getOptions","_this3","h","$createElement","map","item","index","_classnames","cls","disabled","onClick","onKeyDown","keyCode","attrs","role","tabIndex","on","key","handleMouseEnter","setState","handleMouseLeave","select","$el","list","$refs","topOption","children","offsetTop","render","_cls","arguments","length","ref"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport classnames from 'classnames';\nimport raf from 'raf';\n\nfunction noop() {}\nvar scrollTo = function scrollTo(element, to, duration) {\n  // jump to target if duration zero\n  if (duration <= 0) {\n    raf(function () {\n      element.scrollTop = to;\n    });\n    return;\n  }\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n\n  raf(function () {\n    element.scrollTop += perTick;\n    if (element.scrollTop === to) return;\n    scrollTo(element, to, duration - 10);\n  });\n};\n\nvar Select = {\n  mixins: [BaseMixin],\n  props: {\n    prefixCls: PropTypes.string,\n    options: PropTypes.array,\n    selectedIndex: PropTypes.number,\n    type: PropTypes.string\n    // onSelect: PropTypes.func,\n    // onMouseEnter: PropTypes.func,\n  },\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // jump to selected option\n      _this.scrollToSelected(0);\n    });\n  },\n\n  watch: {\n    selectedIndex: function selectedIndex() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // smooth scroll to selected option\n        _this2.scrollToSelected(120);\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect(value) {\n      var type = this.type;\n\n      this.__emit('select', type, value);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getOptions: function getOptions() {\n      var _this3 = this;\n\n      var h = this.$createElement;\n      var options = this.options,\n          selectedIndex = this.selectedIndex,\n          prefixCls = this.prefixCls;\n\n      return options.map(function (item, index) {\n        var _classnames;\n\n        var cls = classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-select-option-selected', selectedIndex === index), _defineProperty(_classnames, prefixCls + '-select-option-disabled', item.disabled), _classnames));\n        var onClick = item.disabled ? noop : function () {\n          _this3.onSelect(item.value);\n        };\n        var onKeyDown = function onKeyDown(e) {\n          if (e.keyCode === 13) onClick();else if (e.keyCode === 27) _this3.onEsc();\n        };\n        return h(\n          'li',\n          {\n            attrs: {\n              role: 'button',\n\n              disabled: item.disabled,\n              tabIndex: '0'\n            },\n            on: {\n              'click': onClick,\n              'keydown': onKeyDown\n            },\n\n            'class': cls,\n            key: index },\n          [item.value]\n        );\n      });\n    },\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.setState({ active: true });\n      this.__emit('mouseenter', e);\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      this.setState({ active: false });\n    },\n    scrollToSelected: function scrollToSelected(duration) {\n      // move to selected item\n      var select = this.$el;\n      var list = this.$refs.list;\n      if (!list) {\n        return;\n      }\n      var index = this.selectedIndex;\n      if (index < 0) {\n        index = 0;\n      }\n      var topOption = list.children[index];\n      var to = topOption.offsetTop;\n      scrollTo(select, to, duration);\n    }\n  },\n\n  render: function render() {\n    var _cls;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        options = this.options,\n        active = this.active;\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-select', 1), _defineProperty(_cls, prefixCls + '-select-active', active), _cls);\n\n    return h(\n      'div',\n      { 'class': cls, on: {\n          'mouseenter': this.handleMouseEnter,\n          'mouseleave': this.handleMouseLeave\n        }\n      },\n      [h(\n        'ul',\n        { ref: 'list' },\n        [this.getOptions()]\n      )]\n    );\n  }\n};\n\nexport default Select;"]},"metadata":{},"sourceType":"module"}