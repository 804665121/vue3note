{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classnames from 'classnames';\nimport omit from 'omit.js';\nimport VcDrawer from '../vc-drawer/src';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport Icon from '../icon';\nimport { getComponentFromProp, getOptionProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\nvar Drawer = {\n  name: 'ADrawer',\n  props: {\n    closable: PropTypes.bool.def(true),\n    destroyOnClose: PropTypes.bool,\n    getContainer: PropTypes.any,\n    maskClosable: PropTypes.bool.def(true),\n    mask: PropTypes.bool.def(true),\n    maskStyle: PropTypes.object,\n    wrapStyle: PropTypes.object,\n    bodyStyle: PropTypes.object,\n    headerStyle: PropTypes.object,\n    drawerStyle: PropTypes.object,\n    title: PropTypes.any,\n    visible: PropTypes.bool,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).def(256),\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).def(256),\n    zIndex: PropTypes.number,\n    prefixCls: PropTypes.string,\n    placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left']).def('right'),\n    level: PropTypes.any.def(null),\n    wrapClassName: PropTypes.string,\n    // not use class like react, vue will add class to root dom\n    handle: PropTypes.any,\n    afterVisibleChange: PropTypes.func,\n    keyboard: PropTypes.bool.def(true)\n  },\n  mixins: [BaseMixin],\n  data: function data() {\n    this.destroyClose = false;\n    this.preVisible = this.$props.visible;\n    return {\n      _push: false\n    };\n  },\n  inject: {\n    parentDrawer: {\n      'default': function _default() {\n        return null;\n      }\n    },\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  provide: function provide() {\n    return {\n      parentDrawer: this\n    };\n  },\n  mounted: function mounted() {\n    // fix: delete drawer in child and re-render, no push started.\n    // <Drawer>{show && <Drawer />}</Drawer>\n    var visible = this.visible;\n\n    if (visible && this.parentDrawer) {\n      this.parentDrawer.push();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.preVisible !== _this.visible && _this.parentDrawer) {\n        if (_this.visible) {\n          _this.parentDrawer.push();\n        } else {\n          _this.parentDrawer.pull();\n        }\n      }\n\n      _this.preVisible = _this.visible;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    // unmount drawer in child, clear push.\n    if (this.parentDrawer) {\n      this.parentDrawer.pull();\n    }\n  },\n  methods: {\n    domFocus: function domFocus() {\n      if (this.$refs.vcDrawer) {\n        this.$refs.vcDrawer.domFocus();\n      }\n    },\n    close: function close(e) {\n      this.$emit('close', e);\n    },\n    // onMaskClick(e) {\n    //   if (!this.maskClosable) {\n    //     return;\n    //   }\n    //   this.close(e);\n    // },\n    push: function push() {\n      this.setState({\n        _push: true\n      });\n    },\n    pull: function pull() {\n      var _this2 = this;\n\n      this.setState({\n        _push: false\n      }, function () {\n        _this2.domFocus();\n      });\n    },\n    onDestroyTransitionEnd: function onDestroyTransitionEnd() {\n      var isDestroyOnClose = this.getDestroyOnClose();\n\n      if (!isDestroyOnClose) {\n        return;\n      }\n\n      if (!this.visible) {\n        this.destroyClose = true;\n        this.$forceUpdate();\n      }\n    },\n    getDestroyOnClose: function getDestroyOnClose() {\n      return this.destroyOnClose && !this.visible;\n    },\n    // get drawar push width or height\n    getPushTransform: function getPushTransform(placement) {\n      if (placement === 'left' || placement === 'right') {\n        return 'translateX(' + (placement === 'left' ? 180 : -180) + 'px)';\n      }\n\n      if (placement === 'top' || placement === 'bottom') {\n        return 'translateY(' + (placement === 'top' ? 180 : -180) + 'px)';\n      }\n    },\n    getRcDrawerStyle: function getRcDrawerStyle() {\n      var _$props = this.$props,\n          zIndex = _$props.zIndex,\n          placement = _$props.placement,\n          wrapStyle = _$props.wrapStyle;\n      var push = this.$data._push;\n      return _extends({\n        zIndex: zIndex,\n        transform: push ? this.getPushTransform(placement) : undefined\n      }, wrapStyle);\n    },\n    renderHeader: function renderHeader(prefixCls) {\n      var h = this.$createElement;\n      var _$props2 = this.$props,\n          closable = _$props2.closable,\n          headerStyle = _$props2.headerStyle;\n      var title = getComponentFromProp(this, 'title');\n\n      if (!title && !closable) {\n        return null;\n      }\n\n      var headerClassName = title ? prefixCls + '-header' : prefixCls + '-header-no-title';\n      return h('div', {\n        'class': headerClassName,\n        style: headerStyle\n      }, [title && h('div', {\n        'class': prefixCls + '-title'\n      }, [title]), closable ? this.renderCloseIcon(prefixCls) : null]);\n    },\n    renderCloseIcon: function renderCloseIcon(prefixCls) {\n      var h = this.$createElement;\n      var closable = this.closable;\n      return closable && h('button', {\n        key: 'closer',\n        on: {\n          'click': this.close\n        },\n        attrs: {\n          'aria-label': 'Close'\n        },\n        'class': prefixCls + '-close'\n      }, [h(Icon, {\n        attrs: {\n          type: 'close'\n        }\n      })]);\n    },\n    // render drawer body dom\n    renderBody: function renderBody(prefixCls) {\n      var h = this.$createElement;\n\n      if (this.destroyClose && !this.visible) {\n        return null;\n      }\n\n      this.destroyClose = false;\n      var _$props3 = this.$props,\n          bodyStyle = _$props3.bodyStyle,\n          drawerStyle = _$props3.drawerStyle;\n      var containerStyle = {};\n      var isDestroyOnClose = this.getDestroyOnClose();\n\n      if (isDestroyOnClose) {\n        // Increase the opacity transition, delete children after closing.\n        containerStyle.opacity = 0;\n        containerStyle.transition = 'opacity .3s';\n      }\n\n      return h('div', {\n        'class': prefixCls + '-wrapper-body',\n        style: _extends({}, containerStyle, drawerStyle),\n        on: {\n          'transitionend': this.onDestroyTransitionEnd\n        }\n      }, [this.renderHeader(prefixCls), h('div', {\n        key: 'body',\n        'class': prefixCls + '-body',\n        style: bodyStyle\n      }, [this.$slots['default']])]);\n    }\n  },\n  render: function render() {\n    var _classnames;\n\n    var h = arguments[0];\n    var props = getOptionProps(this);\n\n    var customizePrefixCls = props.prefixCls,\n        width = props.width,\n        height = props.height,\n        visible = props.visible,\n        placement = props.placement,\n        wrapClassName = props.wrapClassName,\n        mask = props.mask,\n        rest = _objectWithoutProperties(props, ['prefixCls', 'width', 'height', 'visible', 'placement', 'wrapClassName', 'mask']);\n\n    var haveMask = mask ? '' : 'no-mask';\n    var offsetStyle = {};\n\n    if (placement === 'left' || placement === 'right') {\n      offsetStyle.width = typeof width === 'number' ? width + 'px' : width;\n    } else {\n      offsetStyle.height = typeof height === 'number' ? height + 'px' : height;\n    }\n\n    var handler = getComponentFromProp(this, 'handle') || false;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('drawer', customizePrefixCls);\n    var vcDrawerProps = {\n      ref: 'vcDrawer',\n      props: _extends({}, omit(rest, ['closable', 'destroyOnClose', 'drawerStyle', 'headerStyle', 'bodyStyle', 'title', 'push', 'visible', 'getPopupContainer', 'rootPrefixCls', 'getPrefixCls', 'renderEmpty', 'csp', 'pageHeader', 'autoInsertSpaceInButton']), {\n        handler: handler\n      }, offsetStyle, {\n        prefixCls: prefixCls,\n        open: visible,\n        showMask: mask,\n        placement: placement,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, wrapClassName, !!wrapClassName), _defineProperty(_classnames, haveMask, !!haveMask), _classnames)),\n        wrapStyle: this.getRcDrawerStyle()\n      }),\n      on: _extends({}, getListeners(this))\n    };\n    return h(VcDrawer, vcDrawerProps, [this.renderBody(prefixCls)]);\n  }\n};\n/* istanbul ignore next */\n\nDrawer.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(Drawer.name, Drawer);\n};\n\nexport default Drawer;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/drawer/index.js"],"names":["_defineProperty","_objectWithoutProperties","_extends","classnames","omit","VcDrawer","PropTypes","BaseMixin","Icon","getComponentFromProp","getOptionProps","getListeners","ConfigConsumerProps","Base","Drawer","name","props","closable","bool","def","destroyOnClose","getContainer","any","maskClosable","mask","maskStyle","object","wrapStyle","bodyStyle","headerStyle","drawerStyle","title","visible","width","oneOfType","string","number","height","zIndex","prefixCls","placement","oneOf","level","wrapClassName","handle","afterVisibleChange","func","keyboard","mixins","data","destroyClose","preVisible","$props","_push","inject","parentDrawer","_default","configProvider","provide","mounted","push","updated","_this","$nextTick","pull","beforeDestroy","methods","domFocus","$refs","vcDrawer","close","e","$emit","setState","_this2","onDestroyTransitionEnd","isDestroyOnClose","getDestroyOnClose","$forceUpdate","getPushTransform","getRcDrawerStyle","_$props","$data","transform","undefined","renderHeader","h","$createElement","_$props2","headerClassName","style","renderCloseIcon","key","on","attrs","type","renderBody","_$props3","containerStyle","opacity","transition","$slots","render","_classnames","arguments","customizePrefixCls","rest","haveMask","offsetStyle","handler","getPrefixCls","vcDrawerProps","ref","open","showMask","className","install","Vue","use","component"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classnames from 'classnames';\nimport omit from 'omit.js';\nimport VcDrawer from '../vc-drawer/src';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport Icon from '../icon';\nimport { getComponentFromProp, getOptionProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\n\nvar Drawer = {\n  name: 'ADrawer',\n  props: {\n    closable: PropTypes.bool.def(true),\n    destroyOnClose: PropTypes.bool,\n    getContainer: PropTypes.any,\n    maskClosable: PropTypes.bool.def(true),\n    mask: PropTypes.bool.def(true),\n    maskStyle: PropTypes.object,\n    wrapStyle: PropTypes.object,\n    bodyStyle: PropTypes.object,\n    headerStyle: PropTypes.object,\n    drawerStyle: PropTypes.object,\n    title: PropTypes.any,\n    visible: PropTypes.bool,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).def(256),\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).def(256),\n    zIndex: PropTypes.number,\n    prefixCls: PropTypes.string,\n    placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left']).def('right'),\n    level: PropTypes.any.def(null),\n    wrapClassName: PropTypes.string, // not use class like react, vue will add class to root dom\n    handle: PropTypes.any,\n    afterVisibleChange: PropTypes.func,\n    keyboard: PropTypes.bool.def(true)\n  },\n  mixins: [BaseMixin],\n  data: function data() {\n    this.destroyClose = false;\n    this.preVisible = this.$props.visible;\n    return {\n      _push: false\n    };\n  },\n\n  inject: {\n    parentDrawer: {\n      'default': function _default() {\n        return null;\n      }\n    },\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  provide: function provide() {\n    return {\n      parentDrawer: this\n    };\n  },\n  mounted: function mounted() {\n    // fix: delete drawer in child and re-render, no push started.\n    // <Drawer>{show && <Drawer />}</Drawer>\n    var visible = this.visible;\n\n    if (visible && this.parentDrawer) {\n      this.parentDrawer.push();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.preVisible !== _this.visible && _this.parentDrawer) {\n        if (_this.visible) {\n          _this.parentDrawer.push();\n        } else {\n          _this.parentDrawer.pull();\n        }\n      }\n      _this.preVisible = _this.visible;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    // unmount drawer in child, clear push.\n    if (this.parentDrawer) {\n      this.parentDrawer.pull();\n    }\n  },\n\n  methods: {\n    domFocus: function domFocus() {\n      if (this.$refs.vcDrawer) {\n        this.$refs.vcDrawer.domFocus();\n      }\n    },\n    close: function close(e) {\n      this.$emit('close', e);\n    },\n\n    // onMaskClick(e) {\n    //   if (!this.maskClosable) {\n    //     return;\n    //   }\n    //   this.close(e);\n    // },\n    push: function push() {\n      this.setState({\n        _push: true\n      });\n    },\n    pull: function pull() {\n      var _this2 = this;\n\n      this.setState({\n        _push: false\n      }, function () {\n        _this2.domFocus();\n      });\n    },\n    onDestroyTransitionEnd: function onDestroyTransitionEnd() {\n      var isDestroyOnClose = this.getDestroyOnClose();\n      if (!isDestroyOnClose) {\n        return;\n      }\n      if (!this.visible) {\n        this.destroyClose = true;\n        this.$forceUpdate();\n      }\n    },\n    getDestroyOnClose: function getDestroyOnClose() {\n      return this.destroyOnClose && !this.visible;\n    },\n\n    // get drawar push width or height\n    getPushTransform: function getPushTransform(placement) {\n      if (placement === 'left' || placement === 'right') {\n        return 'translateX(' + (placement === 'left' ? 180 : -180) + 'px)';\n      }\n      if (placement === 'top' || placement === 'bottom') {\n        return 'translateY(' + (placement === 'top' ? 180 : -180) + 'px)';\n      }\n    },\n    getRcDrawerStyle: function getRcDrawerStyle() {\n      var _$props = this.$props,\n          zIndex = _$props.zIndex,\n          placement = _$props.placement,\n          wrapStyle = _$props.wrapStyle;\n      var push = this.$data._push;\n\n      return _extends({\n        zIndex: zIndex,\n        transform: push ? this.getPushTransform(placement) : undefined\n      }, wrapStyle);\n    },\n    renderHeader: function renderHeader(prefixCls) {\n      var h = this.$createElement;\n      var _$props2 = this.$props,\n          closable = _$props2.closable,\n          headerStyle = _$props2.headerStyle;\n\n      var title = getComponentFromProp(this, 'title');\n      if (!title && !closable) {\n        return null;\n      }\n\n      var headerClassName = title ? prefixCls + '-header' : prefixCls + '-header-no-title';\n      return h(\n        'div',\n        { 'class': headerClassName, style: headerStyle },\n        [title && h(\n          'div',\n          { 'class': prefixCls + '-title' },\n          [title]\n        ), closable ? this.renderCloseIcon(prefixCls) : null]\n      );\n    },\n    renderCloseIcon: function renderCloseIcon(prefixCls) {\n      var h = this.$createElement;\n      var closable = this.closable;\n\n      return closable && h(\n        'button',\n        { key: 'closer', on: {\n            'click': this.close\n          },\n          attrs: { 'aria-label': 'Close' },\n          'class': prefixCls + '-close' },\n        [h(Icon, {\n          attrs: { type: 'close' }\n        })]\n      );\n    },\n\n    // render drawer body dom\n    renderBody: function renderBody(prefixCls) {\n      var h = this.$createElement;\n\n      if (this.destroyClose && !this.visible) {\n        return null;\n      }\n      this.destroyClose = false;\n      var _$props3 = this.$props,\n          bodyStyle = _$props3.bodyStyle,\n          drawerStyle = _$props3.drawerStyle;\n\n\n      var containerStyle = {};\n\n      var isDestroyOnClose = this.getDestroyOnClose();\n      if (isDestroyOnClose) {\n        // Increase the opacity transition, delete children after closing.\n        containerStyle.opacity = 0;\n        containerStyle.transition = 'opacity .3s';\n      }\n\n      return h(\n        'div',\n        {\n          'class': prefixCls + '-wrapper-body',\n          style: _extends({}, containerStyle, drawerStyle),\n          on: {\n            'transitionend': this.onDestroyTransitionEnd\n          }\n        },\n        [this.renderHeader(prefixCls), h(\n          'div',\n          { key: 'body', 'class': prefixCls + '-body', style: bodyStyle },\n          [this.$slots['default']]\n        )]\n      );\n    }\n  },\n  render: function render() {\n    var _classnames;\n\n    var h = arguments[0];\n\n    var props = getOptionProps(this);\n\n    var customizePrefixCls = props.prefixCls,\n        width = props.width,\n        height = props.height,\n        visible = props.visible,\n        placement = props.placement,\n        wrapClassName = props.wrapClassName,\n        mask = props.mask,\n        rest = _objectWithoutProperties(props, ['prefixCls', 'width', 'height', 'visible', 'placement', 'wrapClassName', 'mask']);\n\n    var haveMask = mask ? '' : 'no-mask';\n    var offsetStyle = {};\n    if (placement === 'left' || placement === 'right') {\n      offsetStyle.width = typeof width === 'number' ? width + 'px' : width;\n    } else {\n      offsetStyle.height = typeof height === 'number' ? height + 'px' : height;\n    }\n    var handler = getComponentFromProp(this, 'handle') || false;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('drawer', customizePrefixCls);\n\n    var vcDrawerProps = {\n      ref: 'vcDrawer',\n      props: _extends({}, omit(rest, ['closable', 'destroyOnClose', 'drawerStyle', 'headerStyle', 'bodyStyle', 'title', 'push', 'visible', 'getPopupContainer', 'rootPrefixCls', 'getPrefixCls', 'renderEmpty', 'csp', 'pageHeader', 'autoInsertSpaceInButton']), {\n        handler: handler\n      }, offsetStyle, {\n        prefixCls: prefixCls,\n        open: visible,\n        showMask: mask,\n        placement: placement,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, wrapClassName, !!wrapClassName), _defineProperty(_classnames, haveMask, !!haveMask), _classnames)),\n        wrapStyle: this.getRcDrawerStyle()\n      }),\n      on: _extends({}, getListeners(this))\n    };\n    return h(\n      VcDrawer,\n      vcDrawerProps,\n      [this.renderBody(prefixCls)]\n    );\n  }\n};\n\n/* istanbul ignore next */\nDrawer.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(Drawer.name, Drawer);\n};\n\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}