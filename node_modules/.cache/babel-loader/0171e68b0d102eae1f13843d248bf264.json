{"ast":null,"code":"// based on rc-resize-observer 0.1.3\nimport ResizeObserver from 'resize-observer-polyfill'; // Still need to be compatible with React 15, we use class component here\n\nvar VueResizeObserver = {\n  name: 'ResizeObserver',\n  props: {\n    disabled: Boolean\n  },\n  data: function data() {\n    this.currentElement = null;\n    this.resizeObserver = null;\n    return {\n      width: 0,\n      height: 0\n    };\n  },\n  mounted: function mounted() {\n    this.onComponentUpdated();\n  },\n  updated: function updated() {\n    this.onComponentUpdated();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroyObserver();\n  },\n  methods: {\n    onComponentUpdated: function onComponentUpdated() {\n      var disabled = this.$props.disabled; // Unregister if disabled\n\n      if (disabled) {\n        this.destroyObserver();\n        return;\n      } // Unregister if element changed\n\n\n      var element = this.$el;\n      var elementChanged = element !== this.currentElement;\n\n      if (elementChanged) {\n        this.destroyObserver();\n        this.currentElement = element;\n      }\n\n      if (!this.resizeObserver && element) {\n        this.resizeObserver = new ResizeObserver(this.onResize);\n        this.resizeObserver.observe(element);\n      }\n    },\n    onResize: function onResize(entries) {\n      var target = entries[0].target;\n\n      var _target$getBoundingCl = target.getBoundingClientRect(),\n          width = _target$getBoundingCl.width,\n          height = _target$getBoundingCl.height;\n      /**\n       * Resize observer trigger when content size changed.\n       * In most case we just care about element size,\n       * let's use `boundary` instead of `contentRect` here to avoid shaking.\n       */\n\n\n      var fixedWidth = Math.floor(width);\n      var fixedHeight = Math.floor(height);\n\n      if (this.width !== fixedWidth || this.height !== fixedHeight) {\n        var size = {\n          width: fixedWidth,\n          height: fixedHeight\n        };\n        this.width = fixedWidth;\n        this.height = fixedHeight;\n        this.$emit('resize', size);\n      }\n    },\n    destroyObserver: function destroyObserver() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n        this.resizeObserver = null;\n      }\n    }\n  },\n  render: function render() {\n    return this.$slots['default'][0];\n  }\n};\nexport default VueResizeObserver;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-resize-observer/index.js"],"names":["ResizeObserver","VueResizeObserver","name","props","disabled","Boolean","data","currentElement","resizeObserver","width","height","mounted","onComponentUpdated","updated","beforeDestroy","destroyObserver","methods","$props","element","$el","elementChanged","onResize","observe","entries","target","_target$getBoundingCl","getBoundingClientRect","fixedWidth","Math","floor","fixedHeight","size","$emit","disconnect","render","$slots"],"mappings":"AAAA;AACA,OAAOA,cAAP,MAA2B,0BAA3B,C,CAEA;;AACA,IAAIC,iBAAiB,GAAG;AACtBC,EAAAA,IAAI,EAAE,gBADgB;AAEtBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAEC;AADL,GAFe;AAKtBC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,WAAO;AACLC,MAAAA,KAAK,EAAE,CADF;AAELC,MAAAA,MAAM,EAAE;AAFH,KAAP;AAID,GAZqB;AAatBC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,SAAKC,kBAAL;AACD,GAfqB;AAgBtBC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,SAAKD,kBAAL;AACD,GAlBqB;AAmBtBE,EAAAA,aAAa,EAAE,SAASA,aAAT,GAAyB;AACtC,SAAKC,eAAL;AACD,GArBqB;AAuBtBC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,kBAAkB,EAAE,SAASA,kBAAT,GAA8B;AAChD,UAAIR,QAAQ,GAAG,KAAKa,MAAL,CAAYb,QAA3B,CADgD,CAGhD;;AAEA,UAAIA,QAAJ,EAAc;AACZ,aAAKW,eAAL;AACA;AACD,OAR+C,CAUhD;;;AACA,UAAIG,OAAO,GAAG,KAAKC,GAAnB;AACA,UAAIC,cAAc,GAAGF,OAAO,KAAK,KAAKX,cAAtC;;AACA,UAAIa,cAAJ,EAAoB;AAClB,aAAKL,eAAL;AACA,aAAKR,cAAL,GAAsBW,OAAtB;AACD;;AAED,UAAI,CAAC,KAAKV,cAAN,IAAwBU,OAA5B,EAAqC;AACnC,aAAKV,cAAL,GAAsB,IAAIR,cAAJ,CAAmB,KAAKqB,QAAxB,CAAtB;AACA,aAAKb,cAAL,CAAoBc,OAApB,CAA4BJ,OAA5B;AACD;AACF,KAvBM;AAwBPG,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBE,OAAlB,EAA2B;AACnC,UAAIC,MAAM,GAAGD,OAAO,CAAC,CAAD,CAAP,CAAWC,MAAxB;;AAEA,UAAIC,qBAAqB,GAAGD,MAAM,CAACE,qBAAP,EAA5B;AAAA,UACIjB,KAAK,GAAGgB,qBAAqB,CAAChB,KADlC;AAAA,UAEIC,MAAM,GAAGe,qBAAqB,CAACf,MAFnC;AAGA;AACN;AACA;AACA;AACA;;;AAGM,UAAIiB,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWpB,KAAX,CAAjB;AACA,UAAIqB,WAAW,GAAGF,IAAI,CAACC,KAAL,CAAWnB,MAAX,CAAlB;;AAEA,UAAI,KAAKD,KAAL,KAAekB,UAAf,IAA6B,KAAKjB,MAAL,KAAgBoB,WAAjD,EAA8D;AAC5D,YAAIC,IAAI,GAAG;AAAEtB,UAAAA,KAAK,EAAEkB,UAAT;AAAqBjB,UAAAA,MAAM,EAAEoB;AAA7B,SAAX;AACA,aAAKrB,KAAL,GAAakB,UAAb;AACA,aAAKjB,MAAL,GAAcoB,WAAd;AACA,aAAKE,KAAL,CAAW,QAAX,EAAqBD,IAArB;AACD;AACF,KA9CM;AA+CPhB,IAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,UAAI,KAAKP,cAAT,EAAyB;AACvB,aAAKA,cAAL,CAAoByB,UAApB;AACA,aAAKzB,cAAL,GAAsB,IAAtB;AACD;AACF;AApDM,GAvBa;AA8EtB0B,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,WAAO,KAAKC,MAAL,CAAY,SAAZ,EAAuB,CAAvB,CAAP;AACD;AAhFqB,CAAxB;AAmFA,eAAelC,iBAAf","sourcesContent":["// based on rc-resize-observer 0.1.3\nimport ResizeObserver from 'resize-observer-polyfill';\n\n// Still need to be compatible with React 15, we use class component here\nvar VueResizeObserver = {\n  name: 'ResizeObserver',\n  props: {\n    disabled: Boolean\n  },\n  data: function data() {\n    this.currentElement = null;\n    this.resizeObserver = null;\n    return {\n      width: 0,\n      height: 0\n    };\n  },\n  mounted: function mounted() {\n    this.onComponentUpdated();\n  },\n  updated: function updated() {\n    this.onComponentUpdated();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroyObserver();\n  },\n\n  methods: {\n    onComponentUpdated: function onComponentUpdated() {\n      var disabled = this.$props.disabled;\n\n      // Unregister if disabled\n\n      if (disabled) {\n        this.destroyObserver();\n        return;\n      }\n\n      // Unregister if element changed\n      var element = this.$el;\n      var elementChanged = element !== this.currentElement;\n      if (elementChanged) {\n        this.destroyObserver();\n        this.currentElement = element;\n      }\n\n      if (!this.resizeObserver && element) {\n        this.resizeObserver = new ResizeObserver(this.onResize);\n        this.resizeObserver.observe(element);\n      }\n    },\n    onResize: function onResize(entries) {\n      var target = entries[0].target;\n\n      var _target$getBoundingCl = target.getBoundingClientRect(),\n          width = _target$getBoundingCl.width,\n          height = _target$getBoundingCl.height;\n      /**\n       * Resize observer trigger when content size changed.\n       * In most case we just care about element size,\n       * let's use `boundary` instead of `contentRect` here to avoid shaking.\n       */\n\n\n      var fixedWidth = Math.floor(width);\n      var fixedHeight = Math.floor(height);\n\n      if (this.width !== fixedWidth || this.height !== fixedHeight) {\n        var size = { width: fixedWidth, height: fixedHeight };\n        this.width = fixedWidth;\n        this.height = fixedHeight;\n        this.$emit('resize', size);\n      }\n    },\n    destroyObserver: function destroyObserver() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n        this.resizeObserver = null;\n      }\n    }\n  },\n\n  render: function render() {\n    return this.$slots['default'][0];\n  }\n};\n\nexport default VueResizeObserver;"]},"metadata":{},"sourceType":"module"}