{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { hasProp, getPropsData, isEmptyElement, initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport openAnimationFactory from './openAnimationFactory';\nimport { collapseProps } from './commonProps';\n\nfunction _toArray(activeKey) {\n  var currentActiveKey = activeKey;\n\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\n\nexport default {\n  name: 'Collapse',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'activeKey',\n    event: 'change'\n  },\n  props: initDefaultProps(collapseProps(), {\n    prefixCls: 'rc-collapse',\n    accordion: false,\n    destroyInactivePanel: false\n  }),\n  data: function data() {\n    var _$props = this.$props,\n        activeKey = _$props.activeKey,\n        defaultActiveKey = _$props.defaultActiveKey,\n        openAnimation = _$props.openAnimation,\n        prefixCls = _$props.prefixCls;\n    var currentActiveKey = defaultActiveKey;\n\n    if (hasProp(this, 'activeKey')) {\n      currentActiveKey = activeKey;\n    }\n\n    var currentOpenAnimations = openAnimation || openAnimationFactory(prefixCls);\n    return {\n      currentOpenAnimations: currentOpenAnimations,\n      stateActiveKey: _toArray(currentActiveKey)\n    };\n  },\n  watch: {\n    activeKey: function activeKey(val) {\n      this.setState({\n        stateActiveKey: _toArray(val)\n      });\n    },\n    openAnimation: function openAnimation(val) {\n      this.setState({\n        currentOpenAnimations: val\n      });\n    }\n  },\n  methods: {\n    onClickItem: function onClickItem(key) {\n      var activeKey = this.stateActiveKey;\n\n      if (this.accordion) {\n        activeKey = activeKey[0] === key ? [] : [key];\n      } else {\n        activeKey = [].concat(_toConsumableArray(activeKey));\n        var index = activeKey.indexOf(key);\n        var isActive = index > -1;\n\n        if (isActive) {\n          // remove active state\n          activeKey.splice(index, 1);\n        } else {\n          activeKey.push(key);\n        }\n      }\n\n      this.setActiveKey(activeKey);\n    },\n    getNewChild: function getNewChild(child, index) {\n      if (isEmptyElement(child)) return;\n      var activeKey = this.stateActiveKey;\n      var _$props2 = this.$props,\n          prefixCls = _$props2.prefixCls,\n          accordion = _$props2.accordion,\n          destroyInactivePanel = _$props2.destroyInactivePanel,\n          expandIcon = _$props2.expandIcon; // If there is no key provide, use the panel order as default key\n\n      var key = child.key || String(index);\n\n      var _getPropsData = getPropsData(child),\n          header = _getPropsData.header,\n          headerClass = _getPropsData.headerClass,\n          disabled = _getPropsData.disabled;\n\n      var isActive = false;\n\n      if (accordion) {\n        isActive = activeKey[0] === key;\n      } else {\n        isActive = activeKey.indexOf(key) > -1;\n      }\n\n      var panelEvents = {};\n\n      if (!disabled && disabled !== '') {\n        panelEvents = {\n          itemClick: this.onClickItem\n        };\n      }\n\n      var props = {\n        key: key,\n        props: {\n          panelKey: key,\n          header: header,\n          headerClass: headerClass,\n          isActive: isActive,\n          prefixCls: prefixCls,\n          destroyInactivePanel: destroyInactivePanel,\n          openAnimation: this.currentOpenAnimations,\n          accordion: accordion,\n          expandIcon: expandIcon\n        },\n        on: panelEvents\n      };\n      return cloneElement(child, props);\n    },\n    getItems: function getItems() {\n      var _this = this;\n\n      var newChildren = [];\n      this.$slots['default'] && this.$slots['default'].forEach(function (child, index) {\n        newChildren.push(_this.getNewChild(child, index));\n      });\n      return newChildren;\n    },\n    setActiveKey: function setActiveKey(activeKey) {\n      this.setState({\n        stateActiveKey: activeKey\n      });\n      this.$emit('change', this.accordion ? activeKey[0] : activeKey);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _$props3 = this.$props,\n        prefixCls = _$props3.prefixCls,\n        accordion = _$props3.accordion;\n\n    var collapseClassName = _defineProperty({}, prefixCls, true);\n\n    return h('div', {\n      'class': collapseClassName,\n      attrs: {\n        role: accordion ? 'tablist' : null\n      }\n    }, [this.getItems()]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-collapse/src/Collapse.js"],"names":["_defineProperty","_toConsumableArray","BaseMixin","hasProp","getPropsData","isEmptyElement","initDefaultProps","cloneElement","openAnimationFactory","collapseProps","_toArray","activeKey","currentActiveKey","Array","isArray","map","key","String","name","mixins","model","prop","event","props","prefixCls","accordion","destroyInactivePanel","data","_$props","$props","defaultActiveKey","openAnimation","currentOpenAnimations","stateActiveKey","watch","val","setState","methods","onClickItem","concat","index","indexOf","isActive","splice","push","setActiveKey","getNewChild","child","_$props2","expandIcon","_getPropsData","header","headerClass","disabled","panelEvents","itemClick","panelKey","on","getItems","_this","newChildren","$slots","forEach","$emit","render","h","arguments","_$props3","collapseClassName","attrs","role"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,sCAA5B;AACA,OAAOC,kBAAP,MAA+B,yCAA/B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,cAAhC,EAAgDC,gBAAhD,QAAwE,wBAAxE;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,SAASC,aAAT,QAA8B,eAA9B;;AAEA,SAASC,QAAT,CAAkBC,SAAlB,EAA6B;AAC3B,MAAIC,gBAAgB,GAAGD,SAAvB;;AACA,MAAI,CAACE,KAAK,CAACC,OAAN,CAAcF,gBAAd,CAAL,EAAsC;AACpCA,IAAAA,gBAAgB,GAAGA,gBAAgB,GAAG,CAACA,gBAAD,CAAH,GAAwB,EAA3D;AACD;;AACD,SAAOA,gBAAgB,CAACG,GAAjB,CAAqB,UAAUC,GAAV,EAAe;AACzC,WAAOC,MAAM,CAACD,GAAD,CAAb;AACD,GAFM,CAAP;AAGD;;AACD,eAAe;AACbE,EAAAA,IAAI,EAAE,UADO;AAEbC,EAAAA,MAAM,EAAE,CAACjB,SAAD,CAFK;AAGbkB,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,WADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GAHM;AAObC,EAAAA,KAAK,EAAEjB,gBAAgB,CAACG,aAAa,EAAd,EAAkB;AACvCe,IAAAA,SAAS,EAAE,aAD4B;AAEvCC,IAAAA,SAAS,EAAE,KAF4B;AAGvCC,IAAAA,oBAAoB,EAAE;AAHiB,GAAlB,CAPV;AAYbC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,QAAIC,OAAO,GAAG,KAAKC,MAAnB;AAAA,QACIlB,SAAS,GAAGiB,OAAO,CAACjB,SADxB;AAAA,QAEImB,gBAAgB,GAAGF,OAAO,CAACE,gBAF/B;AAAA,QAGIC,aAAa,GAAGH,OAAO,CAACG,aAH5B;AAAA,QAIIP,SAAS,GAAGI,OAAO,CAACJ,SAJxB;AAMA,QAAIZ,gBAAgB,GAAGkB,gBAAvB;;AACA,QAAI3B,OAAO,CAAC,IAAD,EAAO,WAAP,CAAX,EAAgC;AAC9BS,MAAAA,gBAAgB,GAAGD,SAAnB;AACD;;AACD,QAAIqB,qBAAqB,GAAGD,aAAa,IAAIvB,oBAAoB,CAACgB,SAAD,CAAjE;AACA,WAAO;AACLQ,MAAAA,qBAAqB,EAAEA,qBADlB;AAELC,MAAAA,cAAc,EAAEvB,QAAQ,CAACE,gBAAD;AAFnB,KAAP;AAID,GA5BY;AA8BbsB,EAAAA,KAAK,EAAE;AACLvB,IAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBwB,GAAnB,EAAwB;AACjC,WAAKC,QAAL,CAAc;AACZH,QAAAA,cAAc,EAAEvB,QAAQ,CAACyB,GAAD;AADZ,OAAd;AAGD,KALI;AAMLJ,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBI,GAAvB,EAA4B;AACzC,WAAKC,QAAL,CAAc;AACZJ,QAAAA,qBAAqB,EAAEG;AADX,OAAd;AAGD;AAVI,GA9BM;AA0CbE,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBtB,GAArB,EAA0B;AACrC,UAAIL,SAAS,GAAG,KAAKsB,cAArB;;AACA,UAAI,KAAKR,SAAT,EAAoB;AAClBd,QAAAA,SAAS,GAAGA,SAAS,CAAC,CAAD,CAAT,KAAiBK,GAAjB,GAAuB,EAAvB,GAA4B,CAACA,GAAD,CAAxC;AACD,OAFD,MAEO;AACLL,QAAAA,SAAS,GAAG,GAAG4B,MAAH,CAAUtC,kBAAkB,CAACU,SAAD,CAA5B,CAAZ;AACA,YAAI6B,KAAK,GAAG7B,SAAS,CAAC8B,OAAV,CAAkBzB,GAAlB,CAAZ;AACA,YAAI0B,QAAQ,GAAGF,KAAK,GAAG,CAAC,CAAxB;;AACA,YAAIE,QAAJ,EAAc;AACZ;AACA/B,UAAAA,SAAS,CAACgC,MAAV,CAAiBH,KAAjB,EAAwB,CAAxB;AACD,SAHD,MAGO;AACL7B,UAAAA,SAAS,CAACiC,IAAV,CAAe5B,GAAf;AACD;AACF;;AACD,WAAK6B,YAAL,CAAkBlC,SAAlB;AACD,KAjBM;AAkBPmC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,KAArB,EAA4BP,KAA5B,EAAmC;AAC9C,UAAInC,cAAc,CAAC0C,KAAD,CAAlB,EAA2B;AAC3B,UAAIpC,SAAS,GAAG,KAAKsB,cAArB;AACA,UAAIe,QAAQ,GAAG,KAAKnB,MAApB;AAAA,UACIL,SAAS,GAAGwB,QAAQ,CAACxB,SADzB;AAAA,UAEIC,SAAS,GAAGuB,QAAQ,CAACvB,SAFzB;AAAA,UAGIC,oBAAoB,GAAGsB,QAAQ,CAACtB,oBAHpC;AAAA,UAIIuB,UAAU,GAAGD,QAAQ,CAACC,UAJ1B,CAH8C,CAS9C;;AAEA,UAAIjC,GAAG,GAAG+B,KAAK,CAAC/B,GAAN,IAAaC,MAAM,CAACuB,KAAD,CAA7B;;AAEA,UAAIU,aAAa,GAAG9C,YAAY,CAAC2C,KAAD,CAAhC;AAAA,UACII,MAAM,GAAGD,aAAa,CAACC,MAD3B;AAAA,UAEIC,WAAW,GAAGF,aAAa,CAACE,WAFhC;AAAA,UAGIC,QAAQ,GAAGH,aAAa,CAACG,QAH7B;;AAKA,UAAIX,QAAQ,GAAG,KAAf;;AAEA,UAAIjB,SAAJ,EAAe;AACbiB,QAAAA,QAAQ,GAAG/B,SAAS,CAAC,CAAD,CAAT,KAAiBK,GAA5B;AACD,OAFD,MAEO;AACL0B,QAAAA,QAAQ,GAAG/B,SAAS,CAAC8B,OAAV,CAAkBzB,GAAlB,IAAyB,CAAC,CAArC;AACD;;AAED,UAAIsC,WAAW,GAAG,EAAlB;;AACA,UAAI,CAACD,QAAD,IAAaA,QAAQ,KAAK,EAA9B,EAAkC;AAChCC,QAAAA,WAAW,GAAG;AACZC,UAAAA,SAAS,EAAE,KAAKjB;AADJ,SAAd;AAGD;;AAED,UAAIf,KAAK,GAAG;AACVP,QAAAA,GAAG,EAAEA,GADK;AAEVO,QAAAA,KAAK,EAAE;AACLiC,UAAAA,QAAQ,EAAExC,GADL;AAELmC,UAAAA,MAAM,EAAEA,MAFH;AAGLC,UAAAA,WAAW,EAAEA,WAHR;AAILV,UAAAA,QAAQ,EAAEA,QAJL;AAKLlB,UAAAA,SAAS,EAAEA,SALN;AAMLE,UAAAA,oBAAoB,EAAEA,oBANjB;AAOLK,UAAAA,aAAa,EAAE,KAAKC,qBAPf;AAQLP,UAAAA,SAAS,EAAEA,SARN;AASLwB,UAAAA,UAAU,EAAEA;AATP,SAFG;AAaVQ,QAAAA,EAAE,EAAEH;AAbM,OAAZ;AAgBA,aAAO/C,YAAY,CAACwC,KAAD,EAAQxB,KAAR,CAAnB;AACD,KApEM;AAqEPmC,IAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIC,WAAW,GAAG,EAAlB;AACA,WAAKC,MAAL,CAAY,SAAZ,KAA0B,KAAKA,MAAL,CAAY,SAAZ,EAAuBC,OAAvB,CAA+B,UAAUf,KAAV,EAAiBP,KAAjB,EAAwB;AAC/EoB,QAAAA,WAAW,CAAChB,IAAZ,CAAiBe,KAAK,CAACb,WAAN,CAAkBC,KAAlB,EAAyBP,KAAzB,CAAjB;AACD,OAFyB,CAA1B;AAGA,aAAOoB,WAAP;AACD,KA7EM;AA8EPf,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBlC,SAAtB,EAAiC;AAC7C,WAAKyB,QAAL,CAAc;AAAEH,QAAAA,cAAc,EAAEtB;AAAlB,OAAd;AACA,WAAKoD,KAAL,CAAW,QAAX,EAAqB,KAAKtC,SAAL,GAAiBd,SAAS,CAAC,CAAD,CAA1B,GAAgCA,SAArD;AACD;AAjFM,GA1CI;AA6HbqD,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;AACA,QAAIC,QAAQ,GAAG,KAAKtC,MAApB;AAAA,QACIL,SAAS,GAAG2C,QAAQ,CAAC3C,SADzB;AAAA,QAEIC,SAAS,GAAG0C,QAAQ,CAAC1C,SAFzB;;AAIA,QAAI2C,iBAAiB,GAAGpE,eAAe,CAAC,EAAD,EAAKwB,SAAL,EAAgB,IAAhB,CAAvC;;AACA,WAAOyC,CAAC,CACN,KADM,EAEN;AAAE,eAASG,iBAAX;AAA8BC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,IAAI,EAAE7C,SAAS,GAAG,SAAH,GAAe;AAAhC;AAArC,KAFM,EAIN,CAAC,KAAKiC,QAAL,EAAD,CAJM,CAAR;AAMD;AA1IY,CAAf","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { hasProp, getPropsData, isEmptyElement, initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport openAnimationFactory from './openAnimationFactory';\nimport { collapseProps } from './commonProps';\n\nfunction _toArray(activeKey) {\n  var currentActiveKey = activeKey;\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\nexport default {\n  name: 'Collapse',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'activeKey',\n    event: 'change'\n  },\n  props: initDefaultProps(collapseProps(), {\n    prefixCls: 'rc-collapse',\n    accordion: false,\n    destroyInactivePanel: false\n  }),\n  data: function data() {\n    var _$props = this.$props,\n        activeKey = _$props.activeKey,\n        defaultActiveKey = _$props.defaultActiveKey,\n        openAnimation = _$props.openAnimation,\n        prefixCls = _$props.prefixCls;\n\n    var currentActiveKey = defaultActiveKey;\n    if (hasProp(this, 'activeKey')) {\n      currentActiveKey = activeKey;\n    }\n    var currentOpenAnimations = openAnimation || openAnimationFactory(prefixCls);\n    return {\n      currentOpenAnimations: currentOpenAnimations,\n      stateActiveKey: _toArray(currentActiveKey)\n    };\n  },\n\n  watch: {\n    activeKey: function activeKey(val) {\n      this.setState({\n        stateActiveKey: _toArray(val)\n      });\n    },\n    openAnimation: function openAnimation(val) {\n      this.setState({\n        currentOpenAnimations: val\n      });\n    }\n  },\n  methods: {\n    onClickItem: function onClickItem(key) {\n      var activeKey = this.stateActiveKey;\n      if (this.accordion) {\n        activeKey = activeKey[0] === key ? [] : [key];\n      } else {\n        activeKey = [].concat(_toConsumableArray(activeKey));\n        var index = activeKey.indexOf(key);\n        var isActive = index > -1;\n        if (isActive) {\n          // remove active state\n          activeKey.splice(index, 1);\n        } else {\n          activeKey.push(key);\n        }\n      }\n      this.setActiveKey(activeKey);\n    },\n    getNewChild: function getNewChild(child, index) {\n      if (isEmptyElement(child)) return;\n      var activeKey = this.stateActiveKey;\n      var _$props2 = this.$props,\n          prefixCls = _$props2.prefixCls,\n          accordion = _$props2.accordion,\n          destroyInactivePanel = _$props2.destroyInactivePanel,\n          expandIcon = _$props2.expandIcon;\n\n      // If there is no key provide, use the panel order as default key\n\n      var key = child.key || String(index);\n\n      var _getPropsData = getPropsData(child),\n          header = _getPropsData.header,\n          headerClass = _getPropsData.headerClass,\n          disabled = _getPropsData.disabled;\n\n      var isActive = false;\n\n      if (accordion) {\n        isActive = activeKey[0] === key;\n      } else {\n        isActive = activeKey.indexOf(key) > -1;\n      }\n\n      var panelEvents = {};\n      if (!disabled && disabled !== '') {\n        panelEvents = {\n          itemClick: this.onClickItem\n        };\n      }\n\n      var props = {\n        key: key,\n        props: {\n          panelKey: key,\n          header: header,\n          headerClass: headerClass,\n          isActive: isActive,\n          prefixCls: prefixCls,\n          destroyInactivePanel: destroyInactivePanel,\n          openAnimation: this.currentOpenAnimations,\n          accordion: accordion,\n          expandIcon: expandIcon\n        },\n        on: panelEvents\n      };\n\n      return cloneElement(child, props);\n    },\n    getItems: function getItems() {\n      var _this = this;\n\n      var newChildren = [];\n      this.$slots['default'] && this.$slots['default'].forEach(function (child, index) {\n        newChildren.push(_this.getNewChild(child, index));\n      });\n      return newChildren;\n    },\n    setActiveKey: function setActiveKey(activeKey) {\n      this.setState({ stateActiveKey: activeKey });\n      this.$emit('change', this.accordion ? activeKey[0] : activeKey);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _$props3 = this.$props,\n        prefixCls = _$props3.prefixCls,\n        accordion = _$props3.accordion;\n\n    var collapseClassName = _defineProperty({}, prefixCls, true);\n    return h(\n      'div',\n      { 'class': collapseClassName, attrs: { role: accordion ? 'tablist' : null }\n      },\n      [this.getItems()]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}