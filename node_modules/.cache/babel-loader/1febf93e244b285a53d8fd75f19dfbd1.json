{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport { measureScrollbar } from './utils';\nimport BaseTable from './BaseTable';\nexport default {\n  name: 'BodyTable',\n  props: {\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    handleBodyScroll: PropTypes.func.isRequired,\n    handleWheel: PropTypes.func.isRequired,\n    getRowKey: PropTypes.func.isRequired,\n    expander: PropTypes.object.isRequired,\n    isAnyColumnsFixed: PropTypes.bool\n  },\n  inject: {\n    table: {\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _table = this.table,\n        prefixCls = _table.prefixCls,\n        scroll = _table.scroll;\n    var columns = this.columns,\n        fixed = this.fixed,\n        tableClassName = this.tableClassName,\n        getRowKey = this.getRowKey,\n        handleBodyScroll = this.handleBodyScroll,\n        handleWheel = this.handleWheel,\n        expander = this.expander,\n        isAnyColumnsFixed = this.isAnyColumnsFixed;\n    var _table2 = this.table,\n        useFixedHeader = _table2.useFixedHeader,\n        saveRef = _table2.saveRef;\n\n    var bodyStyle = _extends({}, this.table.bodyStyle);\n\n    var innerBodyStyle = {};\n\n    if (scroll.x || fixed) {\n      bodyStyle.overflowX = bodyStyle.overflowX || 'scroll'; // Fix weired webkit render bug\n      // https://github.com/ant-design/ant-design/issues/7783\n\n      bodyStyle.WebkitTransform = 'translate3d (0, 0, 0)';\n    }\n\n    if (scroll.y) {\n      // maxHeight will make fixed-Table scrolling not working\n      // so we only set maxHeight to body-Table here\n      var maxHeight = bodyStyle.maxHeight || scroll.y;\n      maxHeight = typeof maxHeight === 'number' ? maxHeight + 'px' : maxHeight;\n\n      if (fixed) {\n        innerBodyStyle.maxHeight = maxHeight;\n        innerBodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      } else {\n        bodyStyle.maxHeight = maxHeight;\n      }\n\n      bodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      useFixedHeader = true; // Add negative margin bottom for scroll bar overflow bug\n\n      var scrollbarWidth = measureScrollbar({\n        direction: 'vertical'\n      });\n\n      if (scrollbarWidth > 0 && fixed) {\n        bodyStyle.marginBottom = '-' + scrollbarWidth + 'px';\n        bodyStyle.paddingBottom = '0px';\n      }\n    }\n\n    var baseTable = h(BaseTable, {\n      attrs: {\n        tableClassName: tableClassName,\n        hasHead: !useFixedHeader,\n        hasBody: true,\n        fixed: fixed,\n        columns: columns,\n        expander: expander,\n        getRowKey: getRowKey,\n        isAnyColumnsFixed: isAnyColumnsFixed\n      }\n    });\n\n    if (fixed && columns.length) {\n      var refName = void 0;\n\n      if (columns[0].fixed === 'left' || columns[0].fixed === true) {\n        refName = 'fixedColumnsBodyLeft';\n      } else if (columns[0].fixed === 'right') {\n        refName = 'fixedColumnsBodyRight';\n      }\n\n      delete bodyStyle.overflowX;\n      delete bodyStyle.overflowY;\n      return h('div', {\n        key: 'bodyTable',\n        'class': prefixCls + '-body-outer',\n        style: _extends({}, bodyStyle)\n      }, [h('div', _mergeJSXProps([{\n        'class': prefixCls + '-body-inner',\n        style: innerBodyStyle\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: saveRef(refName)\n        }]\n      }, {\n        on: {\n          'wheel': handleWheel,\n          'scroll': handleBodyScroll\n        }\n      }]), [baseTable])]);\n    } // Should provides `tabIndex` if use scroll to enable keyboard scroll\n\n\n    var useTabIndex = scroll && (scroll.x || scroll.y);\n    return h('div', _mergeJSXProps([{\n      attrs: {\n        tabIndex: useTabIndex ? -1 : undefined\n      },\n      key: 'bodyTable',\n      'class': prefixCls + '-body',\n      style: bodyStyle\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: saveRef('bodyTable')\n      }]\n    }, {\n      on: {\n        'wheel': handleWheel,\n        'scroll': handleBodyScroll\n      }\n    }]), [baseTable]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-table/src/BodyTable.js"],"names":["_mergeJSXProps","_extends","PropTypes","measureScrollbar","BaseTable","name","props","fixed","oneOfType","string","bool","columns","array","isRequired","tableClassName","handleBodyScroll","func","handleWheel","getRowKey","expander","object","isAnyColumnsFixed","inject","table","_default","render","h","arguments","_table","prefixCls","scroll","_table2","useFixedHeader","saveRef","bodyStyle","innerBodyStyle","x","overflowX","WebkitTransform","y","maxHeight","overflowY","scrollbarWidth","direction","marginBottom","paddingBottom","baseTable","attrs","hasHead","hasBody","length","refName","key","style","directives","value","on","useTabIndex","tabIndex","undefined"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport { measureScrollbar } from './utils';\nimport BaseTable from './BaseTable';\n\nexport default {\n  name: 'BodyTable',\n  props: {\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    handleBodyScroll: PropTypes.func.isRequired,\n    handleWheel: PropTypes.func.isRequired,\n    getRowKey: PropTypes.func.isRequired,\n    expander: PropTypes.object.isRequired,\n    isAnyColumnsFixed: PropTypes.bool\n  },\n  inject: {\n    table: { 'default': function _default() {\n        return {};\n      } }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _table = this.table,\n        prefixCls = _table.prefixCls,\n        scroll = _table.scroll;\n    var columns = this.columns,\n        fixed = this.fixed,\n        tableClassName = this.tableClassName,\n        getRowKey = this.getRowKey,\n        handleBodyScroll = this.handleBodyScroll,\n        handleWheel = this.handleWheel,\n        expander = this.expander,\n        isAnyColumnsFixed = this.isAnyColumnsFixed;\n    var _table2 = this.table,\n        useFixedHeader = _table2.useFixedHeader,\n        saveRef = _table2.saveRef;\n\n    var bodyStyle = _extends({}, this.table.bodyStyle);\n    var innerBodyStyle = {};\n\n    if (scroll.x || fixed) {\n      bodyStyle.overflowX = bodyStyle.overflowX || 'scroll';\n      // Fix weired webkit render bug\n      // https://github.com/ant-design/ant-design/issues/7783\n      bodyStyle.WebkitTransform = 'translate3d (0, 0, 0)';\n    }\n\n    if (scroll.y) {\n      // maxHeight will make fixed-Table scrolling not working\n      // so we only set maxHeight to body-Table here\n      var maxHeight = bodyStyle.maxHeight || scroll.y;\n      maxHeight = typeof maxHeight === 'number' ? maxHeight + 'px' : maxHeight;\n      if (fixed) {\n        innerBodyStyle.maxHeight = maxHeight;\n        innerBodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      } else {\n        bodyStyle.maxHeight = maxHeight;\n      }\n      bodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      useFixedHeader = true;\n\n      // Add negative margin bottom for scroll bar overflow bug\n      var scrollbarWidth = measureScrollbar({ direction: 'vertical' });\n      if (scrollbarWidth > 0 && fixed) {\n        bodyStyle.marginBottom = '-' + scrollbarWidth + 'px';\n        bodyStyle.paddingBottom = '0px';\n      }\n    }\n\n    var baseTable = h(BaseTable, {\n      attrs: {\n        tableClassName: tableClassName,\n        hasHead: !useFixedHeader,\n        hasBody: true,\n        fixed: fixed,\n        columns: columns,\n        expander: expander,\n        getRowKey: getRowKey,\n        isAnyColumnsFixed: isAnyColumnsFixed\n      }\n    });\n\n    if (fixed && columns.length) {\n      var refName = void 0;\n      if (columns[0].fixed === 'left' || columns[0].fixed === true) {\n        refName = 'fixedColumnsBodyLeft';\n      } else if (columns[0].fixed === 'right') {\n        refName = 'fixedColumnsBodyRight';\n      }\n      delete bodyStyle.overflowX;\n      delete bodyStyle.overflowY;\n      return h(\n        'div',\n        { key: 'bodyTable', 'class': prefixCls + '-body-outer', style: _extends({}, bodyStyle) },\n        [h(\n          'div',\n          _mergeJSXProps([{\n            'class': prefixCls + '-body-inner',\n            style: innerBodyStyle\n          }, {\n            directives: [{\n              name: 'ant-ref',\n              value: saveRef(refName)\n            }]\n          }, {\n            on: {\n              'wheel': handleWheel,\n              'scroll': handleBodyScroll\n            }\n          }]),\n          [baseTable]\n        )]\n      );\n    }\n    // Should provides `tabIndex` if use scroll to enable keyboard scroll\n    var useTabIndex = scroll && (scroll.x || scroll.y);\n\n    return h(\n      'div',\n      _mergeJSXProps([{\n        attrs: {\n          tabIndex: useTabIndex ? -1 : undefined\n        },\n        key: 'bodyTable',\n        'class': prefixCls + '-body',\n        style: bodyStyle\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: saveRef('bodyTable')\n        }]\n      }, {\n        on: {\n          'wheel': handleWheel,\n          'scroll': handleBodyScroll\n        }\n      }]),\n      [baseTable]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}