{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport KeyCode from '../_util/KeyCode';\nimport BaseMixin from '../_util/BaseMixin';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from '../_util/store';\nimport { noop, menuAllProps } from './util';\nimport { getComponentFromProp, getListeners } from '../_util/props-util';\nvar props = {\n  attribute: PropTypes.object,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  active: PropTypes.bool,\n  selectedKeys: PropTypes.array,\n  disabled: PropTypes.bool,\n  title: PropTypes.any,\n  index: PropTypes.number,\n  inlineIndent: PropTypes.number.def(24),\n  level: PropTypes.number.def(1),\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']).def('vertical'),\n  parentMenu: PropTypes.object,\n  multiple: PropTypes.bool,\n  value: PropTypes.any,\n  isSelected: PropTypes.bool,\n  manualRef: PropTypes.func.def(noop),\n  role: PropTypes.any,\n  subMenuKey: PropTypes.string,\n  itemIcon: PropTypes.any // clearSubMenuTimers: PropTypes.func.def(noop),\n\n};\nvar MenuItem = {\n  name: 'MenuItem',\n  props: props,\n  mixins: [BaseMixin],\n  isMenuItem: true,\n  created: function created() {\n    this.prevActive = this.active; // invoke customized ref to expose component to mixin\n\n    this.callRef();\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var _$props = _this.$props,\n          active = _$props.active,\n          parentMenu = _$props.parentMenu,\n          eventKey = _$props.eventKey;\n\n      if (!_this.prevActive && active && (!parentMenu || !parentMenu['scrolled-' + eventKey])) {\n        scrollIntoView(_this.$el, _this.parentMenu.$el, {\n          onlyScrollIfNeeded: true\n        });\n        parentMenu['scrolled-' + eventKey] = true;\n      } else if (parentMenu && parentMenu['scrolled-' + eventKey]) {\n        delete parentMenu['scrolled-' + eventKey];\n      }\n\n      _this.prevActive = active;\n    });\n    this.callRef();\n  },\n  beforeDestroy: function beforeDestroy() {\n    var props = this.$props;\n\n    this.__emit('destroy', props.eventKey);\n  },\n  methods: {\n    onKeyDown: function onKeyDown(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === KeyCode.ENTER) {\n        this.onClick(e);\n        return true;\n      }\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      var eventKey = this.$props.eventKey;\n\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: false\n      });\n\n      this.__emit('mouseleave', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      var eventKey = this.eventKey;\n\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: true\n      });\n\n      this.__emit('mouseenter', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onClick: function onClick(e) {\n      var _$props2 = this.$props,\n          eventKey = _$props2.eventKey,\n          multiple = _$props2.multiple,\n          isSelected = _$props2.isSelected;\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: this,\n        domEvent: e\n      };\n\n      this.__emit('click', info);\n\n      if (multiple) {\n        if (isSelected) {\n          this.__emit('deselect', info);\n        } else {\n          this.__emit('select', info);\n        }\n      } else if (!isSelected) {\n        this.__emit('select', info);\n      }\n    },\n    getPrefixCls: function getPrefixCls() {\n      return this.$props.rootPrefixCls + '-item';\n    },\n    getActiveClassName: function getActiveClassName() {\n      return this.getPrefixCls() + '-active';\n    },\n    getSelectedClassName: function getSelectedClassName() {\n      return this.getPrefixCls() + '-selected';\n    },\n    getDisabledClassName: function getDisabledClassName() {\n      return this.getPrefixCls() + '-disabled';\n    },\n    callRef: function callRef() {\n      if (this.manualRef) {\n        this.manualRef(this);\n      }\n    }\n  },\n  render: function render() {\n    var _className;\n\n    var h = arguments[0];\n\n    var props = _extends({}, this.$props);\n\n    var className = (_className = {}, _defineProperty(_className, this.getPrefixCls(), true), _defineProperty(_className, this.getActiveClassName(), !props.disabled && props.active), _defineProperty(_className, this.getSelectedClassName(), props.isSelected), _defineProperty(_className, this.getDisabledClassName(), props.disabled), _className);\n\n    var attrs = _extends({}, props.attribute, {\n      title: props.title,\n      role: props.role || 'menuitem',\n      'aria-disabled': props.disabled\n    });\n\n    if (props.role === 'option') {\n      // overwrite to option\n      attrs = _extends({}, attrs, {\n        role: 'option',\n        'aria-selected': props.isSelected\n      });\n    } else if (props.role === null || props.role === 'none') {\n      // sometimes we want to specify role inside <li/> element\n      // <li><a role='menuitem'>Link</a></li> would be a good example\n      // in this case the role on <li/> should be \"none\" to\n      // remove the implied listitem role.\n      // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n      attrs.role = 'none';\n    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n\n    var mouseEvent = {\n      click: props.disabled ? noop : this.onClick,\n      mouseleave: props.disabled ? noop : this.onMouseLeave,\n      mouseenter: props.disabled ? noop : this.onMouseEnter\n    };\n    var style = {};\n\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level + 'px';\n    }\n\n    var listeners = _extends({}, getListeners(this));\n\n    menuAllProps.props.forEach(function (key) {\n      return delete props[key];\n    });\n    menuAllProps.on.forEach(function (key) {\n      return delete listeners[key];\n    });\n    var liProps = {\n      attrs: _extends({}, props, attrs),\n      on: _extends({}, listeners, mouseEvent)\n    };\n    return h('li', _mergeJSXProps([liProps, {\n      style: style,\n      'class': className\n    }]), [this.$slots['default'], getComponentFromProp(this, 'itemIcon', props)]);\n  }\n};\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\nexport default connected;\nexport { props as menuItemProps };","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-menu/MenuItem.js"],"names":["_mergeJSXProps","_defineProperty","_extends","PropTypes","KeyCode","BaseMixin","scrollIntoView","connect","noop","menuAllProps","getComponentFromProp","getListeners","props","attribute","object","rootPrefixCls","string","eventKey","oneOfType","number","active","bool","selectedKeys","array","disabled","title","any","index","inlineIndent","def","level","mode","oneOf","parentMenu","multiple","value","isSelected","manualRef","func","role","subMenuKey","itemIcon","MenuItem","name","mixins","isMenuItem","created","prevActive","callRef","updated","_this","$nextTick","_$props","$props","$el","onlyScrollIfNeeded","beforeDestroy","__emit","methods","onKeyDown","e","keyCode","ENTER","onClick","onMouseLeave","key","hover","domEvent","onMouseEnter","_$props2","info","keyPath","item","getPrefixCls","getActiveClassName","getSelectedClassName","getDisabledClassName","render","_className","h","arguments","className","attrs","mouseEvent","click","mouseleave","mouseenter","style","paddingLeft","listeners","forEach","on","liProps","$slots","connected","_ref","_ref2","activeKey","indexOf","menuItemProps"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport KeyCode from '../_util/KeyCode';\nimport BaseMixin from '../_util/BaseMixin';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from '../_util/store';\nimport { noop, menuAllProps } from './util';\nimport { getComponentFromProp, getListeners } from '../_util/props-util';\n\nvar props = {\n  attribute: PropTypes.object,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  active: PropTypes.bool,\n  selectedKeys: PropTypes.array,\n  disabled: PropTypes.bool,\n  title: PropTypes.any,\n  index: PropTypes.number,\n  inlineIndent: PropTypes.number.def(24),\n  level: PropTypes.number.def(1),\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']).def('vertical'),\n  parentMenu: PropTypes.object,\n  multiple: PropTypes.bool,\n  value: PropTypes.any,\n  isSelected: PropTypes.bool,\n  manualRef: PropTypes.func.def(noop),\n  role: PropTypes.any,\n  subMenuKey: PropTypes.string,\n  itemIcon: PropTypes.any\n  // clearSubMenuTimers: PropTypes.func.def(noop),\n};\nvar MenuItem = {\n  name: 'MenuItem',\n  props: props,\n  mixins: [BaseMixin],\n  isMenuItem: true,\n  created: function created() {\n    this.prevActive = this.active;\n    // invoke customized ref to expose component to mixin\n    this.callRef();\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var _$props = _this.$props,\n          active = _$props.active,\n          parentMenu = _$props.parentMenu,\n          eventKey = _$props.eventKey;\n\n      if (!_this.prevActive && active && (!parentMenu || !parentMenu['scrolled-' + eventKey])) {\n        scrollIntoView(_this.$el, _this.parentMenu.$el, {\n          onlyScrollIfNeeded: true\n        });\n        parentMenu['scrolled-' + eventKey] = true;\n      } else if (parentMenu && parentMenu['scrolled-' + eventKey]) {\n        delete parentMenu['scrolled-' + eventKey];\n      }\n      _this.prevActive = active;\n    });\n    this.callRef();\n  },\n  beforeDestroy: function beforeDestroy() {\n    var props = this.$props;\n    this.__emit('destroy', props.eventKey);\n  },\n\n  methods: {\n    onKeyDown: function onKeyDown(e) {\n      var keyCode = e.keyCode;\n      if (keyCode === KeyCode.ENTER) {\n        this.onClick(e);\n        return true;\n      }\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      var eventKey = this.$props.eventKey;\n\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: false\n      });\n      this.__emit('mouseleave', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      var eventKey = this.eventKey;\n\n      this.__emit('itemHover', {\n        key: eventKey,\n        hover: true\n      });\n      this.__emit('mouseenter', {\n        key: eventKey,\n        domEvent: e\n      });\n    },\n    onClick: function onClick(e) {\n      var _$props2 = this.$props,\n          eventKey = _$props2.eventKey,\n          multiple = _$props2.multiple,\n          isSelected = _$props2.isSelected;\n\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: this,\n        domEvent: e\n      };\n\n      this.__emit('click', info);\n      if (multiple) {\n        if (isSelected) {\n          this.__emit('deselect', info);\n        } else {\n          this.__emit('select', info);\n        }\n      } else if (!isSelected) {\n        this.__emit('select', info);\n      }\n    },\n    getPrefixCls: function getPrefixCls() {\n      return this.$props.rootPrefixCls + '-item';\n    },\n    getActiveClassName: function getActiveClassName() {\n      return this.getPrefixCls() + '-active';\n    },\n    getSelectedClassName: function getSelectedClassName() {\n      return this.getPrefixCls() + '-selected';\n    },\n    getDisabledClassName: function getDisabledClassName() {\n      return this.getPrefixCls() + '-disabled';\n    },\n    callRef: function callRef() {\n      if (this.manualRef) {\n        this.manualRef(this);\n      }\n    }\n  },\n\n  render: function render() {\n    var _className;\n\n    var h = arguments[0];\n\n    var props = _extends({}, this.$props);\n    var className = (_className = {}, _defineProperty(_className, this.getPrefixCls(), true), _defineProperty(_className, this.getActiveClassName(), !props.disabled && props.active), _defineProperty(_className, this.getSelectedClassName(), props.isSelected), _defineProperty(_className, this.getDisabledClassName(), props.disabled), _className);\n    var attrs = _extends({}, props.attribute, {\n      title: props.title,\n      role: props.role || 'menuitem',\n      'aria-disabled': props.disabled\n    });\n    if (props.role === 'option') {\n      // overwrite to option\n      attrs = _extends({}, attrs, {\n        role: 'option',\n        'aria-selected': props.isSelected\n      });\n    } else if (props.role === null || props.role === 'none') {\n      // sometimes we want to specify role inside <li/> element\n      // <li><a role='menuitem'>Link</a></li> would be a good example\n      // in this case the role on <li/> should be \"none\" to\n      // remove the implied listitem role.\n      // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n      attrs.role = 'none';\n    }\n    // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n    var mouseEvent = {\n      click: props.disabled ? noop : this.onClick,\n      mouseleave: props.disabled ? noop : this.onMouseLeave,\n      mouseenter: props.disabled ? noop : this.onMouseEnter\n    };\n\n    var style = {};\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level + 'px';\n    }\n    var listeners = _extends({}, getListeners(this));\n    menuAllProps.props.forEach(function (key) {\n      return delete props[key];\n    });\n    menuAllProps.on.forEach(function (key) {\n      return delete listeners[key];\n    });\n    var liProps = {\n      attrs: _extends({}, props, attrs),\n      on: _extends({}, listeners, mouseEvent)\n    };\n    return h(\n      'li',\n      _mergeJSXProps([liProps, { style: style, 'class': className }]),\n      [this.$slots['default'], getComponentFromProp(this, 'itemIcon', props)]\n    );\n  }\n};\n\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\n\nexport default connected;\nexport { props as menuItemProps };"]},"metadata":{},"sourceType":"module"}