{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponentFromProp } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport KeyCode from '../../_util/KeyCode';\nimport moment from 'moment';\nimport DateTable from './date/DateTable';\nimport CalendarHeader from './calendar/CalendarHeader';\nimport CalendarFooter from './calendar/CalendarFooter';\nimport CalendarMixin, { getNowByCurrentStateValue } from './mixin/CalendarMixin';\nimport CommonMixin from './mixin/CommonMixin';\nimport DateInput from './date/DateInput';\nimport enUs from './locale/en_US';\nimport { getTimeConfig, getTodayTime, syncTime } from './util';\nimport { goStartMonth, goEndMonth, goTime as _goTime } from './util/toTime';\n\nvar getMomentObjectIfValid = function getMomentObjectIfValid(date) {\n  if (moment.isMoment(date) && date.isValid()) {\n    return date;\n  }\n\n  return false;\n};\n\nvar Calendar = {\n  name: 'Calendar',\n  props: {\n    locale: PropTypes.object.def(enUs),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    visible: PropTypes.bool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    // prefixCls: PropTypes.string,\n    defaultValue: PropTypes.object,\n    value: PropTypes.object,\n    selectedValue: PropTypes.object,\n    defaultSelectedValue: PropTypes.object,\n    mode: PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade']),\n    // locale: PropTypes.object,\n    showDateInput: PropTypes.bool.def(true),\n    showWeekNumber: PropTypes.bool,\n    showToday: PropTypes.bool.def(true),\n    showOk: PropTypes.bool,\n    // onSelect: PropTypes.func,\n    // onOk: PropTypes.func,\n    // onKeyDown: PropTypes.func,\n    timePicker: PropTypes.any,\n    dateInputPlaceholder: PropTypes.any,\n    // onClear: PropTypes.func,\n    // onChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.any,\n    dateRender: PropTypes.func,\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    clearIcon: PropTypes.any,\n    focusablePanel: PropTypes.bool.def(true),\n    inputMode: PropTypes.string,\n    inputReadOnly: PropTypes.bool\n  },\n  mixins: [BaseMixin, CommonMixin, CalendarMixin],\n  data: function data() {\n    var props = this.$props;\n    return {\n      sMode: this.mode || 'date',\n      sValue: getMomentObjectIfValid(props.value) || getMomentObjectIfValid(props.defaultValue) || moment(),\n      sSelectedValue: props.selectedValue || props.defaultSelectedValue\n    };\n  },\n  watch: {\n    mode: function mode(val) {\n      this.setState({\n        sMode: val\n      });\n    },\n    value: function value(val) {\n      this.setState({\n        sValue: getMomentObjectIfValid(val) || getMomentObjectIfValid(this.defaultValue) || getNowByCurrentStateValue(this.sValue)\n      });\n    },\n    selectedValue: function selectedValue(val) {\n      this.setState({\n        sSelectedValue: val\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.saveFocusElement(DateInput.getInstance());\n    });\n  },\n  methods: {\n    onPanelChange: function onPanelChange(value, mode) {\n      var sValue = this.sValue;\n\n      if (!hasProp(this, 'mode')) {\n        this.setState({\n          sMode: mode\n        });\n      }\n\n      this.__emit('panelChange', value || sValue, mode);\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return undefined;\n      }\n\n      var keyCode = event.keyCode; // mac\n\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var disabledDate = this.disabledDate,\n          value = this.sValue;\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          this.goTime(1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.UP:\n          this.goTime(-1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            this.goTime(-1, 'years');\n          } else {\n            this.goTime(-1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            this.goTime(1, 'years');\n          } else {\n            this.goTime(1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.HOME:\n          this.setValue(goStartMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.END:\n          this.setValue(goEndMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_DOWN:\n          this.goTime(1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_UP:\n          this.goTime(-1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.ENTER:\n          if (!disabledDate || !disabledDate(value)) {\n            this.onSelect(value, {\n              source: 'keyboard'\n            });\n          }\n\n          event.preventDefault();\n          return 1;\n\n        default:\n          this.__emit('keydown', event);\n\n          return 1;\n      }\n    },\n    onClear: function onClear() {\n      this.onSelect(null);\n\n      this.__emit('clear');\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDate(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onDateInputChange: function onDateInputChange(value) {\n      this.onSelect(value, {\n        source: 'dateInput'\n      });\n    },\n    onDateInputSelect: function onDateInputSelect(value) {\n      this.onSelect(value, {\n        source: 'dateInputSelect'\n      });\n    },\n    onDateTableSelect: function onDateTableSelect(value) {\n      var timePicker = this.timePicker,\n          sSelectedValue = this.sSelectedValue;\n\n      if (!sSelectedValue && timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n        var timePickerDefaultValue = timePickerProps.defaultValue;\n\n        if (timePickerDefaultValue) {\n          syncTime(timePickerDefaultValue, value);\n        }\n      }\n\n      this.onSelect(value);\n    },\n    onToday: function onToday() {\n      var sValue = this.sValue;\n      var now = getTodayTime(sValue);\n      this.onSelect(now, {\n        source: 'todayButton'\n      });\n    },\n    onBlur: function onBlur(event) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var dateInput = DateInput.getInstance();\n        var rootInstance = _this2.rootInstance;\n\n        if (!rootInstance || rootInstance.contains(document.activeElement) || dateInput && dateInput.contains(document.activeElement)) {\n          // focused element is still part of Calendar\n          return;\n        }\n\n        _this2.$emit('blur', event);\n      }, 0);\n    },\n    getRootDOMNode: function getRootDOMNode() {\n      return this.$el;\n    },\n    openTimePicker: function openTimePicker() {\n      this.onPanelChange(null, 'time');\n    },\n    closeTimePicker: function closeTimePicker() {\n      this.onPanelChange(null, 'date');\n    },\n    goTime: function goTime(direction, unit) {\n      this.setValue(_goTime(this.sValue, direction, unit));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var locale = this.locale,\n        prefixCls = this.prefixCls,\n        disabledDate = this.disabledDate,\n        dateInputPlaceholder = this.dateInputPlaceholder,\n        timePicker = this.timePicker,\n        disabledTime = this.disabledTime,\n        showDateInput = this.showDateInput,\n        sValue = this.sValue,\n        sSelectedValue = this.sSelectedValue,\n        sMode = this.sMode,\n        renderFooter = this.renderFooter,\n        inputMode = this.inputMode,\n        inputReadOnly = this.inputReadOnly,\n        monthCellRender = this.monthCellRender,\n        monthCellContentRender = this.monthCellContentRender,\n        props = this.$props;\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var showTimePicker = sMode === 'time';\n    var disabledTimeConfig = showTimePicker && disabledTime && timePicker ? getTimeConfig(sSelectedValue, disabledTime) : null;\n    var timePickerEle = null;\n\n    if (timePicker && showTimePicker) {\n      var timePickerOriginProps = getOptionProps(timePicker);\n      var timePickerProps = {\n        props: _extends({\n          showHour: true,\n          showSecond: true,\n          showMinute: true\n        }, timePickerOriginProps, disabledTimeConfig, {\n          value: sSelectedValue,\n          disabledTime: disabledTime\n        }),\n        on: {\n          change: this.onDateInputChange\n        }\n      };\n\n      if (timePickerOriginProps.defaultValue !== undefined) {\n        timePickerProps.props.defaultOpenValue = timePickerOriginProps.defaultValue;\n      }\n\n      timePickerEle = cloneElement(timePicker, timePickerProps);\n    }\n\n    var dateInputElement = showDateInput ? h(DateInput, {\n      attrs: {\n        format: this.getFormat(),\n        value: sValue,\n        locale: locale,\n        placeholder: dateInputPlaceholder,\n        showClear: true,\n        disabledTime: disabledTime,\n        disabledDate: disabledDate,\n        prefixCls: prefixCls,\n        selectedValue: sSelectedValue,\n        clearIcon: clearIcon,\n        inputMode: inputMode,\n        inputReadOnly: inputReadOnly\n      },\n      key: 'date-input',\n      on: {\n        'clear': this.onClear,\n        'change': this.onDateInputChange,\n        'select': this.onDateInputSelect\n      }\n    }) : null;\n    var children = [];\n\n    if (props.renderSidebar) {\n      children.push(props.renderSidebar());\n    }\n\n    children.push(h('div', {\n      'class': prefixCls + '-panel',\n      key: 'panel'\n    }, [dateInputElement, h('div', {\n      attrs: {\n        tabIndex: props.focusablePanel ? 0 : undefined\n      },\n      'class': prefixCls + '-date-panel'\n    }, [h(CalendarHeader, {\n      attrs: {\n        locale: locale,\n        mode: sMode,\n        value: sValue,\n        disabledMonth: disabledDate,\n        renderFooter: renderFooter,\n        showTimePicker: showTimePicker,\n        prefixCls: prefixCls,\n        monthCellRender: monthCellRender,\n        monthCellContentRender: monthCellContentRender\n      },\n      on: {\n        'valueChange': this.setValue,\n        'panelChange': this.onPanelChange\n      }\n    }), timePicker && showTimePicker ? h('div', {\n      'class': prefixCls + '-time-picker'\n    }, [h('div', {\n      'class': prefixCls + '-time-picker-panel'\n    }, [timePickerEle])]) : null, h('div', {\n      'class': prefixCls + '-body'\n    }, [h(DateTable, {\n      attrs: {\n        locale: locale,\n        value: sValue,\n        selectedValue: sSelectedValue,\n        prefixCls: prefixCls,\n        dateRender: props.dateRender,\n        disabledDate: disabledDate,\n        showWeekNumber: props.showWeekNumber\n      },\n      on: {\n        'select': this.onDateTableSelect\n      }\n    })]), h(CalendarFooter, {\n      attrs: {\n        showOk: props.showOk,\n        mode: sMode,\n        renderFooter: props.renderFooter,\n        locale: locale,\n        prefixCls: prefixCls,\n        showToday: props.showToday,\n        disabledTime: disabledTime,\n        showTimePicker: showTimePicker,\n        showDateInput: props.showDateInput,\n        timePicker: timePicker,\n        selectedValue: sSelectedValue,\n        timePickerDisabled: !sSelectedValue,\n        value: sValue,\n        disabledDate: disabledDate,\n        okDisabled: props.showOk !== false && (!sSelectedValue || !this.isAllowedDate(sSelectedValue))\n      },\n      on: {\n        'ok': this.onOk,\n        'select': this.onSelect,\n        'today': this.onToday,\n        'openTimePicker': this.openTimePicker,\n        'closeTimePicker': this.closeTimePicker\n      }\n    })])]));\n    return this.renderRoot({\n      children: children,\n      'class': props.showWeekNumber ? prefixCls + '-week-number' : ''\n    });\n  }\n};\nexport default Calendar;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-calendar/src/Calendar.js"],"names":["_extends","PropTypes","BaseMixin","getOptionProps","hasProp","getComponentFromProp","cloneElement","KeyCode","moment","DateTable","CalendarHeader","CalendarFooter","CalendarMixin","getNowByCurrentStateValue","CommonMixin","DateInput","enUs","getTimeConfig","getTodayTime","syncTime","goStartMonth","goEndMonth","goTime","_goTime","getMomentObjectIfValid","date","isMoment","isValid","Calendar","name","props","locale","object","def","format","oneOfType","string","arrayOf","func","visible","bool","prefixCls","defaultValue","value","selectedValue","defaultSelectedValue","mode","oneOf","showDateInput","showWeekNumber","showToday","showOk","timePicker","any","dateInputPlaceholder","disabledDate","disabledTime","dateRender","renderFooter","renderSidebar","clearIcon","focusablePanel","inputMode","inputReadOnly","mixins","data","$props","sMode","sValue","sSelectedValue","watch","val","setState","mounted","_this","$nextTick","saveFocusElement","getInstance","methods","onPanelChange","__emit","onKeyDown","event","target","nodeName","toLowerCase","undefined","keyCode","ctrlKey","metaKey","DOWN","preventDefault","UP","LEFT","RIGHT","HOME","setValue","END","PAGE_DOWN","PAGE_UP","ENTER","onSelect","source","onClear","onOk","isAllowedDate","onDateInputChange","onDateInputSelect","onDateTableSelect","timePickerProps","timePickerDefaultValue","onToday","now","onBlur","_this2","setTimeout","dateInput","rootInstance","contains","document","activeElement","$emit","getRootDOMNode","$el","openTimePicker","closeTimePicker","direction","unit","render","h","arguments","monthCellRender","monthCellContentRender","showTimePicker","disabledTimeConfig","timePickerEle","timePickerOriginProps","showHour","showSecond","showMinute","on","change","defaultOpenValue","dateInputElement","attrs","getFormat","placeholder","showClear","key","children","push","tabIndex","disabledMonth","timePickerDisabled","okDisabled","renderRoot"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponentFromProp } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport KeyCode from '../../_util/KeyCode';\nimport moment from 'moment';\nimport DateTable from './date/DateTable';\nimport CalendarHeader from './calendar/CalendarHeader';\nimport CalendarFooter from './calendar/CalendarFooter';\nimport CalendarMixin, { getNowByCurrentStateValue } from './mixin/CalendarMixin';\nimport CommonMixin from './mixin/CommonMixin';\nimport DateInput from './date/DateInput';\nimport enUs from './locale/en_US';\nimport { getTimeConfig, getTodayTime, syncTime } from './util';\nimport { goStartMonth, goEndMonth, goTime as _goTime } from './util/toTime';\n\nvar getMomentObjectIfValid = function getMomentObjectIfValid(date) {\n  if (moment.isMoment(date) && date.isValid()) {\n    return date;\n  }\n  return false;\n};\n\nvar Calendar = {\n  name: 'Calendar',\n  props: {\n    locale: PropTypes.object.def(enUs),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    visible: PropTypes.bool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    // prefixCls: PropTypes.string,\n    defaultValue: PropTypes.object,\n    value: PropTypes.object,\n    selectedValue: PropTypes.object,\n    defaultSelectedValue: PropTypes.object,\n    mode: PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade']),\n    // locale: PropTypes.object,\n    showDateInput: PropTypes.bool.def(true),\n    showWeekNumber: PropTypes.bool,\n    showToday: PropTypes.bool.def(true),\n    showOk: PropTypes.bool,\n    // onSelect: PropTypes.func,\n    // onOk: PropTypes.func,\n    // onKeyDown: PropTypes.func,\n    timePicker: PropTypes.any,\n    dateInputPlaceholder: PropTypes.any,\n    // onClear: PropTypes.func,\n    // onChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.any,\n    dateRender: PropTypes.func,\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    clearIcon: PropTypes.any,\n    focusablePanel: PropTypes.bool.def(true),\n    inputMode: PropTypes.string,\n    inputReadOnly: PropTypes.bool\n  },\n\n  mixins: [BaseMixin, CommonMixin, CalendarMixin],\n\n  data: function data() {\n    var props = this.$props;\n    return {\n      sMode: this.mode || 'date',\n      sValue: getMomentObjectIfValid(props.value) || getMomentObjectIfValid(props.defaultValue) || moment(),\n      sSelectedValue: props.selectedValue || props.defaultSelectedValue\n    };\n  },\n\n  watch: {\n    mode: function mode(val) {\n      this.setState({ sMode: val });\n    },\n    value: function value(val) {\n      this.setState({\n        sValue: getMomentObjectIfValid(val) || getMomentObjectIfValid(this.defaultValue) || getNowByCurrentStateValue(this.sValue)\n      });\n    },\n    selectedValue: function selectedValue(val) {\n      this.setState({\n        sSelectedValue: val\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.saveFocusElement(DateInput.getInstance());\n    });\n  },\n\n  methods: {\n    onPanelChange: function onPanelChange(value, mode) {\n      var sValue = this.sValue;\n\n      if (!hasProp(this, 'mode')) {\n        this.setState({ sMode: mode });\n      }\n      this.__emit('panelChange', value || sValue, mode);\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return undefined;\n      }\n      var keyCode = event.keyCode;\n      // mac\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var disabledDate = this.disabledDate,\n          value = this.sValue;\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          this.goTime(1, 'weeks');\n          event.preventDefault();\n          return 1;\n        case KeyCode.UP:\n          this.goTime(-1, 'weeks');\n          event.preventDefault();\n          return 1;\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            this.goTime(-1, 'years');\n          } else {\n            this.goTime(-1, 'days');\n          }\n          event.preventDefault();\n          return 1;\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            this.goTime(1, 'years');\n          } else {\n            this.goTime(1, 'days');\n          }\n          event.preventDefault();\n          return 1;\n        case KeyCode.HOME:\n          this.setValue(goStartMonth(value));\n          event.preventDefault();\n          return 1;\n        case KeyCode.END:\n          this.setValue(goEndMonth(value));\n          event.preventDefault();\n          return 1;\n        case KeyCode.PAGE_DOWN:\n          this.goTime(1, 'month');\n          event.preventDefault();\n          return 1;\n        case KeyCode.PAGE_UP:\n          this.goTime(-1, 'month');\n          event.preventDefault();\n          return 1;\n        case KeyCode.ENTER:\n          if (!disabledDate || !disabledDate(value)) {\n            this.onSelect(value, {\n              source: 'keyboard'\n            });\n          }\n          event.preventDefault();\n          return 1;\n        default:\n          this.__emit('keydown', event);\n          return 1;\n      }\n    },\n    onClear: function onClear() {\n      this.onSelect(null);\n      this.__emit('clear');\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDate(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onDateInputChange: function onDateInputChange(value) {\n      this.onSelect(value, {\n        source: 'dateInput'\n      });\n    },\n    onDateInputSelect: function onDateInputSelect(value) {\n      this.onSelect(value, {\n        source: 'dateInputSelect'\n      });\n    },\n    onDateTableSelect: function onDateTableSelect(value) {\n      var timePicker = this.timePicker,\n          sSelectedValue = this.sSelectedValue;\n\n      if (!sSelectedValue && timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n        var timePickerDefaultValue = timePickerProps.defaultValue;\n        if (timePickerDefaultValue) {\n          syncTime(timePickerDefaultValue, value);\n        }\n      }\n      this.onSelect(value);\n    },\n    onToday: function onToday() {\n      var sValue = this.sValue;\n\n      var now = getTodayTime(sValue);\n      this.onSelect(now, {\n        source: 'todayButton'\n      });\n    },\n    onBlur: function onBlur(event) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var dateInput = DateInput.getInstance();\n        var rootInstance = _this2.rootInstance;\n\n        if (!rootInstance || rootInstance.contains(document.activeElement) || dateInput && dateInput.contains(document.activeElement)) {\n          // focused element is still part of Calendar\n          return;\n        }\n\n        _this2.$emit('blur', event);\n      }, 0);\n    },\n    getRootDOMNode: function getRootDOMNode() {\n      return this.$el;\n    },\n    openTimePicker: function openTimePicker() {\n      this.onPanelChange(null, 'time');\n    },\n    closeTimePicker: function closeTimePicker() {\n      this.onPanelChange(null, 'date');\n    },\n    goTime: function goTime(direction, unit) {\n      this.setValue(_goTime(this.sValue, direction, unit));\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var locale = this.locale,\n        prefixCls = this.prefixCls,\n        disabledDate = this.disabledDate,\n        dateInputPlaceholder = this.dateInputPlaceholder,\n        timePicker = this.timePicker,\n        disabledTime = this.disabledTime,\n        showDateInput = this.showDateInput,\n        sValue = this.sValue,\n        sSelectedValue = this.sSelectedValue,\n        sMode = this.sMode,\n        renderFooter = this.renderFooter,\n        inputMode = this.inputMode,\n        inputReadOnly = this.inputReadOnly,\n        monthCellRender = this.monthCellRender,\n        monthCellContentRender = this.monthCellContentRender,\n        props = this.$props;\n\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var showTimePicker = sMode === 'time';\n    var disabledTimeConfig = showTimePicker && disabledTime && timePicker ? getTimeConfig(sSelectedValue, disabledTime) : null;\n\n    var timePickerEle = null;\n\n    if (timePicker && showTimePicker) {\n      var timePickerOriginProps = getOptionProps(timePicker);\n      var timePickerProps = {\n        props: _extends({\n          showHour: true,\n          showSecond: true,\n          showMinute: true\n        }, timePickerOriginProps, disabledTimeConfig, {\n          value: sSelectedValue,\n          disabledTime: disabledTime\n        }),\n        on: {\n          change: this.onDateInputChange\n        }\n      };\n\n      if (timePickerOriginProps.defaultValue !== undefined) {\n        timePickerProps.props.defaultOpenValue = timePickerOriginProps.defaultValue;\n      }\n      timePickerEle = cloneElement(timePicker, timePickerProps);\n    }\n\n    var dateInputElement = showDateInput ? h(DateInput, {\n      attrs: {\n        format: this.getFormat(),\n\n        value: sValue,\n        locale: locale,\n        placeholder: dateInputPlaceholder,\n        showClear: true,\n        disabledTime: disabledTime,\n        disabledDate: disabledDate,\n\n        prefixCls: prefixCls,\n        selectedValue: sSelectedValue,\n\n        clearIcon: clearIcon,\n\n        inputMode: inputMode,\n        inputReadOnly: inputReadOnly\n      },\n      key: 'date-input', on: {\n        'clear': this.onClear,\n        'change': this.onDateInputChange,\n        'select': this.onDateInputSelect\n      }\n    }) : null;\n    var children = [];\n    if (props.renderSidebar) {\n      children.push(props.renderSidebar());\n    }\n    children.push(h(\n      'div',\n      { 'class': prefixCls + '-panel', key: 'panel' },\n      [dateInputElement, h(\n        'div',\n        {\n          attrs: { tabIndex: props.focusablePanel ? 0 : undefined },\n          'class': prefixCls + '-date-panel' },\n        [h(CalendarHeader, {\n          attrs: {\n            locale: locale,\n            mode: sMode,\n            value: sValue,\n            disabledMonth: disabledDate,\n\n            renderFooter: renderFooter,\n            showTimePicker: showTimePicker,\n            prefixCls: prefixCls,\n            monthCellRender: monthCellRender,\n            monthCellContentRender: monthCellContentRender\n          },\n          on: {\n            'valueChange': this.setValue,\n            'panelChange': this.onPanelChange\n          }\n        }), timePicker && showTimePicker ? h(\n          'div',\n          { 'class': prefixCls + '-time-picker' },\n          [h(\n            'div',\n            { 'class': prefixCls + '-time-picker-panel' },\n            [timePickerEle]\n          )]\n        ) : null, h(\n          'div',\n          { 'class': prefixCls + '-body' },\n          [h(DateTable, {\n            attrs: {\n              locale: locale,\n              value: sValue,\n              selectedValue: sSelectedValue,\n              prefixCls: prefixCls,\n              dateRender: props.dateRender,\n\n              disabledDate: disabledDate,\n              showWeekNumber: props.showWeekNumber\n            },\n            on: {\n              'select': this.onDateTableSelect\n            }\n          })]\n        ), h(CalendarFooter, {\n          attrs: {\n            showOk: props.showOk,\n            mode: sMode,\n            renderFooter: props.renderFooter,\n            locale: locale,\n            prefixCls: prefixCls,\n            showToday: props.showToday,\n            disabledTime: disabledTime,\n            showTimePicker: showTimePicker,\n            showDateInput: props.showDateInput,\n            timePicker: timePicker,\n            selectedValue: sSelectedValue,\n            timePickerDisabled: !sSelectedValue,\n            value: sValue,\n            disabledDate: disabledDate,\n            okDisabled: props.showOk !== false && (!sSelectedValue || !this.isAllowedDate(sSelectedValue))\n          },\n          on: {\n            'ok': this.onOk,\n            'select': this.onSelect,\n            'today': this.onToday,\n            'openTimePicker': this.openTimePicker,\n            'closeTimePicker': this.closeTimePicker\n          }\n        })]\n      )]\n    ));\n\n    return this.renderRoot({\n      children: children,\n      'class': props.showWeekNumber ? prefixCls + '-week-number' : ''\n    });\n  }\n};\n\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}