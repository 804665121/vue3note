{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"vue3中Watch监视的使用\", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"h2\", null, \"求和:\" + _toDisplayString($setup.sum), 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.sum++)\n  }, \"点为+1\"), _hoisted_2, _createElementVNode(\"h2\", null, _toDisplayString($setup.msg), 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.msg += 1)\n  }, \"点为+1\"), _hoisted_3, _createElementVNode(\"h2\", null, _toDisplayString($setup.person.name), 1\n  /* TEXT */\n  ), _createElementVNode(\"h2\", null, _toDisplayString($setup.person.age), 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.person.age++)\n  }, \"点为+1\")]);\n}","map":{"version":3,"mappings":";;gCAEIA,oBAAwB,IAAxB,EAAwB,IAAxB,EAAI,iBAAJ,EAAmB;AAAA;AAAnB;;gCAKAA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;gCAIAA,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;;uBAVFC,oBAeM,KAfN,EAeM,IAfN,EAeM,CAdJC,UAcI,EAZJF,oBAAqB,IAArB,EAAqB,IAArB,EAAI,QAAGG,iBAAGC,UAAH,CAAP,EAAa;AAAA;AAAb,GAYI,EAXJJ,oBAAoC,QAApC,EAAoC;AAA3BK,WAAK,sCAAED,YAAF;AAAsB,GAApC,EAAuB,MAAvB,CAWI,EATJE,UASI,EARJN,oBAAkB,IAAlB,EAAkB,IAAlB,EAAkBG,iBAAXC,UAAW,CAAlB,EAAU;AAAA;AAAV,GAQI,EAPJJ,oBAAuC,QAAvC,EAAuC;AAA9BK,WAAK,sCAAED,cAAG,CAAL;AAAyB,GAAvC,EAA0B,MAA1B,CAOI,EALJG,UAKI,EAHJP,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0BG,iBAAnBC,cAAOI,IAAY,CAA1B,EAAkB;AAAA;AAAlB,GAGI,EAFJR,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyBG,iBAAlBC,cAAOK,GAAW,CAAzB,EAAiB;AAAA;AAAjB,GAEI,EADJT,oBAA2C,QAA3C,EAA2C;AAAlCK,WAAK,sCAAED,cAAOK,GAAP,EAAF;AAA6B,GAA3C,EAA8B,MAA9B,CACI,CAfN","names":["_createElementVNode","_createElementBlock","_hoisted_1","_toDisplayString","$setup","onClick","_hoisted_2","_hoisted_3","name","age"],"sourceRoot":"","sources":["/Users/liulu/刘璐/vue3/hello-vue3/src/components/Watch.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>vue3中Watch监视的使用</h1>\n\n    <h2>求和:{{ sum }}</h2>\n    <button @click=\"sum++\">点为+1</button>\n\n    <hr />\n    <h2>{{ msg }}</h2>\n    <button @click=\"msg += 1\">点为+1</button>\n\n    <hr />\n\n    <h2>{{ person.name }}</h2>\n    <h2>{{ person.age }}</h2>\n    <button @click=\"person.age++\">点为+1</button>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, watch } from \"vue\";\nexport default {\n  name: \"watch\",\n\n  watch: {\n    //vue2 简写使用方式\n    // sum(newVal, oldVal) {\n    //   console.log(oldVal, newVal);\n    // },\n    // sum: {  //完整写法\n    //   deep: true, //是否开启深度监测\n    //   handler(newVal, oldVal) {\n    //     console.log(oldVal, newVal);\n    //   },\n    // },\n  },\n  setup() {\n    let sum = ref(1);\n\n    let msg = ref(\"hello\");\n\n    let person = reactive({\n      name: \"zangsan\",\n      age: 19,\n    });\n\n    // 情况1:监视 ref 定义的一个响应式数据 immediate 初始化的时候执行一次\n    watch(\n      sum,\n      (newVal, oldVal) => {\n        console.log(newVal, oldVal, \"sum修改了\");\n      },\n      { immediate: true }\n    );\n\n    // 情况2: 监视多个值的情况\n    // watch([sum, msg], (newVal, oldVal) => {\n    //   console.log(newVal, oldVal, \"sum修改了\");\n    // });\n    /**\n     *情况3: 注意点1:监视reactive 定义的响应式数据的全部属性  使用watch监测的时候无法定义到旧的值\n     *      注意点2:强制开启了deep深度监视(deep无法关闭)\n     *  */\n    watch(person, (newVal, oldVal) => {\n      console.log(newVal, oldVal, \"person 监视的值\");\n    });\n\n    /** 情况4\n     * \n     */\n\n    return {\n      sum,\n      msg,\n      person,\n    };\n  },\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}