{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ref from 'vue-ref';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport { hasProp, getComponentFromProp, getDataEvents, filterEmpty, getListeners } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport warning from '../_util/warning';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName, noop } from './utils';\nimport BaseMixin from '../_util/BaseMixin';\nimport { cloneElement } from '../_util/vnode';\nimport ContainerRender from '../_util/ContainerRender';\nVue.use(ref, {\n  name: 'ant-ref'\n});\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['click', 'mousedown', 'touchstart', 'mouseenter', 'mouseleave', 'focus', 'blur', 'contextmenu'];\nexport default {\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    // onPopupVisibleChange: PropTypes.func.def(noop),\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: PropTypes.bool,\n    destroyPopupOnHide: PropTypes.bool.def(false),\n    mask: PropTypes.bool.def(false),\n    maskClosable: PropTypes.bool.def(true),\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: PropTypes.bool,\n    defaultPopupVisible: PropTypes.bool.def(false),\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string,\n    stretch: PropTypes.string,\n    alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n\n  },\n  provide: function provide() {\n    return {\n      vcTriggerContext: this\n    };\n  },\n  inject: {\n    vcTriggerContext: {\n      'default': function _default() {\n        return {};\n      }\n    },\n    savePopupRef: {\n      'default': function _default() {\n        return noop;\n      }\n    },\n    dialogContext: {\n      'default': function _default() {\n        return null;\n      }\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    var props = this.$props;\n    var popupVisible = void 0;\n\n    if (hasProp(this, 'popupVisible')) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.renderComponent(null);\n\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (_this3.sPopupVisible !== _this3.prevPopupVisible) {\n        _this3.afterPopupVisibleChange(_this3.sPopupVisible);\n      }\n\n      _this3.prevPopupVisible = _this3.sPopupVisible;\n    };\n\n    this.renderComponent(null, triggerAfterPopupVisibleChange);\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument = void 0;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument();\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument();\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument();\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('mouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('mousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('mouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('focus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('mousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('touchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('blur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('contextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('click', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime = void 0;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _vcTriggerContext = this.vcTriggerContext,\n          vcTriggerContext = _vcTriggerContext === undefined ? {} : _vcTriggerContext;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = this.$el;\n\n      if (!contains(root, target) && !this.hasPopupMouseDown) {\n        this.close();\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      if (this._component && this._component.getPopupDomNode) {\n        return this._component.getPopupDomNode();\n      }\n\n      return null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      return this.$el; // return this.$el.children[0] || this.$el\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    savePopup: function savePopup(node) {\n      this._component = node;\n      this.savePopupRef(node);\n    },\n    getComponent: function getComponent() {\n      var h = this.$createElement;\n      var self = this;\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.mouseenter = self.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.mouseleave = self.onPopupMouseleave;\n      }\n\n      mouseProps.mousedown = this.onPopupMouseDown;\n      mouseProps.touchstart = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = self.handleGetPopupClassFromAlign,\n          getRootDomNode = self.getRootDomNode,\n          getContainer = self.getContainer;\n      var _self$$props = self.$props,\n          prefixCls = _self$$props.prefixCls,\n          destroyPopupOnHide = _self$$props.destroyPopupOnHide,\n          popupClassName = _self$$props.popupClassName,\n          action = _self$$props.action,\n          popupAnimation = _self$$props.popupAnimation,\n          popupTransitionName = _self$$props.popupTransitionName,\n          popupStyle = _self$$props.popupStyle,\n          mask = _self$$props.mask,\n          maskAnimation = _self$$props.maskAnimation,\n          maskTransitionName = _self$$props.maskTransitionName,\n          zIndex = _self$$props.zIndex,\n          stretch = _self$$props.stretch,\n          alignPoint = _self$$props.alignPoint;\n      var _$data = this.$data,\n          sPopupVisible = _$data.sPopupVisible,\n          point = _$data.point;\n      var align = this.getPopupAlign();\n      var popupProps = {\n        props: {\n          prefixCls: prefixCls,\n          destroyPopupOnHide: destroyPopupOnHide,\n          visible: sPopupVisible,\n          point: alignPoint && point,\n          action: action,\n          align: align,\n          animation: popupAnimation,\n          getClassNameFromAlign: handleGetPopupClassFromAlign,\n          stretch: stretch,\n          getRootDomNode: getRootDomNode,\n          mask: mask,\n          zIndex: zIndex,\n          transitionName: popupTransitionName,\n          maskAnimation: maskAnimation,\n          maskTransitionName: maskTransitionName,\n          getContainer: getContainer,\n          popupClassName: popupClassName,\n          popupStyle: popupStyle\n        },\n        on: _extends({\n          align: getListeners(this).popupAlign || noop\n        }, mouseProps),\n        directives: [{\n          name: 'ant-ref',\n          value: this.savePopup\n        }]\n      };\n      return h(Popup, popupProps, [getComponentFromProp(self, 'popup')]);\n    },\n    getContainer: function getContainer() {\n      var props = this.$props,\n          dialogContext = this.dialogContext;\n      var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(this.$el, dialogContext) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      this.popupContainer = popupContainer;\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        var listeners = getListeners(this);\n        listeners.popupVisibleChange && listeners.popupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this5 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this5.setPopupVisible(visible, point);\n\n          _this5.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getListeners(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this['fire' + event];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _$props = this.$props,\n          action = _$props.action,\n          showAction = _$props.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _$props2 = this.$props,\n          action = _$props2.action,\n          showAction = _$props2.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _$props3 = this.$props,\n          action = _$props3.action,\n          hideAction = _$props3.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _$props4 = this.$props,\n          action = _$props4.action,\n          showAction = _$props4.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _$props5 = this.$props,\n          action = _$props5.action,\n          hideAction = _$props5.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _$props6 = this.$props,\n          action = _$props6.action,\n          showAction = _$props6.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _$props7 = this.$props,\n          action = _$props7.action,\n          hideAction = _$props7.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible && this._component && this._component.$refs.alignInstance) {\n        this._component.$refs.alignInstance.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      this.__emit(type, e);\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this6 = this;\n\n    var h = arguments[0];\n    var sPopupVisible = this.sPopupVisible;\n    var children = filterEmpty(this.$slots['default']);\n    var _$props8 = this.$props,\n        forceRender = _$props8.forceRender,\n        alignPoint = _$props8.alignPoint;\n\n    if (children.length > 1) {\n      warning(false, 'Trigger $slots.default.length > 1, just support only one default', true);\n    }\n\n    var child = children[0];\n    this.childOriginEvents = getDataEvents(child);\n    var newChildProps = {\n      props: {},\n      nativeOn: {},\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.nativeOn.contextmenu = this.onContextmenu;\n    } else {\n      newChildProps.nativeOn.contextmenu = this.createTwoChains('contextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.nativeOn.click = this.onClick;\n      newChildProps.nativeOn.mousedown = this.onMousedown;\n      newChildProps.nativeOn.touchstart = this.onTouchstart;\n    } else {\n      newChildProps.nativeOn.click = this.createTwoChains('click');\n      newChildProps.nativeOn.mousedown = this.createTwoChains('mousedown');\n      newChildProps.nativeOn.touchstart = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.nativeOn.mouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.nativeOn.mousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.nativeOn.mouseenter = this.createTwoChains('mouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.nativeOn.mouseleave = this.onMouseleave;\n    } else {\n      newChildProps.nativeOn.mouseleave = this.createTwoChains('mouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.nativeOn.focus = this.onFocus;\n      newChildProps.nativeOn.blur = this.onBlur;\n    } else {\n      newChildProps.nativeOn.focus = this.createTwoChains('focus');\n\n      newChildProps.nativeOn.blur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this6.createTwoChains('blur')(e);\n        }\n      };\n    }\n\n    this.trigger = cloneElement(child, newChildProps);\n    return h(ContainerRender, {\n      attrs: {\n        parent: this,\n        visible: sPopupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer,\n        children: function children(_ref) {\n          var renderComponent = _ref.renderComponent;\n          _this6.renderComponent = renderComponent;\n          return _this6.trigger;\n        }\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-trigger/Trigger.js"],"names":["_extends","Vue","ref","PropTypes","contains","hasProp","getComponentFromProp","getDataEvents","filterEmpty","getListeners","requestAnimationTimeout","cancelAnimationTimeout","addEventListener","warning","Popup","getAlignFromPlacement","getAlignPopupClassName","noop","BaseMixin","cloneElement","ContainerRender","use","name","returnEmptyString","returnDocument","window","document","ALL_HANDLERS","mixins","props","action","oneOfType","string","arrayOf","def","showAction","any","hideAction","getPopupClassNameFromAlign","afterPopupVisibleChange","func","popup","popupStyle","object","prefixCls","popupClassName","popupPlacement","builtinPlacements","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","getDocument","forceRender","bool","destroyPopupOnHide","mask","maskClosable","popupAlign","popupVisible","defaultPopupVisible","maskTransitionName","maskAnimation","stretch","alignPoint","provide","vcTriggerContext","inject","_default","savePopupRef","dialogContext","data","_this","$props","forEach","h","e","fireEvents","prevPopupVisible","sPopupVisible","point","watch","val","undefined","deactivated","setPopupVisible","mounted","_this2","$nextTick","renderComponent","updatedCal","updated","_this3","triggerAfterPopupVisibleChange","beforeDestroy","clearDelayTimer","clearOutsideHandler","clearTimeout","mouseDownTimeout","methods","state","$data","currentDocument","clickOutsideHandler","isClickToHide","isContextmenuToShow","onDocumentClick","touchOutsideHandler","contextmenuOutsideHandler1","onContextmenuClose","contextmenuOutsideHandler2","onMouseenter","delaySetPopupVisible","onMouseMove","setPoint","onMouseleave","onPopupMouseenter","onPopupMouseleave","relatedTarget","setTimeout","_component","getPopupDomNode","onFocus","isFocusToShow","focusTime","Date","now","onMousedown","preClickTime","onTouchstart","preTouchTime","onBlur","target","activeElement","isBlurToHide","onContextmenu","preventDefault","close","onClick","event","preTime","Math","min","abs","isClickToShow","domEvent","nextVisible","onPopupMouseDown","_this4","_vcTriggerContext","hasPopupMouseDown","apply","arguments","root","$el","getRootDomNode","handleGetPopupClassFromAlign","align","className","push","join","getPopupAlign","savePopup","node","getComponent","$createElement","self","mouseProps","isMouseEnterToShow","mouseenter","isMouseLeaveToHide","mouseleave","mousedown","touchstart","getContainer","_self$$props","_$data","popupProps","visible","animation","getClassNameFromAlign","transitionName","on","directives","value","popupContainer","createElement","style","position","top","left","width","mountNode","body","appendChild","setState","listeners","popupVisibleChange","pageX","pageY","delayS","_this5","delay","delayTimer","remove","createTwoChains","fn","events","childOriginEvents","_$props","indexOf","_$props2","_$props3","_$props4","_$props5","_$props6","_$props7","forcePopupAlign","$refs","alignInstance","forceAlign","type","__emit","render","_this6","children","$slots","_$props8","length","child","newChildProps","nativeOn","key","contextmenu","click","mousemove","focus","blur","trigger","attrs","parent","autoMount","_ref"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ref from 'vue-ref';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport { hasProp, getComponentFromProp, getDataEvents, filterEmpty, getListeners } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport warning from '../_util/warning';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName, noop } from './utils';\nimport BaseMixin from '../_util/BaseMixin';\nimport { cloneElement } from '../_util/vnode';\nimport ContainerRender from '../_util/ContainerRender';\n\nVue.use(ref, { name: 'ant-ref' });\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\nvar ALL_HANDLERS = ['click', 'mousedown', 'touchstart', 'mouseenter', 'mouseleave', 'focus', 'blur', 'contextmenu'];\n\nexport default {\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    // onPopupVisibleChange: PropTypes.func.def(noop),\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: PropTypes.bool,\n    destroyPopupOnHide: PropTypes.bool.def(false),\n    mask: PropTypes.bool.def(false),\n    maskClosable: PropTypes.bool.def(true),\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: PropTypes.bool,\n    defaultPopupVisible: PropTypes.bool.def(false),\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string,\n    stretch: PropTypes.string,\n    alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n  },\n  provide: function provide() {\n    return {\n      vcTriggerContext: this\n    };\n  },\n\n  inject: {\n    vcTriggerContext: { 'default': function _default() {\n        return {};\n      } },\n    savePopupRef: { 'default': function _default() {\n        return noop;\n      } },\n    dialogContext: { 'default': function _default() {\n        return null;\n      } }\n  },\n  data: function data() {\n    var _this = this;\n\n    var props = this.$props;\n    var popupVisible = void 0;\n    if (hasProp(this, 'popupVisible')) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.renderComponent(null);\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (_this3.sPopupVisible !== _this3.prevPopupVisible) {\n        _this3.afterPopupVisibleChange(_this3.sPopupVisible);\n      }\n      _this3.prevPopupVisible = _this3.sPopupVisible;\n    };\n    this.renderComponent(null, triggerAfterPopupVisibleChange);\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  },\n\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data;\n\n      // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n      if (state.sPopupVisible) {\n        var currentDocument = void 0;\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument();\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        }\n        // always hide on mobile\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument();\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n        }\n        // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument();\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        }\n        // close popup when trigger type contains 'onContextmenu' and window is blur.\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n\n      this.fireEvents('mouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('mousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('mouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n        return;\n      }\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('focus', e);\n      // incase focusin and focusout\n      this.clearDelayTimer();\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('mousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('touchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('blur', e);\n        this.clearDelayTimer();\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('contextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('click', event);\n      // focus will trigger click\n      if (this.focusTime) {\n        var preTime = void 0;\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n        this.focusTime = 0;\n      }\n      this.preClickTime = 0;\n      this.preTouchTime = 0;\n      // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n      var nextVisible = !this.$data.sPopupVisible;\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _vcTriggerContext = this.vcTriggerContext,\n          vcTriggerContext = _vcTriggerContext === undefined ? {} : _vcTriggerContext;\n\n      this.hasPopupMouseDown = true;\n\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n      var target = event.target;\n      var root = this.$el;\n      if (!contains(root, target) && !this.hasPopupMouseDown) {\n        this.close();\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      if (this._component && this._component.getPopupDomNode) {\n        return this._component.getPopupDomNode();\n      }\n      return null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      return this.$el;\n      // return this.$el.children[0] || this.$el\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n      return popupAlign;\n    },\n    savePopup: function savePopup(node) {\n      this._component = node;\n      this.savePopupRef(node);\n    },\n    getComponent: function getComponent() {\n      var h = this.$createElement;\n\n      var self = this;\n      var mouseProps = {};\n      if (this.isMouseEnterToShow()) {\n        mouseProps.mouseenter = self.onPopupMouseenter;\n      }\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.mouseleave = self.onPopupMouseleave;\n      }\n      mouseProps.mousedown = this.onPopupMouseDown;\n      mouseProps.touchstart = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = self.handleGetPopupClassFromAlign,\n          getRootDomNode = self.getRootDomNode,\n          getContainer = self.getContainer;\n      var _self$$props = self.$props,\n          prefixCls = _self$$props.prefixCls,\n          destroyPopupOnHide = _self$$props.destroyPopupOnHide,\n          popupClassName = _self$$props.popupClassName,\n          action = _self$$props.action,\n          popupAnimation = _self$$props.popupAnimation,\n          popupTransitionName = _self$$props.popupTransitionName,\n          popupStyle = _self$$props.popupStyle,\n          mask = _self$$props.mask,\n          maskAnimation = _self$$props.maskAnimation,\n          maskTransitionName = _self$$props.maskTransitionName,\n          zIndex = _self$$props.zIndex,\n          stretch = _self$$props.stretch,\n          alignPoint = _self$$props.alignPoint;\n      var _$data = this.$data,\n          sPopupVisible = _$data.sPopupVisible,\n          point = _$data.point;\n\n      var align = this.getPopupAlign();\n      var popupProps = {\n        props: {\n          prefixCls: prefixCls,\n          destroyPopupOnHide: destroyPopupOnHide,\n          visible: sPopupVisible,\n          point: alignPoint && point,\n          action: action,\n          align: align,\n          animation: popupAnimation,\n          getClassNameFromAlign: handleGetPopupClassFromAlign,\n          stretch: stretch,\n          getRootDomNode: getRootDomNode,\n          mask: mask,\n          zIndex: zIndex,\n          transitionName: popupTransitionName,\n          maskAnimation: maskAnimation,\n          maskTransitionName: maskTransitionName,\n          getContainer: getContainer,\n          popupClassName: popupClassName,\n          popupStyle: popupStyle\n        },\n        on: _extends({\n          align: getListeners(this).popupAlign || noop\n        }, mouseProps),\n        directives: [{\n          name: 'ant-ref',\n          value: this.savePopup\n        }]\n      };\n      return h(\n        Popup,\n        popupProps,\n        [getComponentFromProp(self, 'popup')]\n      );\n    },\n    getContainer: function getContainer() {\n      var props = this.$props,\n          dialogContext = this.dialogContext;\n\n      var popupContainer = document.createElement('div');\n      // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(this.$el, dialogContext) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      this.popupContainer = popupContainer;\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible;\n\n      this.clearDelayTimer();\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n        var listeners = getListeners(this);\n        listeners.popupVisibleChange && listeners.popupVisibleChange(sPopupVisible);\n      }\n      // Always record the point position since mouseEnterDelay will delay the show\n      if (alignPoint && event) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n\n      if (!alignPoint || !point) return;\n\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this5 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n      if (delay) {\n        var point = event ? { pageX: event.pageX, pageY: event.pageY } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this5.setPopupVisible(visible, point);\n          _this5.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n      var events = getListeners(this);\n      if (this.childOriginEvents[event] && events[event]) {\n        return this['fire' + event];\n      }\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _$props = this.$props,\n          action = _$props.action,\n          showAction = _$props.showAction;\n\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _$props2 = this.$props,\n          action = _$props2.action,\n          showAction = _$props2.showAction;\n\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _$props3 = this.$props,\n          action = _$props3.action,\n          hideAction = _$props3.hideAction;\n\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _$props4 = this.$props,\n          action = _$props4.action,\n          showAction = _$props4.showAction;\n\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _$props5 = this.$props,\n          action = _$props5.action,\n          hideAction = _$props5.hideAction;\n\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _$props6 = this.$props,\n          action = _$props6.action,\n          showAction = _$props6.showAction;\n\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _$props7 = this.$props,\n          action = _$props7.action,\n          hideAction = _$props7.hideAction;\n\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible && this._component && this._component.$refs.alignInstance) {\n        this._component.$refs.alignInstance.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n      this.__emit(type, e);\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this6 = this;\n\n    var h = arguments[0];\n    var sPopupVisible = this.sPopupVisible;\n\n    var children = filterEmpty(this.$slots['default']);\n    var _$props8 = this.$props,\n        forceRender = _$props8.forceRender,\n        alignPoint = _$props8.alignPoint;\n\n\n    if (children.length > 1) {\n      warning(false, 'Trigger $slots.default.length > 1, just support only one default', true);\n    }\n    var child = children[0];\n    this.childOriginEvents = getDataEvents(child);\n    var newChildProps = {\n      props: {},\n      nativeOn: {},\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.nativeOn.contextmenu = this.onContextmenu;\n    } else {\n      newChildProps.nativeOn.contextmenu = this.createTwoChains('contextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.nativeOn.click = this.onClick;\n      newChildProps.nativeOn.mousedown = this.onMousedown;\n      newChildProps.nativeOn.touchstart = this.onTouchstart;\n    } else {\n      newChildProps.nativeOn.click = this.createTwoChains('click');\n      newChildProps.nativeOn.mousedown = this.createTwoChains('mousedown');\n      newChildProps.nativeOn.touchstart = this.createTwoChains('onTouchstart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.nativeOn.mouseenter = this.onMouseenter;\n      if (alignPoint) {\n        newChildProps.nativeOn.mousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.nativeOn.mouseenter = this.createTwoChains('mouseenter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.nativeOn.mouseleave = this.onMouseleave;\n    } else {\n      newChildProps.nativeOn.mouseleave = this.createTwoChains('mouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.nativeOn.focus = this.onFocus;\n      newChildProps.nativeOn.blur = this.onBlur;\n    } else {\n      newChildProps.nativeOn.focus = this.createTwoChains('focus');\n      newChildProps.nativeOn.blur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this6.createTwoChains('blur')(e);\n        }\n      };\n    }\n\n    this.trigger = cloneElement(child, newChildProps);\n\n    return h(ContainerRender, {\n      attrs: {\n        parent: this,\n        visible: sPopupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer,\n        children: function children(_ref) {\n          var renderComponent = _ref.renderComponent;\n\n          _this6.renderComponent = renderComponent;\n          return _this6.trigger;\n        }\n      }\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}