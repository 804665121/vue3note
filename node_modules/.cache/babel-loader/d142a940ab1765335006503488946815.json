{"ast":null,"code":"import PropTypes from '../_util/vue-types';\nimport Select from './Select';\nimport BaseMixin from '../_util/BaseMixin';\n\nvar formatOption = function formatOption(option, disabledOptions) {\n  var value = '' + option;\n\n  if (option < 10) {\n    value = '0' + option;\n  }\n\n  var disabled = false;\n\n  if (disabledOptions && disabledOptions.indexOf(option) >= 0) {\n    disabled = true;\n  }\n\n  return {\n    value: value,\n    disabled: disabled\n  };\n};\n\nvar Combobox = {\n  mixins: [BaseMixin],\n  name: 'Combobox',\n  props: {\n    format: PropTypes.string,\n    defaultOpenValue: PropTypes.object,\n    prefixCls: PropTypes.string,\n    value: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onAmPmChange: PropTypes.func,\n    showHour: PropTypes.bool,\n    showMinute: PropTypes.bool,\n    showSecond: PropTypes.bool,\n    hourOptions: PropTypes.array,\n    minuteOptions: PropTypes.array,\n    secondOptions: PropTypes.array,\n    disabledHours: PropTypes.func,\n    disabledMinutes: PropTypes.func,\n    disabledSeconds: PropTypes.func,\n    // onCurrentSelectPanelChange: PropTypes.func,\n    use12Hours: PropTypes.bool,\n    isAM: PropTypes.bool\n  },\n  methods: {\n    onItemChange: function onItemChange(type, itemValue) {\n      var defaultOpenValue = this.defaultOpenValue,\n          use12Hours = this.use12Hours,\n          propValue = this.value,\n          isAM = this.isAM;\n      var value = (propValue || defaultOpenValue).clone();\n\n      if (type === 'hour') {\n        if (use12Hours) {\n          if (isAM) {\n            value.hour(+itemValue % 12);\n          } else {\n            value.hour(+itemValue % 12 + 12);\n          }\n        } else {\n          value.hour(+itemValue);\n        }\n      } else if (type === 'minute') {\n        value.minute(+itemValue);\n      } else if (type === 'ampm') {\n        var ampm = itemValue.toUpperCase();\n\n        if (use12Hours) {\n          if (ampm === 'PM' && value.hour() < 12) {\n            value.hour(value.hour() % 12 + 12);\n          }\n\n          if (ampm === 'AM') {\n            if (value.hour() >= 12) {\n              value.hour(value.hour() - 12);\n            }\n          }\n        }\n\n        this.__emit('amPmChange', ampm);\n      } else {\n        value.second(+itemValue);\n      }\n\n      this.__emit('change', value);\n    },\n    onEnterSelectPanel: function onEnterSelectPanel(range) {\n      this.__emit('currentSelectPanelChange', range);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getHourSelect: function getHourSelect(hour) {\n      var _this = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          hourOptions = this.hourOptions,\n          disabledHours = this.disabledHours,\n          showHour = this.showHour,\n          use12Hours = this.use12Hours;\n\n      if (!showHour) {\n        return null;\n      }\n\n      var disabledOptions = disabledHours();\n      var hourOptionsAdj = void 0;\n      var hourAdj = void 0;\n\n      if (use12Hours) {\n        hourOptionsAdj = [12].concat(hourOptions.filter(function (h) {\n          return h < 12 && h > 0;\n        }));\n        hourAdj = hour % 12 || 12;\n      } else {\n        hourOptionsAdj = hourOptions;\n        hourAdj = hour;\n      }\n\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: hourOptionsAdj.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: hourOptionsAdj.indexOf(hourAdj),\n          type: 'hour'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this.onEnterSelectPanel('hour');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getMinuteSelect: function getMinuteSelect(minute) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          minuteOptions = this.minuteOptions,\n          disabledMinutes = this.disabledMinutes,\n          defaultOpenValue = this.defaultOpenValue,\n          showMinute = this.showMinute,\n          propValue = this.value;\n\n      if (!showMinute) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledMinutes(value.hour());\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: minuteOptions.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: minuteOptions.indexOf(minute),\n          type: 'minute'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this2.onEnterSelectPanel('minute');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getSecondSelect: function getSecondSelect(second) {\n      var _this3 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          secondOptions = this.secondOptions,\n          disabledSeconds = this.disabledSeconds,\n          showSecond = this.showSecond,\n          defaultOpenValue = this.defaultOpenValue,\n          propValue = this.value;\n\n      if (!showSecond) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledSeconds(value.hour(), value.minute());\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: secondOptions.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: secondOptions.indexOf(second),\n          type: 'second'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this3.onEnterSelectPanel('second');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getAMPMSelect: function getAMPMSelect() {\n      var _this4 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          use12Hours = this.use12Hours,\n          format = this.format,\n          isAM = this.isAM;\n\n      if (!use12Hours) {\n        return null;\n      }\n\n      var AMPMOptions = ['am', 'pm'] // If format has A char, then we should uppercase AM/PM\n      .map(function (c) {\n        return format.match(/\\sA/) ? c.toUpperCase() : c;\n      }).map(function (c) {\n        return {\n          value: c\n        };\n      });\n      var selected = isAM ? 0 : 1;\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: AMPMOptions,\n          selectedIndex: selected,\n          type: 'ampm'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this4.onEnterSelectPanel('ampm');\n          },\n          'esc': this.onEsc\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        defaultOpenValue = this.defaultOpenValue,\n        propValue = this.value;\n    var value = propValue || defaultOpenValue;\n    return h('div', {\n      'class': prefixCls + '-combobox'\n    }, [this.getHourSelect(value.hour()), this.getMinuteSelect(value.minute()), this.getSecondSelect(value.second()), this.getAMPMSelect(value.hour())]);\n  }\n};\nexport default Combobox;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-time-picker/Combobox.js"],"names":["PropTypes","Select","BaseMixin","formatOption","option","disabledOptions","value","disabled","indexOf","Combobox","mixins","name","props","format","string","defaultOpenValue","object","prefixCls","showHour","bool","showMinute","showSecond","hourOptions","array","minuteOptions","secondOptions","disabledHours","func","disabledMinutes","disabledSeconds","use12Hours","isAM","methods","onItemChange","type","itemValue","propValue","clone","hour","minute","ampm","toUpperCase","__emit","second","onEnterSelectPanel","range","onEsc","e","getHourSelect","_this","h","$createElement","hourOptionsAdj","hourAdj","concat","filter","attrs","options","map","selectedIndex","on","mouseenter","getMinuteSelect","_this2","getSecondSelect","_this3","getAMPMSelect","_this4","AMPMOptions","c","match","selected","render","arguments"],"mappings":"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","sourcesContent":["import PropTypes from '../_util/vue-types';\nimport Select from './Select';\nimport BaseMixin from '../_util/BaseMixin';\n\nvar formatOption = function formatOption(option, disabledOptions) {\n  var value = '' + option;\n  if (option < 10) {\n    value = '0' + option;\n  }\n\n  var disabled = false;\n  if (disabledOptions && disabledOptions.indexOf(option) >= 0) {\n    disabled = true;\n  }\n\n  return {\n    value: value,\n    disabled: disabled\n  };\n};\n\nvar Combobox = {\n  mixins: [BaseMixin],\n  name: 'Combobox',\n  props: {\n    format: PropTypes.string,\n    defaultOpenValue: PropTypes.object,\n    prefixCls: PropTypes.string,\n    value: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onAmPmChange: PropTypes.func,\n    showHour: PropTypes.bool,\n    showMinute: PropTypes.bool,\n    showSecond: PropTypes.bool,\n    hourOptions: PropTypes.array,\n    minuteOptions: PropTypes.array,\n    secondOptions: PropTypes.array,\n    disabledHours: PropTypes.func,\n    disabledMinutes: PropTypes.func,\n    disabledSeconds: PropTypes.func,\n    // onCurrentSelectPanelChange: PropTypes.func,\n    use12Hours: PropTypes.bool,\n    isAM: PropTypes.bool\n  },\n  methods: {\n    onItemChange: function onItemChange(type, itemValue) {\n      var defaultOpenValue = this.defaultOpenValue,\n          use12Hours = this.use12Hours,\n          propValue = this.value,\n          isAM = this.isAM;\n\n      var value = (propValue || defaultOpenValue).clone();\n\n      if (type === 'hour') {\n        if (use12Hours) {\n          if (isAM) {\n            value.hour(+itemValue % 12);\n          } else {\n            value.hour(+itemValue % 12 + 12);\n          }\n        } else {\n          value.hour(+itemValue);\n        }\n      } else if (type === 'minute') {\n        value.minute(+itemValue);\n      } else if (type === 'ampm') {\n        var ampm = itemValue.toUpperCase();\n        if (use12Hours) {\n          if (ampm === 'PM' && value.hour() < 12) {\n            value.hour(value.hour() % 12 + 12);\n          }\n\n          if (ampm === 'AM') {\n            if (value.hour() >= 12) {\n              value.hour(value.hour() - 12);\n            }\n          }\n        }\n        this.__emit('amPmChange', ampm);\n      } else {\n        value.second(+itemValue);\n      }\n      this.__emit('change', value);\n    },\n    onEnterSelectPanel: function onEnterSelectPanel(range) {\n      this.__emit('currentSelectPanelChange', range);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getHourSelect: function getHourSelect(hour) {\n      var _this = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          hourOptions = this.hourOptions,\n          disabledHours = this.disabledHours,\n          showHour = this.showHour,\n          use12Hours = this.use12Hours;\n\n      if (!showHour) {\n        return null;\n      }\n      var disabledOptions = disabledHours();\n      var hourOptionsAdj = void 0;\n      var hourAdj = void 0;\n      if (use12Hours) {\n        hourOptionsAdj = [12].concat(hourOptions.filter(function (h) {\n          return h < 12 && h > 0;\n        }));\n        hourAdj = hour % 12 || 12;\n      } else {\n        hourOptionsAdj = hourOptions;\n        hourAdj = hour;\n      }\n\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: hourOptionsAdj.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: hourOptionsAdj.indexOf(hourAdj),\n          type: 'hour'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this.onEnterSelectPanel('hour');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getMinuteSelect: function getMinuteSelect(minute) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          minuteOptions = this.minuteOptions,\n          disabledMinutes = this.disabledMinutes,\n          defaultOpenValue = this.defaultOpenValue,\n          showMinute = this.showMinute,\n          propValue = this.value;\n\n      if (!showMinute) {\n        return null;\n      }\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledMinutes(value.hour());\n\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: minuteOptions.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: minuteOptions.indexOf(minute),\n          type: 'minute'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this2.onEnterSelectPanel('minute');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getSecondSelect: function getSecondSelect(second) {\n      var _this3 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          secondOptions = this.secondOptions,\n          disabledSeconds = this.disabledSeconds,\n          showSecond = this.showSecond,\n          defaultOpenValue = this.defaultOpenValue,\n          propValue = this.value;\n\n      if (!showSecond) {\n        return null;\n      }\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledSeconds(value.hour(), value.minute());\n\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: secondOptions.map(function (option) {\n            return formatOption(option, disabledOptions);\n          }),\n          selectedIndex: secondOptions.indexOf(second),\n          type: 'second'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this3.onEnterSelectPanel('second');\n          },\n          'esc': this.onEsc\n        }\n      });\n    },\n    getAMPMSelect: function getAMPMSelect() {\n      var _this4 = this;\n\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          use12Hours = this.use12Hours,\n          format = this.format,\n          isAM = this.isAM;\n\n      if (!use12Hours) {\n        return null;\n      }\n\n      var AMPMOptions = ['am', 'pm'] // If format has A char, then we should uppercase AM/PM\n      .map(function (c) {\n        return format.match(/\\sA/) ? c.toUpperCase() : c;\n      }).map(function (c) {\n        return { value: c };\n      });\n\n      var selected = isAM ? 0 : 1;\n\n      return h(Select, {\n        attrs: {\n          prefixCls: prefixCls,\n          options: AMPMOptions,\n          selectedIndex: selected,\n          type: 'ampm'\n        },\n        on: {\n          'select': this.onItemChange,\n          'mouseenter': function mouseenter() {\n            return _this4.onEnterSelectPanel('ampm');\n          },\n          'esc': this.onEsc\n        }\n      });\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        defaultOpenValue = this.defaultOpenValue,\n        propValue = this.value;\n\n    var value = propValue || defaultOpenValue;\n    return h(\n      'div',\n      { 'class': prefixCls + '-combobox' },\n      [this.getHourSelect(value.hour()), this.getMinuteSelect(value.minute()), this.getSecondSelect(value.second()), this.getAMPMSelect(value.hour())]\n    );\n  }\n};\n\nexport default Combobox;"]},"metadata":{},"sourceType":"module"}