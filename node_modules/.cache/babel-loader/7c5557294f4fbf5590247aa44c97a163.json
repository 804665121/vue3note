{"ast":null,"code":"import PropTypes from '../../_util/vue-types';\nimport ExpandIcon from './ExpandIcon';\nimport BaseMixin from '../../_util/BaseMixin';\nvar ExpandableRow = {\n  mixins: [BaseMixin],\n  name: 'ExpandableRow',\n  props: {\n    prefixCls: PropTypes.string.isRequired,\n    rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    record: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n    indentSize: PropTypes.number,\n    needIndentSpaced: PropTypes.bool.isRequired,\n    expandRowByClick: PropTypes.bool,\n    expandIconAsCell: PropTypes.bool,\n    expandIconColumnIndex: PropTypes.number,\n    childrenColumnName: PropTypes.string,\n    expandedRowRender: PropTypes.func,\n    expandIcon: PropTypes.func // onExpandedChange: PropTypes.func.isRequired,\n    // onRowClick: PropTypes.func,\n    // children: PropTypes.func.isRequired,\n\n  },\n  inject: {\n    store: {\n      from: 'table-store',\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  computed: {\n    expanded: function expanded() {\n      return this.store.expandedRowKeys.includes(this.$props.rowKey);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.handleDestroy();\n  },\n  methods: {\n    hasExpandIcon: function hasExpandIcon(columnIndex) {\n      var _$props = this.$props,\n          expandRowByClick = _$props.expandRowByClick,\n          expandIcon = _$props.expandIcon;\n\n      if (this.tempExpandIconAsCell || columnIndex !== this.tempExpandIconColumnIndex) {\n        return false;\n      }\n\n      return !!expandIcon || !expandRowByClick;\n    },\n    handleExpandChange: function handleExpandChange(record, event) {\n      var expanded = this.expanded,\n          rowKey = this.rowKey;\n\n      this.__emit('expandedChange', !expanded, record, event, rowKey);\n    },\n    handleDestroy: function handleDestroy() {\n      var rowKey = this.rowKey,\n          record = this.record;\n\n      this.__emit('expandedChange', false, record, null, rowKey, true);\n    },\n    handleRowClick: function handleRowClick(record, index, event) {\n      var expandRowByClick = this.expandRowByClick;\n\n      if (expandRowByClick) {\n        this.handleExpandChange(record, event);\n      }\n\n      this.__emit('rowClick', record, index, event);\n    },\n    renderExpandIcon: function renderExpandIcon() {\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          expanded = this.expanded,\n          record = this.record,\n          needIndentSpaced = this.needIndentSpaced,\n          expandIcon = this.expandIcon;\n\n      if (expandIcon) {\n        return expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          record: record,\n          needIndentSpaced: needIndentSpaced,\n          expandable: this.expandable,\n          onExpand: this.handleExpandChange\n        });\n      }\n\n      return h(ExpandIcon, {\n        attrs: {\n          expandable: this.expandable,\n          prefixCls: prefixCls,\n          needIndentSpaced: needIndentSpaced,\n          expanded: expanded,\n          record: record\n        },\n        on: {\n          'expand': this.handleExpandChange\n        }\n      });\n    },\n    renderExpandIconCell: function renderExpandIconCell(cells) {\n      var h = this.$createElement;\n\n      if (!this.tempExpandIconAsCell) {\n        return;\n      }\n\n      var prefixCls = this.prefixCls;\n      cells.push(h('td', {\n        'class': prefixCls + '-expand-icon-cell',\n        key: 'rc-table-expand-icon-cell'\n      }, [this.renderExpandIcon()]));\n    }\n  },\n  render: function render() {\n    var childrenColumnName = this.childrenColumnName,\n        expandedRowRender = this.expandedRowRender,\n        indentSize = this.indentSize,\n        record = this.record,\n        fixed = this.fixed,\n        $scopedSlots = this.$scopedSlots,\n        expanded = this.expanded;\n    this.tempExpandIconAsCell = fixed !== 'right' ? this.expandIconAsCell : false;\n    this.tempExpandIconColumnIndex = fixed !== 'right' ? this.expandIconColumnIndex : -1;\n    var childrenData = record[childrenColumnName];\n    this.expandable = !!(childrenData || expandedRowRender);\n    var expandableRowProps = {\n      props: {\n        indentSize: indentSize,\n        expanded: expanded,\n        // not used in TableRow, but it's required to re-render TableRow when `expanded` changes\n        hasExpandIcon: this.hasExpandIcon,\n        renderExpandIcon: this.renderExpandIcon,\n        renderExpandIconCell: this.renderExpandIconCell\n      },\n      on: {\n        rowClick: this.handleRowClick\n      }\n    };\n    return $scopedSlots['default'] && $scopedSlots['default'](expandableRowProps);\n  }\n};\nexport default ExpandableRow;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-table/src/ExpandableRow.js"],"names":["PropTypes","ExpandIcon","BaseMixin","ExpandableRow","mixins","name","props","prefixCls","string","isRequired","rowKey","oneOfType","number","fixed","bool","record","object","array","indentSize","needIndentSpaced","expandRowByClick","expandIconAsCell","expandIconColumnIndex","childrenColumnName","expandedRowRender","func","expandIcon","inject","store","from","_default","computed","expanded","expandedRowKeys","includes","$props","beforeDestroy","handleDestroy","methods","hasExpandIcon","columnIndex","_$props","tempExpandIconAsCell","tempExpandIconColumnIndex","handleExpandChange","event","__emit","handleRowClick","index","renderExpandIcon","h","$createElement","expandable","onExpand","attrs","on","renderExpandIconCell","cells","push","key","render","$scopedSlots","childrenData","expandableRowProps","rowClick"],"mappings":"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","sourcesContent":["import PropTypes from '../../_util/vue-types';\nimport ExpandIcon from './ExpandIcon';\nimport BaseMixin from '../../_util/BaseMixin';\n\nvar ExpandableRow = {\n  mixins: [BaseMixin],\n  name: 'ExpandableRow',\n  props: {\n    prefixCls: PropTypes.string.isRequired,\n    rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    record: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n    indentSize: PropTypes.number,\n    needIndentSpaced: PropTypes.bool.isRequired,\n    expandRowByClick: PropTypes.bool,\n    expandIconAsCell: PropTypes.bool,\n    expandIconColumnIndex: PropTypes.number,\n    childrenColumnName: PropTypes.string,\n    expandedRowRender: PropTypes.func,\n    expandIcon: PropTypes.func\n    // onExpandedChange: PropTypes.func.isRequired,\n    // onRowClick: PropTypes.func,\n    // children: PropTypes.func.isRequired,\n  },\n  inject: {\n    store: { from: 'table-store', 'default': function _default() {\n        return {};\n      } }\n  },\n  computed: {\n    expanded: function expanded() {\n      return this.store.expandedRowKeys.includes(this.$props.rowKey);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.handleDestroy();\n  },\n\n  methods: {\n    hasExpandIcon: function hasExpandIcon(columnIndex) {\n      var _$props = this.$props,\n          expandRowByClick = _$props.expandRowByClick,\n          expandIcon = _$props.expandIcon;\n\n\n      if (this.tempExpandIconAsCell || columnIndex !== this.tempExpandIconColumnIndex) {\n        return false;\n      }\n\n      return !!expandIcon || !expandRowByClick;\n    },\n    handleExpandChange: function handleExpandChange(record, event) {\n      var expanded = this.expanded,\n          rowKey = this.rowKey;\n\n      this.__emit('expandedChange', !expanded, record, event, rowKey);\n    },\n    handleDestroy: function handleDestroy() {\n      var rowKey = this.rowKey,\n          record = this.record;\n\n      this.__emit('expandedChange', false, record, null, rowKey, true);\n    },\n    handleRowClick: function handleRowClick(record, index, event) {\n      var expandRowByClick = this.expandRowByClick;\n\n      if (expandRowByClick) {\n        this.handleExpandChange(record, event);\n      }\n      this.__emit('rowClick', record, index, event);\n    },\n    renderExpandIcon: function renderExpandIcon() {\n      var h = this.$createElement;\n      var prefixCls = this.prefixCls,\n          expanded = this.expanded,\n          record = this.record,\n          needIndentSpaced = this.needIndentSpaced,\n          expandIcon = this.expandIcon;\n\n      if (expandIcon) {\n        return expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          record: record,\n          needIndentSpaced: needIndentSpaced,\n          expandable: this.expandable,\n          onExpand: this.handleExpandChange\n        });\n      }\n      return h(ExpandIcon, {\n        attrs: {\n          expandable: this.expandable,\n          prefixCls: prefixCls,\n\n          needIndentSpaced: needIndentSpaced,\n          expanded: expanded,\n          record: record\n        },\n        on: {\n          'expand': this.handleExpandChange\n        }\n      });\n    },\n    renderExpandIconCell: function renderExpandIconCell(cells) {\n      var h = this.$createElement;\n\n      if (!this.tempExpandIconAsCell) {\n        return;\n      }\n      var prefixCls = this.prefixCls;\n\n\n      cells.push(h(\n        'td',\n        { 'class': prefixCls + '-expand-icon-cell', key: 'rc-table-expand-icon-cell' },\n        [this.renderExpandIcon()]\n      ));\n    }\n  },\n\n  render: function render() {\n    var childrenColumnName = this.childrenColumnName,\n        expandedRowRender = this.expandedRowRender,\n        indentSize = this.indentSize,\n        record = this.record,\n        fixed = this.fixed,\n        $scopedSlots = this.$scopedSlots,\n        expanded = this.expanded;\n\n\n    this.tempExpandIconAsCell = fixed !== 'right' ? this.expandIconAsCell : false;\n    this.tempExpandIconColumnIndex = fixed !== 'right' ? this.expandIconColumnIndex : -1;\n    var childrenData = record[childrenColumnName];\n    this.expandable = !!(childrenData || expandedRowRender);\n    var expandableRowProps = {\n      props: {\n        indentSize: indentSize,\n        expanded: expanded, // not used in TableRow, but it's required to re-render TableRow when `expanded` changes\n        hasExpandIcon: this.hasExpandIcon,\n        renderExpandIcon: this.renderExpandIcon,\n        renderExpandIconCell: this.renderExpandIconCell\n      },\n\n      on: {\n        rowClick: this.handleRowClick\n      }\n    };\n\n    return $scopedSlots['default'] && $scopedSlots['default'](expandableRowProps);\n  }\n};\n\nexport default ExpandableRow;"]},"metadata":{},"sourceType":"module"}