{"ast":null,"code":"import moment from 'moment';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport Header from './Header';\nimport Combobox from './Combobox';\nimport { getComponentFromProp, getListeners } from '../_util/props-util';\n\nfunction noop() {}\n\nfunction generateOptions(length, disabledOptions, hideDisabledOptions) {\n  var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var arr = [];\n\n  for (var value = 0; value < length; value += step) {\n    if (!disabledOptions || disabledOptions.indexOf(value) < 0 || !hideDisabledOptions) {\n      arr.push(value);\n    }\n  }\n\n  return arr;\n}\n\nfunction toNearestValidTime(time, hourOptions, minuteOptions, secondOptions) {\n  var hour = hourOptions.slice().sort(function (a, b) {\n    return Math.abs(time.hour() - a) - Math.abs(time.hour() - b);\n  })[0];\n  var minute = minuteOptions.slice().sort(function (a, b) {\n    return Math.abs(time.minute() - a) - Math.abs(time.minute() - b);\n  })[0];\n  var second = secondOptions.slice().sort(function (a, b) {\n    return Math.abs(time.second() - a) - Math.abs(time.second() - b);\n  })[0];\n  return moment(hour + ':' + minute + ':' + second, 'HH:mm:ss');\n}\n\nvar Panel = {\n  mixins: [BaseMixin],\n  props: {\n    clearText: PropTypes.string,\n    prefixCls: PropTypes.string.def('rc-time-picker-panel'),\n    defaultOpenValue: {\n      type: Object,\n      'default': function _default() {\n        return moment();\n      }\n    },\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    placeholder: PropTypes.string,\n    format: PropTypes.string,\n    inputReadOnly: PropTypes.bool.def(false),\n    disabledHours: PropTypes.func.def(noop),\n    disabledMinutes: PropTypes.func.def(noop),\n    disabledSeconds: PropTypes.func.def(noop),\n    hideDisabledOptions: PropTypes.bool,\n    // onChange: PropTypes.func,\n    // onEsc: PropTypes.func,\n    allowEmpty: PropTypes.bool,\n    showHour: PropTypes.bool,\n    showMinute: PropTypes.bool,\n    showSecond: PropTypes.bool,\n    // onClear: PropTypes.func,\n    use12Hours: PropTypes.bool.def(false),\n    hourStep: PropTypes.number,\n    minuteStep: PropTypes.number,\n    secondStep: PropTypes.number,\n    addon: PropTypes.func.def(noop),\n    focusOnOpen: PropTypes.bool,\n    // onKeydown: PropTypes.func,\n    clearIcon: PropTypes.any\n  },\n  data: function data() {\n    return {\n      sValue: this.value,\n      selectionRange: [],\n      currentSelectPanel: ''\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.setState({\n        sValue: val\n      });\n    }\n  },\n  methods: {\n    onChange: function onChange(newValue) {\n      this.setState({\n        sValue: newValue\n      });\n\n      this.__emit('change', newValue);\n    },\n    onAmPmChange: function onAmPmChange(ampm) {\n      this.__emit('amPmChange', ampm);\n    },\n    onCurrentSelectPanelChange: function onCurrentSelectPanelChange(currentSelectPanel) {\n      this.setState({\n        currentSelectPanel: currentSelectPanel\n      });\n    },\n    // https://github.com/ant-design/ant-design/issues/5829\n    close: function close() {\n      this.__emit('esc');\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    disabledHours2: function disabledHours2() {\n      var use12Hours = this.use12Hours,\n          disabledHours = this.disabledHours;\n      var disabledOptions = disabledHours();\n\n      if (use12Hours && Array.isArray(disabledOptions)) {\n        if (this.isAM()) {\n          disabledOptions = disabledOptions.filter(function (h) {\n            return h < 12;\n          }).map(function (h) {\n            return h === 0 ? 12 : h;\n          });\n        } else {\n          disabledOptions = disabledOptions.map(function (h) {\n            return h === 12 ? 12 : h - 12;\n          });\n        }\n      }\n\n      return disabledOptions;\n    },\n    isAM: function isAM() {\n      var value = this.sValue || this.defaultOpenValue;\n      return value.hour() >= 0 && value.hour() < 12;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        placeholder = this.placeholder,\n        disabledMinutes = this.disabledMinutes,\n        addon = this.addon,\n        disabledSeconds = this.disabledSeconds,\n        hideDisabledOptions = this.hideDisabledOptions,\n        showHour = this.showHour,\n        showMinute = this.showMinute,\n        showSecond = this.showSecond,\n        format = this.format,\n        defaultOpenValue = this.defaultOpenValue,\n        clearText = this.clearText,\n        use12Hours = this.use12Hours,\n        focusOnOpen = this.focusOnOpen,\n        hourStep = this.hourStep,\n        minuteStep = this.minuteStep,\n        secondStep = this.secondStep,\n        inputReadOnly = this.inputReadOnly,\n        sValue = this.sValue,\n        currentSelectPanel = this.currentSelectPanel;\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n\n    var _getListeners = getListeners(this),\n        _getListeners$esc = _getListeners.esc,\n        esc = _getListeners$esc === undefined ? noop : _getListeners$esc,\n        _getListeners$keydown = _getListeners.keydown,\n        keydown = _getListeners$keydown === undefined ? noop : _getListeners$keydown;\n\n    var disabledHourOptions = this.disabledHours2();\n    var disabledMinuteOptions = disabledMinutes(sValue ? sValue.hour() : null);\n    var disabledSecondOptions = disabledSeconds(sValue ? sValue.hour() : null, sValue ? sValue.minute() : null);\n    var hourOptions = generateOptions(24, disabledHourOptions, hideDisabledOptions, hourStep);\n    var minuteOptions = generateOptions(60, disabledMinuteOptions, hideDisabledOptions, minuteStep);\n    var secondOptions = generateOptions(60, disabledSecondOptions, hideDisabledOptions, secondStep);\n    var validDefaultOpenValue = toNearestValidTime(defaultOpenValue, hourOptions, minuteOptions, secondOptions);\n    return h('div', {\n      'class': prefixCls + '-inner'\n    }, [h(Header, {\n      attrs: {\n        clearText: clearText,\n        prefixCls: prefixCls,\n        defaultOpenValue: validDefaultOpenValue,\n        value: sValue,\n        currentSelectPanel: currentSelectPanel,\n        format: format,\n        placeholder: placeholder,\n        hourOptions: hourOptions,\n        minuteOptions: minuteOptions,\n        secondOptions: secondOptions,\n        disabledHours: this.disabledHours2,\n        disabledMinutes: disabledMinutes,\n        disabledSeconds: disabledSeconds,\n        focusOnOpen: focusOnOpen,\n        inputReadOnly: inputReadOnly,\n        clearIcon: clearIcon\n      },\n      on: {\n        'esc': esc,\n        'change': this.onChange,\n        'keydown': keydown\n      }\n    }), h(Combobox, {\n      attrs: {\n        prefixCls: prefixCls,\n        value: sValue,\n        defaultOpenValue: validDefaultOpenValue,\n        format: format,\n        showHour: showHour,\n        showMinute: showMinute,\n        showSecond: showSecond,\n        hourOptions: hourOptions,\n        minuteOptions: minuteOptions,\n        secondOptions: secondOptions,\n        disabledHours: this.disabledHours2,\n        disabledMinutes: disabledMinutes,\n        disabledSeconds: disabledSeconds,\n        use12Hours: use12Hours,\n        isAM: this.isAM()\n      },\n      on: {\n        'change': this.onChange,\n        'amPmChange': this.onAmPmChange,\n        'currentSelectPanelChange': this.onCurrentSelectPanelChange,\n        'esc': this.onEsc\n      }\n    }), addon(this)]);\n  }\n};\nexport default Panel;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-time-picker/Panel.js"],"names":["moment","PropTypes","BaseMixin","Header","Combobox","getComponentFromProp","getListeners","noop","generateOptions","length","disabledOptions","hideDisabledOptions","step","arguments","undefined","arr","value","indexOf","push","toNearestValidTime","time","hourOptions","minuteOptions","secondOptions","hour","slice","sort","a","b","Math","abs","minute","second","Panel","mixins","props","clearText","string","prefixCls","def","defaultOpenValue","type","Object","_default","any","defaultValue","placeholder","format","inputReadOnly","bool","disabledHours","func","disabledMinutes","disabledSeconds","allowEmpty","showHour","showMinute","showSecond","use12Hours","hourStep","number","minuteStep","secondStep","addon","focusOnOpen","clearIcon","data","sValue","selectionRange","currentSelectPanel","watch","val","setState","methods","onChange","newValue","__emit","onAmPmChange","ampm","onCurrentSelectPanelChange","close","onEsc","e","disabledHours2","Array","isArray","isAM","filter","h","map","render","_getListeners","_getListeners$esc","esc","_getListeners$keydown","keydown","disabledHourOptions","disabledMinuteOptions","disabledSecondOptions","validDefaultOpenValue","attrs","on"],"mappings":"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","sourcesContent":["import moment from 'moment';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport Header from './Header';\nimport Combobox from './Combobox';\nimport { getComponentFromProp, getListeners } from '../_util/props-util';\n\nfunction noop() {}\n\nfunction generateOptions(length, disabledOptions, hideDisabledOptions) {\n  var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  var arr = [];\n  for (var value = 0; value < length; value += step) {\n    if (!disabledOptions || disabledOptions.indexOf(value) < 0 || !hideDisabledOptions) {\n      arr.push(value);\n    }\n  }\n  return arr;\n}\n\nfunction toNearestValidTime(time, hourOptions, minuteOptions, secondOptions) {\n  var hour = hourOptions.slice().sort(function (a, b) {\n    return Math.abs(time.hour() - a) - Math.abs(time.hour() - b);\n  })[0];\n  var minute = minuteOptions.slice().sort(function (a, b) {\n    return Math.abs(time.minute() - a) - Math.abs(time.minute() - b);\n  })[0];\n  var second = secondOptions.slice().sort(function (a, b) {\n    return Math.abs(time.second() - a) - Math.abs(time.second() - b);\n  })[0];\n  return moment(hour + ':' + minute + ':' + second, 'HH:mm:ss');\n}\n\nvar Panel = {\n  mixins: [BaseMixin],\n  props: {\n    clearText: PropTypes.string,\n    prefixCls: PropTypes.string.def('rc-time-picker-panel'),\n    defaultOpenValue: {\n      type: Object,\n      'default': function _default() {\n        return moment();\n      }\n    },\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    placeholder: PropTypes.string,\n    format: PropTypes.string,\n    inputReadOnly: PropTypes.bool.def(false),\n    disabledHours: PropTypes.func.def(noop),\n    disabledMinutes: PropTypes.func.def(noop),\n    disabledSeconds: PropTypes.func.def(noop),\n    hideDisabledOptions: PropTypes.bool,\n    // onChange: PropTypes.func,\n    // onEsc: PropTypes.func,\n    allowEmpty: PropTypes.bool,\n    showHour: PropTypes.bool,\n    showMinute: PropTypes.bool,\n    showSecond: PropTypes.bool,\n    // onClear: PropTypes.func,\n    use12Hours: PropTypes.bool.def(false),\n    hourStep: PropTypes.number,\n    minuteStep: PropTypes.number,\n    secondStep: PropTypes.number,\n    addon: PropTypes.func.def(noop),\n    focusOnOpen: PropTypes.bool,\n    // onKeydown: PropTypes.func,\n    clearIcon: PropTypes.any\n  },\n  data: function data() {\n    return {\n      sValue: this.value,\n      selectionRange: [],\n      currentSelectPanel: ''\n    };\n  },\n\n  watch: {\n    value: function value(val) {\n      this.setState({\n        sValue: val\n      });\n    }\n  },\n\n  methods: {\n    onChange: function onChange(newValue) {\n      this.setState({ sValue: newValue });\n      this.__emit('change', newValue);\n    },\n    onAmPmChange: function onAmPmChange(ampm) {\n      this.__emit('amPmChange', ampm);\n    },\n    onCurrentSelectPanelChange: function onCurrentSelectPanelChange(currentSelectPanel) {\n      this.setState({ currentSelectPanel: currentSelectPanel });\n    },\n\n\n    // https://github.com/ant-design/ant-design/issues/5829\n    close: function close() {\n      this.__emit('esc');\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    disabledHours2: function disabledHours2() {\n      var use12Hours = this.use12Hours,\n          disabledHours = this.disabledHours;\n\n      var disabledOptions = disabledHours();\n      if (use12Hours && Array.isArray(disabledOptions)) {\n        if (this.isAM()) {\n          disabledOptions = disabledOptions.filter(function (h) {\n            return h < 12;\n          }).map(function (h) {\n            return h === 0 ? 12 : h;\n          });\n        } else {\n          disabledOptions = disabledOptions.map(function (h) {\n            return h === 12 ? 12 : h - 12;\n          });\n        }\n      }\n      return disabledOptions;\n    },\n    isAM: function isAM() {\n      var value = this.sValue || this.defaultOpenValue;\n      return value.hour() >= 0 && value.hour() < 12;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        placeholder = this.placeholder,\n        disabledMinutes = this.disabledMinutes,\n        addon = this.addon,\n        disabledSeconds = this.disabledSeconds,\n        hideDisabledOptions = this.hideDisabledOptions,\n        showHour = this.showHour,\n        showMinute = this.showMinute,\n        showSecond = this.showSecond,\n        format = this.format,\n        defaultOpenValue = this.defaultOpenValue,\n        clearText = this.clearText,\n        use12Hours = this.use12Hours,\n        focusOnOpen = this.focusOnOpen,\n        hourStep = this.hourStep,\n        minuteStep = this.minuteStep,\n        secondStep = this.secondStep,\n        inputReadOnly = this.inputReadOnly,\n        sValue = this.sValue,\n        currentSelectPanel = this.currentSelectPanel;\n\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n\n    var _getListeners = getListeners(this),\n        _getListeners$esc = _getListeners.esc,\n        esc = _getListeners$esc === undefined ? noop : _getListeners$esc,\n        _getListeners$keydown = _getListeners.keydown,\n        keydown = _getListeners$keydown === undefined ? noop : _getListeners$keydown;\n\n    var disabledHourOptions = this.disabledHours2();\n    var disabledMinuteOptions = disabledMinutes(sValue ? sValue.hour() : null);\n    var disabledSecondOptions = disabledSeconds(sValue ? sValue.hour() : null, sValue ? sValue.minute() : null);\n    var hourOptions = generateOptions(24, disabledHourOptions, hideDisabledOptions, hourStep);\n    var minuteOptions = generateOptions(60, disabledMinuteOptions, hideDisabledOptions, minuteStep);\n    var secondOptions = generateOptions(60, disabledSecondOptions, hideDisabledOptions, secondStep);\n    var validDefaultOpenValue = toNearestValidTime(defaultOpenValue, hourOptions, minuteOptions, secondOptions);\n    return h(\n      'div',\n      { 'class': prefixCls + '-inner' },\n      [h(Header, {\n        attrs: {\n          clearText: clearText,\n          prefixCls: prefixCls,\n          defaultOpenValue: validDefaultOpenValue,\n          value: sValue,\n          currentSelectPanel: currentSelectPanel,\n\n          format: format,\n          placeholder: placeholder,\n          hourOptions: hourOptions,\n          minuteOptions: minuteOptions,\n          secondOptions: secondOptions,\n          disabledHours: this.disabledHours2,\n          disabledMinutes: disabledMinutes,\n          disabledSeconds: disabledSeconds,\n\n          focusOnOpen: focusOnOpen,\n\n          inputReadOnly: inputReadOnly,\n          clearIcon: clearIcon\n        },\n        on: {\n          'esc': esc,\n          'change': this.onChange,\n          'keydown': keydown\n        }\n      }), h(Combobox, {\n        attrs: {\n          prefixCls: prefixCls,\n          value: sValue,\n          defaultOpenValue: validDefaultOpenValue,\n          format: format,\n\n          showHour: showHour,\n          showMinute: showMinute,\n          showSecond: showSecond,\n          hourOptions: hourOptions,\n          minuteOptions: minuteOptions,\n          secondOptions: secondOptions,\n          disabledHours: this.disabledHours2,\n          disabledMinutes: disabledMinutes,\n          disabledSeconds: disabledSeconds,\n\n          use12Hours: use12Hours,\n\n          isAM: this.isAM()\n        },\n        on: {\n          'change': this.onChange,\n          'amPmChange': this.onAmPmChange,\n          'currentSelectPanelChange': this.onCurrentSelectPanelChange,\n          'esc': this.onEsc\n        }\n      }), addon(this)]\n    );\n  }\n};\n\nexport default Panel;"]},"metadata":{},"sourceType":"module"}