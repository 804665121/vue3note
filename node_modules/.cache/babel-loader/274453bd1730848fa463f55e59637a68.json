{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport PropTypes from '../../_util/vue-types';\nimport TableCell from './TableCell';\nimport { initDefaultProps, mergeProps, getStyle as _getStyle } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport warning from '../../_util/warning';\n\nfunction noop() {}\n\nvar TableRow = {\n  name: 'TableRow',\n  mixins: [BaseMixin],\n  inject: {\n    store: {\n      from: 'table-store',\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  props: initDefaultProps({\n    customRow: PropTypes.func,\n    // onRowClick: PropTypes.func,\n    // onRowDoubleClick: PropTypes.func,\n    // onRowContextMenu: PropTypes.func,\n    // onRowMouseEnter: PropTypes.func,\n    // onRowMouseLeave: PropTypes.func,\n    record: PropTypes.object,\n    prefixCls: PropTypes.string,\n    // onHover: PropTypes.func,\n    columns: PropTypes.array,\n    index: PropTypes.number,\n    rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    className: PropTypes.string,\n    indent: PropTypes.number,\n    indentSize: PropTypes.number,\n    hasExpandIcon: PropTypes.func,\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    renderExpandIcon: PropTypes.func,\n    renderExpandIconCell: PropTypes.func,\n    components: PropTypes.any,\n    expandedRow: PropTypes.bool,\n    isAnyColumnsFixed: PropTypes.bool,\n    ancestorKeys: PropTypes.array.isRequired,\n    expandIconColumnIndex: PropTypes.number,\n    expandRowByClick: PropTypes.bool // visible: PropTypes.bool,\n    // hovered: PropTypes.bool,\n    // height: PropTypes.any,\n\n  }, {\n    // expandIconColumnIndex: 0,\n    // expandRowByClick: false,\n    hasExpandIcon: function hasExpandIcon() {},\n    renderExpandIcon: function renderExpandIcon() {},\n    renderExpandIconCell: function renderExpandIconCell() {}\n  }),\n  computed: {\n    visible: function visible() {\n      var expandedRowKeys = this.store.expandedRowKeys;\n      var ancestorKeys = this.$props.ancestorKeys;\n      return !!(ancestorKeys.length === 0 || ancestorKeys.every(function (k) {\n        return expandedRowKeys.includes(k);\n      }));\n    },\n    height: function height() {\n      var _store = this.store,\n          expandedRowsHeight = _store.expandedRowsHeight,\n          fixedColumnsBodyRowsHeight = _store.fixedColumnsBodyRowsHeight;\n      var _$props = this.$props,\n          fixed = _$props.fixed,\n          rowKey = _$props.rowKey;\n\n      if (!fixed) {\n        return null;\n      }\n\n      if (expandedRowsHeight[rowKey]) {\n        return expandedRowsHeight[rowKey];\n      }\n\n      if (fixedColumnsBodyRowsHeight[rowKey]) {\n        return fixedColumnsBodyRowsHeight[rowKey];\n      }\n\n      return null;\n    },\n    hovered: function hovered() {\n      var currentHoverKey = this.store.currentHoverKey;\n      var rowKey = this.$props.rowKey;\n      return currentHoverKey === rowKey;\n    }\n  },\n  data: function data() {\n    // this.shouldRender = this.visible\n    return {\n      shouldRender: this.visible\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.shouldRender) {\n      this.$nextTick(function () {\n        _this.saveRowRef();\n      });\n    }\n  },\n  watch: {\n    visible: {\n      handler: function handler(val) {\n        if (val) {\n          this.shouldRender = true;\n        }\n      },\n      immediate: true\n    }\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    if (this.shouldRender && !this.rowRef) {\n      this.$nextTick(function () {\n        _this2.saveRowRef();\n      });\n    }\n  },\n  methods: {\n    onRowClick: function onRowClick(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowClick', record, index, event);\n\n      rowPropFunc(event);\n    },\n    onRowDoubleClick: function onRowDoubleClick(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowDoubleClick', record, index, event);\n\n      rowPropFunc(event);\n    },\n    onContextMenu: function onContextMenu(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowContextmenu', record, index, event);\n\n      rowPropFunc(event);\n    },\n    onMouseEnter: function onMouseEnter(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index,\n          rowKey = this.rowKey;\n\n      this.__emit('hover', true, rowKey);\n\n      this.__emit('rowMouseenter', record, index, event);\n\n      rowPropFunc(event);\n    },\n    onMouseLeave: function onMouseLeave(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index,\n          rowKey = this.rowKey;\n\n      this.__emit('hover', false, rowKey);\n\n      this.__emit('rowMouseleave', record, index, event);\n\n      rowPropFunc(event);\n    },\n    setExpandedRowHeight: function setExpandedRowHeight() {\n      var store = this.store,\n          rowKey = this.rowKey;\n      var expandedRowsHeight = store.expandedRowsHeight;\n      var height = this.rowRef.getBoundingClientRect().height;\n      expandedRowsHeight = _extends({}, expandedRowsHeight, _defineProperty({}, rowKey, height));\n      store.expandedRowsHeight = expandedRowsHeight;\n    },\n    setRowHeight: function setRowHeight() {\n      var store = this.store,\n          rowKey = this.rowKey;\n      var fixedColumnsBodyRowsHeight = store.fixedColumnsBodyRowsHeight;\n      var height = this.rowRef.getBoundingClientRect().height;\n      store.fixedColumnsBodyRowsHeight = _extends({}, fixedColumnsBodyRowsHeight, _defineProperty({}, rowKey, height));\n    },\n    getStyle: function getStyle() {\n      var height = this.height,\n          visible = this.visible;\n\n      var style = _getStyle(this);\n\n      if (height) {\n        style = _extends({}, style, {\n          height: height\n        });\n      }\n\n      if (!visible && !style.display) {\n        style = _extends({}, style, {\n          display: 'none'\n        });\n      }\n\n      return style;\n    },\n    saveRowRef: function saveRowRef() {\n      this.rowRef = this.$el;\n      var isAnyColumnsFixed = this.isAnyColumnsFixed,\n          fixed = this.fixed,\n          expandedRow = this.expandedRow,\n          ancestorKeys = this.ancestorKeys;\n\n      if (!isAnyColumnsFixed) {\n        return;\n      }\n\n      if (!fixed && expandedRow) {\n        this.setExpandedRowHeight();\n      }\n\n      if (!fixed && ancestorKeys.length >= 0) {\n        this.setRowHeight();\n      }\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return null;\n    }\n\n    var prefixCls = this.prefixCls,\n        columns = this.columns,\n        record = this.record,\n        rowKey = this.rowKey,\n        index = this.index,\n        _customRow = this.customRow,\n        customRow = _customRow === undefined ? noop : _customRow,\n        indent = this.indent,\n        indentSize = this.indentSize,\n        hovered = this.hovered,\n        height = this.height,\n        visible = this.visible,\n        components = this.components,\n        hasExpandIcon = this.hasExpandIcon,\n        renderExpandIcon = this.renderExpandIcon,\n        renderExpandIconCell = this.renderExpandIconCell;\n    var BodyRow = components.body.row;\n    var BodyCell = components.body.cell;\n    var className = '';\n\n    if (hovered) {\n      className += ' ' + prefixCls + '-hover';\n    }\n\n    var cells = [];\n    renderExpandIconCell(cells);\n\n    for (var i = 0; i < columns.length; i += 1) {\n      var column = columns[i];\n      warning(column.onCellClick === undefined, 'column[onCellClick] is deprecated, please use column[customCell] instead.');\n      cells.push(h(TableCell, {\n        attrs: {\n          prefixCls: prefixCls,\n          record: record,\n          indentSize: indentSize,\n          indent: indent,\n          index: index,\n          column: column,\n          expandIcon: hasExpandIcon(i) && renderExpandIcon(),\n          component: BodyCell\n        },\n        key: column.key || column.dataIndex\n      }));\n    }\n\n    var _ref = customRow(record, index) || {},\n        customClass = _ref['class'],\n        customClassName = _ref.className,\n        customStyle = _ref.style,\n        rowProps = _objectWithoutProperties(_ref, ['class', 'className', 'style']);\n\n    var style = {\n      height: typeof height === 'number' ? height + 'px' : height\n    };\n\n    if (!visible) {\n      style.display = 'none';\n    }\n\n    style = _extends({}, style, customStyle);\n    var rowClassName = classNames(prefixCls, className, prefixCls + '-level-' + indent, customClassName, customClass);\n    var rowPropEvents = rowProps.on || {};\n    var bodyRowProps = mergeProps(_extends({}, rowProps, {\n      style: style\n    }), {\n      on: {\n        click: function click(e) {\n          _this3.onRowClick(e, rowPropEvents.click);\n        },\n        dblclick: function dblclick(e) {\n          _this3.onRowDoubleClick(e, rowPropEvents.dblclick);\n        },\n        mouseenter: function mouseenter(e) {\n          _this3.onMouseEnter(e, rowPropEvents.mouseenter);\n        },\n        mouseleave: function mouseleave(e) {\n          _this3.onMouseLeave(e, rowPropEvents.mouseleave);\n        },\n        contextmenu: function contextmenu(e) {\n          _this3.onContextMenu(e, rowPropEvents.contextmenu);\n        }\n      },\n      'class': rowClassName\n    }, {\n      attrs: {\n        'data-row-key': rowKey\n      }\n    });\n    return h(BodyRow, bodyRowProps, [cells]);\n  }\n};\nexport default TableRow;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-table/src/TableRow.js"],"names":["_objectWithoutProperties","_defineProperty","_extends","classNames","PropTypes","TableCell","initDefaultProps","mergeProps","getStyle","_getStyle","BaseMixin","warning","noop","TableRow","name","mixins","inject","store","from","_default","props","customRow","func","record","object","prefixCls","string","columns","array","index","number","rowKey","oneOfType","isRequired","className","indent","indentSize","hasExpandIcon","fixed","bool","renderExpandIcon","renderExpandIconCell","components","any","expandedRow","isAnyColumnsFixed","ancestorKeys","expandIconColumnIndex","expandRowByClick","computed","visible","expandedRowKeys","$props","length","every","k","includes","height","_store","expandedRowsHeight","fixedColumnsBodyRowsHeight","_$props","hovered","currentHoverKey","data","shouldRender","mounted","_this","$nextTick","saveRowRef","watch","handler","val","immediate","updated","_this2","rowRef","methods","onRowClick","event","rowPropFunc","arguments","undefined","__emit","onRowDoubleClick","onContextMenu","onMouseEnter","onMouseLeave","setExpandedRowHeight","getBoundingClientRect","setRowHeight","style","display","$el","render","_this3","h","_customRow","BodyRow","body","row","BodyCell","cell","cells","i","column","onCellClick","push","attrs","expandIcon","component","key","dataIndex","_ref","customClass","customClassName","customStyle","rowProps","rowClassName","rowPropEvents","on","bodyRowProps","click","e","dblclick","mouseenter","mouseleave","contextmenu"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport PropTypes from '../../_util/vue-types';\nimport TableCell from './TableCell';\nimport { initDefaultProps, mergeProps, getStyle as _getStyle } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport warning from '../../_util/warning';\nfunction noop() {}\nvar TableRow = {\n  name: 'TableRow',\n  mixins: [BaseMixin],\n  inject: {\n    store: { from: 'table-store', 'default': function _default() {\n        return {};\n      } }\n  },\n  props: initDefaultProps({\n    customRow: PropTypes.func,\n    // onRowClick: PropTypes.func,\n    // onRowDoubleClick: PropTypes.func,\n    // onRowContextMenu: PropTypes.func,\n    // onRowMouseEnter: PropTypes.func,\n    // onRowMouseLeave: PropTypes.func,\n    record: PropTypes.object,\n    prefixCls: PropTypes.string,\n    // onHover: PropTypes.func,\n    columns: PropTypes.array,\n    index: PropTypes.number,\n    rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    className: PropTypes.string,\n    indent: PropTypes.number,\n    indentSize: PropTypes.number,\n    hasExpandIcon: PropTypes.func,\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    renderExpandIcon: PropTypes.func,\n    renderExpandIconCell: PropTypes.func,\n    components: PropTypes.any,\n    expandedRow: PropTypes.bool,\n    isAnyColumnsFixed: PropTypes.bool,\n    ancestorKeys: PropTypes.array.isRequired,\n    expandIconColumnIndex: PropTypes.number,\n    expandRowByClick: PropTypes.bool\n    // visible: PropTypes.bool,\n    // hovered: PropTypes.bool,\n    // height: PropTypes.any,\n  }, {\n    // expandIconColumnIndex: 0,\n    // expandRowByClick: false,\n    hasExpandIcon: function hasExpandIcon() {},\n    renderExpandIcon: function renderExpandIcon() {},\n    renderExpandIconCell: function renderExpandIconCell() {}\n  }),\n\n  computed: {\n    visible: function visible() {\n      var expandedRowKeys = this.store.expandedRowKeys;\n      var ancestorKeys = this.$props.ancestorKeys;\n\n      return !!(ancestorKeys.length === 0 || ancestorKeys.every(function (k) {\n        return expandedRowKeys.includes(k);\n      }));\n    },\n    height: function height() {\n      var _store = this.store,\n          expandedRowsHeight = _store.expandedRowsHeight,\n          fixedColumnsBodyRowsHeight = _store.fixedColumnsBodyRowsHeight;\n      var _$props = this.$props,\n          fixed = _$props.fixed,\n          rowKey = _$props.rowKey;\n\n\n      if (!fixed) {\n        return null;\n      }\n\n      if (expandedRowsHeight[rowKey]) {\n        return expandedRowsHeight[rowKey];\n      }\n\n      if (fixedColumnsBodyRowsHeight[rowKey]) {\n        return fixedColumnsBodyRowsHeight[rowKey];\n      }\n\n      return null;\n    },\n    hovered: function hovered() {\n      var currentHoverKey = this.store.currentHoverKey;\n      var rowKey = this.$props.rowKey;\n\n      return currentHoverKey === rowKey;\n    }\n  },\n\n  data: function data() {\n    // this.shouldRender = this.visible\n    return {\n      shouldRender: this.visible\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.shouldRender) {\n      this.$nextTick(function () {\n        _this.saveRowRef();\n      });\n    }\n  },\n\n  watch: {\n    visible: {\n      handler: function handler(val) {\n        if (val) {\n          this.shouldRender = true;\n        }\n      },\n\n      immediate: true\n    }\n  },\n\n  updated: function updated() {\n    var _this2 = this;\n\n    if (this.shouldRender && !this.rowRef) {\n      this.$nextTick(function () {\n        _this2.saveRowRef();\n      });\n    }\n  },\n\n  methods: {\n    onRowClick: function onRowClick(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowClick', record, index, event);\n      rowPropFunc(event);\n    },\n    onRowDoubleClick: function onRowDoubleClick(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowDoubleClick', record, index, event);\n      rowPropFunc(event);\n    },\n    onContextMenu: function onContextMenu(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index;\n\n      this.__emit('rowContextmenu', record, index, event);\n      rowPropFunc(event);\n    },\n    onMouseEnter: function onMouseEnter(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index,\n          rowKey = this.rowKey;\n\n      this.__emit('hover', true, rowKey);\n      this.__emit('rowMouseenter', record, index, event);\n      rowPropFunc(event);\n    },\n    onMouseLeave: function onMouseLeave(event) {\n      var rowPropFunc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var record = this.record,\n          index = this.index,\n          rowKey = this.rowKey;\n\n      this.__emit('hover', false, rowKey);\n      this.__emit('rowMouseleave', record, index, event);\n      rowPropFunc(event);\n    },\n    setExpandedRowHeight: function setExpandedRowHeight() {\n      var store = this.store,\n          rowKey = this.rowKey;\n      var expandedRowsHeight = store.expandedRowsHeight;\n\n      var height = this.rowRef.getBoundingClientRect().height;\n      expandedRowsHeight = _extends({}, expandedRowsHeight, _defineProperty({}, rowKey, height));\n      store.expandedRowsHeight = expandedRowsHeight;\n    },\n    setRowHeight: function setRowHeight() {\n      var store = this.store,\n          rowKey = this.rowKey;\n      var fixedColumnsBodyRowsHeight = store.fixedColumnsBodyRowsHeight;\n\n      var height = this.rowRef.getBoundingClientRect().height;\n      store.fixedColumnsBodyRowsHeight = _extends({}, fixedColumnsBodyRowsHeight, _defineProperty({}, rowKey, height));\n    },\n    getStyle: function getStyle() {\n      var height = this.height,\n          visible = this.visible;\n\n      var style = _getStyle(this);\n      if (height) {\n        style = _extends({}, style, { height: height });\n      }\n\n      if (!visible && !style.display) {\n        style = _extends({}, style, { display: 'none' });\n      }\n\n      return style;\n    },\n    saveRowRef: function saveRowRef() {\n      this.rowRef = this.$el;\n\n      var isAnyColumnsFixed = this.isAnyColumnsFixed,\n          fixed = this.fixed,\n          expandedRow = this.expandedRow,\n          ancestorKeys = this.ancestorKeys;\n\n\n      if (!isAnyColumnsFixed) {\n        return;\n      }\n\n      if (!fixed && expandedRow) {\n        this.setExpandedRowHeight();\n      }\n\n      if (!fixed && ancestorKeys.length >= 0) {\n        this.setRowHeight();\n      }\n    }\n  },\n\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return null;\n    }\n\n    var prefixCls = this.prefixCls,\n        columns = this.columns,\n        record = this.record,\n        rowKey = this.rowKey,\n        index = this.index,\n        _customRow = this.customRow,\n        customRow = _customRow === undefined ? noop : _customRow,\n        indent = this.indent,\n        indentSize = this.indentSize,\n        hovered = this.hovered,\n        height = this.height,\n        visible = this.visible,\n        components = this.components,\n        hasExpandIcon = this.hasExpandIcon,\n        renderExpandIcon = this.renderExpandIcon,\n        renderExpandIconCell = this.renderExpandIconCell;\n\n    var BodyRow = components.body.row;\n    var BodyCell = components.body.cell;\n\n    var className = '';\n\n    if (hovered) {\n      className += ' ' + prefixCls + '-hover';\n    }\n\n    var cells = [];\n\n    renderExpandIconCell(cells);\n\n    for (var i = 0; i < columns.length; i += 1) {\n      var column = columns[i];\n\n      warning(column.onCellClick === undefined, 'column[onCellClick] is deprecated, please use column[customCell] instead.');\n\n      cells.push(h(TableCell, {\n        attrs: {\n          prefixCls: prefixCls,\n          record: record,\n          indentSize: indentSize,\n          indent: indent,\n          index: index,\n          column: column,\n\n          expandIcon: hasExpandIcon(i) && renderExpandIcon(),\n          component: BodyCell\n        },\n        key: column.key || column.dataIndex }));\n    }\n\n    var _ref = customRow(record, index) || {},\n        customClass = _ref['class'],\n        customClassName = _ref.className,\n        customStyle = _ref.style,\n        rowProps = _objectWithoutProperties(_ref, ['class', 'className', 'style']);\n\n    var style = { height: typeof height === 'number' ? height + 'px' : height };\n\n    if (!visible) {\n      style.display = 'none';\n    }\n\n    style = _extends({}, style, customStyle);\n    var rowClassName = classNames(prefixCls, className, prefixCls + '-level-' + indent, customClassName, customClass);\n    var rowPropEvents = rowProps.on || {};\n    var bodyRowProps = mergeProps(_extends({}, rowProps, { style: style }), {\n      on: {\n        click: function click(e) {\n          _this3.onRowClick(e, rowPropEvents.click);\n        },\n        dblclick: function dblclick(e) {\n          _this3.onRowDoubleClick(e, rowPropEvents.dblclick);\n        },\n        mouseenter: function mouseenter(e) {\n          _this3.onMouseEnter(e, rowPropEvents.mouseenter);\n        },\n        mouseleave: function mouseleave(e) {\n          _this3.onMouseLeave(e, rowPropEvents.mouseleave);\n        },\n        contextmenu: function contextmenu(e) {\n          _this3.onContextMenu(e, rowPropEvents.contextmenu);\n        }\n      },\n      'class': rowClassName\n    }, {\n      attrs: {\n        'data-row-key': rowKey\n      }\n    });\n    return h(\n      BodyRow,\n      bodyRowProps,\n      [cells]\n    );\n  }\n};\n\nexport default TableRow;"]},"metadata":{},"sourceType":"module"}