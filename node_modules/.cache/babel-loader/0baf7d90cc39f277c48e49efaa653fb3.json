{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport { initDefaultProps, getListeners } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport AjaxUpload from './AjaxUploader';\nimport IframeUpload from './IframeUploader';\n\nfunction empty() {}\n\nvar uploadProps = {\n  componentTag: PropTypes.string,\n  prefixCls: PropTypes.string,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  name: PropTypes.string,\n  multipart: PropTypes.bool,\n  directory: PropTypes.bool,\n  // onError: PropTypes.func,\n  // onSuccess: PropTypes.func,\n  // onProgress: PropTypes.func,\n  // onStart: PropTypes.func,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  headers: PropTypes.object,\n  accept: PropTypes.string,\n  multiple: PropTypes.bool,\n  disabled: PropTypes.bool,\n  beforeUpload: PropTypes.func,\n  customRequest: PropTypes.func,\n  // onReady: PropTypes.func,\n  method: PropTypes.string,\n  withCredentials: PropTypes.bool,\n  supportServerRender: PropTypes.bool,\n  openFileDialogOnClick: PropTypes.bool,\n  transformFile: PropTypes.func\n};\nexport default {\n  name: 'Upload',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(uploadProps, {\n    componentTag: 'span',\n    prefixCls: 'rc-upload',\n    data: {},\n    headers: {},\n    name: 'file',\n    multipart: false,\n    // onReady: empty,\n    // onStart: empty,\n    // onError: empty,\n    // onSuccess: empty,\n    supportServerRender: false,\n    multiple: false,\n    beforeUpload: empty,\n    withCredentials: false,\n    openFileDialogOnClick: true\n  }),\n  data: function data() {\n    return {\n      Component: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.supportServerRender) {\n        _this.setState({\n          Component: _this.getComponent()\n        }, function () {\n          _this.$emit('ready');\n        });\n      }\n    });\n  },\n  methods: {\n    getComponent: function getComponent() {\n      return typeof File !== 'undefined' ? AjaxUpload : IframeUpload;\n    },\n    abort: function abort(file) {\n      this.$refs.uploaderRef.abort(file);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var componentProps = {\n      props: _extends({}, this.$props),\n      on: getListeners(this),\n      ref: 'uploaderRef',\n      attrs: this.$attrs\n    };\n\n    if (this.supportServerRender) {\n      var _ComponentUploader = this.Component;\n\n      if (_ComponentUploader) {\n        return h(_ComponentUploader, componentProps, [this.$slots['default']]);\n      }\n\n      return null;\n    }\n\n    var ComponentUploader = this.getComponent();\n    return h(ComponentUploader, componentProps, [this.$slots['default']]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-upload/src/Upload.js"],"names":["_extends","PropTypes","initDefaultProps","getListeners","BaseMixin","AjaxUpload","IframeUpload","empty","uploadProps","componentTag","string","prefixCls","action","oneOfType","func","name","multipart","bool","directory","data","object","headers","accept","multiple","disabled","beforeUpload","customRequest","method","withCredentials","supportServerRender","openFileDialogOnClick","transformFile","mixins","inheritAttrs","props","Component","mounted","_this","$nextTick","setState","getComponent","$emit","methods","File","abort","file","$refs","uploaderRef","render","h","arguments","componentProps","$props","on","ref","attrs","$attrs","_ComponentUploader","$slots","ComponentUploader"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport { initDefaultProps, getListeners } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport AjaxUpload from './AjaxUploader';\nimport IframeUpload from './IframeUploader';\n\nfunction empty() {}\n\nvar uploadProps = {\n  componentTag: PropTypes.string,\n  prefixCls: PropTypes.string,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  name: PropTypes.string,\n  multipart: PropTypes.bool,\n  directory: PropTypes.bool,\n  // onError: PropTypes.func,\n  // onSuccess: PropTypes.func,\n  // onProgress: PropTypes.func,\n  // onStart: PropTypes.func,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  headers: PropTypes.object,\n  accept: PropTypes.string,\n  multiple: PropTypes.bool,\n  disabled: PropTypes.bool,\n  beforeUpload: PropTypes.func,\n  customRequest: PropTypes.func,\n  // onReady: PropTypes.func,\n  method: PropTypes.string,\n  withCredentials: PropTypes.bool,\n  supportServerRender: PropTypes.bool,\n  openFileDialogOnClick: PropTypes.bool,\n  transformFile: PropTypes.func\n};\nexport default {\n  name: 'Upload',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(uploadProps, {\n    componentTag: 'span',\n    prefixCls: 'rc-upload',\n    data: {},\n    headers: {},\n    name: 'file',\n    multipart: false,\n    // onReady: empty,\n    // onStart: empty,\n    // onError: empty,\n    // onSuccess: empty,\n    supportServerRender: false,\n    multiple: false,\n    beforeUpload: empty,\n    withCredentials: false,\n    openFileDialogOnClick: true\n  }),\n  data: function data() {\n    return {\n      Component: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.supportServerRender) {\n        _this.setState({\n          Component: _this.getComponent()\n        }, function () {\n          _this.$emit('ready');\n        });\n      }\n    });\n  },\n\n  methods: {\n    getComponent: function getComponent() {\n      return typeof File !== 'undefined' ? AjaxUpload : IframeUpload;\n    },\n    abort: function abort(file) {\n      this.$refs.uploaderRef.abort(file);\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n\n    var componentProps = {\n      props: _extends({}, this.$props),\n      on: getListeners(this),\n      ref: 'uploaderRef',\n      attrs: this.$attrs\n    };\n    if (this.supportServerRender) {\n      var _ComponentUploader = this.Component;\n      if (_ComponentUploader) {\n        return h(\n          _ComponentUploader,\n          componentProps,\n          [this.$slots['default']]\n        );\n      }\n      return null;\n    }\n    var ComponentUploader = this.getComponent();\n    return h(\n      ComponentUploader,\n      componentProps,\n      [this.$slots['default']]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}