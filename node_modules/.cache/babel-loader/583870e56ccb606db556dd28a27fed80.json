{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ref from 'vue-ref';\nimport PropTypes from '../../_util/vue-types';\nimport { initDefaultProps } from '../../_util/props-util';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\n\nvar circlePropTypes = _extends({}, propTypes, {\n  gapPosition: PropTypes.oneOf(['top', 'bottom', 'left', 'right']),\n  gapDegree: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool])\n});\n\nvar circleDefaultProps = _extends({}, defaultProps, {\n  gapPosition: 'top'\n});\n\nVue.use(ref, {\n  name: 'ant-ref'\n});\nvar gradientSeed = 0;\n\nfunction stripPercentToNumber(percent) {\n  return +percent.replace('%', '');\n}\n\nfunction toArray(symArray) {\n  return Array.isArray(symArray) ? symArray : [symArray];\n}\n\nfunction getPathStyles(offset, percent, strokeColor, strokeWidth) {\n  var gapDegree = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var gapPosition = arguments[5];\n  var radius = 50 - strokeWidth / 2;\n  var beginPositionX = 0;\n  var beginPositionY = -radius;\n  var endPositionX = 0;\n  var endPositionY = -2 * radius;\n\n  switch (gapPosition) {\n    case 'left':\n      beginPositionX = -radius;\n      beginPositionY = 0;\n      endPositionX = 2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'right':\n      beginPositionX = radius;\n      beginPositionY = 0;\n      endPositionX = -2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'bottom':\n      beginPositionY = radius;\n      endPositionY = 2 * radius;\n      break;\n\n    default:\n  }\n\n  var pathString = 'M 50,50 m ' + beginPositionX + ',' + beginPositionY + '\\n   a ' + radius + ',' + radius + ' 0 1 1 ' + endPositionX + ',' + -endPositionY + '\\n   a ' + radius + ',' + radius + ' 0 1 1 ' + -endPositionX + ',' + endPositionY;\n  var len = Math.PI * 2 * radius;\n  var pathStyle = {\n    stroke: strokeColor,\n    strokeDasharray: percent / 100 * (len - gapDegree) + 'px ' + len + 'px',\n    strokeDashoffset: '-' + (gapDegree / 2 + offset / 100 * (len - gapDegree)) + 'px',\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s' // eslint-disable-line\n\n  };\n  return {\n    pathString: pathString,\n    pathStyle: pathStyle\n  };\n}\n\nvar Circle = {\n  props: initDefaultProps(circlePropTypes, circleDefaultProps),\n  created: function created() {\n    this.paths = {};\n    this.gradientId = gradientSeed;\n    gradientSeed += 1;\n  },\n  methods: {\n    getStokeList: function getStokeList() {\n      var _this = this;\n\n      var h = this.$createElement;\n      var _$props = this.$props,\n          prefixCls = _$props.prefixCls,\n          percent = _$props.percent,\n          strokeColor = _$props.strokeColor,\n          strokeWidth = _$props.strokeWidth,\n          strokeLinecap = _$props.strokeLinecap,\n          gapDegree = _$props.gapDegree,\n          gapPosition = _$props.gapPosition;\n      var percentList = toArray(percent);\n      var strokeColorList = toArray(strokeColor);\n      var stackPtg = 0;\n      return percentList.map(function (ptg, index) {\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n        var stroke = Object.prototype.toString.call(color) === '[object Object]' ? 'url(#' + prefixCls + '-gradient-' + _this.gradientId + ')' : '';\n\n        var _getPathStyles = getPathStyles(stackPtg, ptg, color, strokeWidth, gapDegree, gapPosition),\n            pathString = _getPathStyles.pathString,\n            pathStyle = _getPathStyles.pathStyle;\n\n        stackPtg += ptg;\n        var pathProps = {\n          key: index,\n          attrs: {\n            d: pathString,\n            stroke: stroke,\n            'stroke-linecap': strokeLinecap,\n            'stroke-width': strokeWidth,\n            opacity: ptg === 0 ? 0 : 1,\n            'fill-opacity': '0'\n          },\n          'class': prefixCls + '-circle-path',\n          style: pathStyle,\n          directives: [{\n            name: 'ant-ref',\n            value: function value(c) {\n              _this.paths[index] = c;\n            }\n          }]\n        };\n        return h('path', pathProps);\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    var _$props2 = this.$props,\n        prefixCls = _$props2.prefixCls,\n        strokeWidth = _$props2.strokeWidth,\n        trailWidth = _$props2.trailWidth,\n        gapDegree = _$props2.gapDegree,\n        gapPosition = _$props2.gapPosition,\n        trailColor = _$props2.trailColor,\n        strokeLinecap = _$props2.strokeLinecap,\n        strokeColor = _$props2.strokeColor,\n        restProps = _objectWithoutProperties(_$props2, ['prefixCls', 'strokeWidth', 'trailWidth', 'gapDegree', 'gapPosition', 'trailColor', 'strokeLinecap', 'strokeColor']);\n\n    var _getPathStyles2 = getPathStyles(0, 100, trailColor, strokeWidth, gapDegree, gapPosition),\n        pathString = _getPathStyles2.pathString,\n        pathStyle = _getPathStyles2.pathStyle;\n\n    delete restProps.percent;\n    var strokeColorList = toArray(strokeColor);\n    var gradient = strokeColorList.find(function (color) {\n      return Object.prototype.toString.call(color) === '[object Object]';\n    });\n    var pathFirst = {\n      attrs: {\n        d: pathString,\n        stroke: trailColor,\n        'stroke-linecap': strokeLinecap,\n        'stroke-width': trailWidth || strokeWidth,\n        'fill-opacity': '0'\n      },\n      'class': prefixCls + '-circle-trail',\n      style: pathStyle\n    };\n    return h('svg', _mergeJSXProps([{\n      'class': prefixCls + '-circle',\n      attrs: {\n        viewBox: '0 0 100 100'\n      }\n    }, restProps]), [gradient && h('defs', [h('linearGradient', {\n      attrs: {\n        id: prefixCls + '-gradient-' + this.gradientId,\n        x1: '100%',\n        y1: '0%',\n        x2: '0%',\n        y2: '0%'\n      }\n    }, [Object.keys(gradient).sort(function (a, b) {\n      return stripPercentToNumber(a) - stripPercentToNumber(b);\n    }).map(function (key, index) {\n      return h('stop', {\n        key: index,\n        attrs: {\n          offset: key,\n          'stop-color': gradient[key]\n        }\n      });\n    })])]), h('path', pathFirst), this.getStokeList().reverse()]);\n  }\n};\nexport default enhancer(Circle);","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-progress/src/Circle.js"],"names":["_mergeJSXProps","_objectWithoutProperties","_extends","Vue","ref","PropTypes","initDefaultProps","enhancer","propTypes","defaultProps","circlePropTypes","gapPosition","oneOf","gapDegree","oneOfType","number","string","bool","circleDefaultProps","use","name","gradientSeed","stripPercentToNumber","percent","replace","toArray","symArray","Array","isArray","getPathStyles","offset","strokeColor","strokeWidth","arguments","length","undefined","radius","beginPositionX","beginPositionY","endPositionX","endPositionY","pathString","len","Math","PI","pathStyle","stroke","strokeDasharray","strokeDashoffset","transition","Circle","props","created","paths","gradientId","methods","getStokeList","_this","h","$createElement","_$props","$props","prefixCls","strokeLinecap","percentList","strokeColorList","stackPtg","map","ptg","index","color","Object","prototype","toString","call","_getPathStyles","pathProps","key","attrs","d","opacity","style","directives","value","c","render","_$props2","trailWidth","trailColor","restProps","_getPathStyles2","gradient","find","pathFirst","viewBox","id","x1","y1","x2","y2","keys","sort","a","b","reverse"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,kCAA3B;AACA,OAAOC,wBAAP,MAAqC,+CAArC;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,SAAhB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,SAAxC;;AAEA,IAAIC,eAAe,GAAGR,QAAQ,CAAC,EAAD,EAAKM,SAAL,EAAgB;AAC5CG,EAAAA,WAAW,EAAEN,SAAS,CAACO,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CAD+B;AAE5CC,EAAAA,SAAS,EAAER,SAAS,CAACS,SAAV,CAAoB,CAACT,SAAS,CAACU,MAAX,EAAmBV,SAAS,CAACW,MAA7B,EAAqCX,SAAS,CAACY,IAA/C,CAApB;AAFiC,CAAhB,CAA9B;;AAKA,IAAIC,kBAAkB,GAAGhB,QAAQ,CAAC,EAAD,EAAKO,YAAL,EAAmB;AAClDE,EAAAA,WAAW,EAAE;AADqC,CAAnB,CAAjC;;AAIAR,GAAG,CAACgB,GAAJ,CAAQf,GAAR,EAAa;AAAEgB,EAAAA,IAAI,EAAE;AAAR,CAAb;AAEA,IAAIC,YAAY,GAAG,CAAnB;;AAEA,SAASC,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,SAAO,CAACA,OAAO,CAACC,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAR;AACD;;AAED,SAASC,OAAT,CAAiBC,QAAjB,EAA2B;AACzB,SAAOC,KAAK,CAACC,OAAN,CAAcF,QAAd,IAA0BA,QAA1B,GAAqC,CAACA,QAAD,CAA5C;AACD;;AAED,SAASG,aAAT,CAAuBC,MAAvB,EAA+BP,OAA/B,EAAwCQ,WAAxC,EAAqDC,WAArD,EAAkE;AAChE,MAAInB,SAAS,GAAGoB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAApF;AACA,MAAItB,WAAW,GAAGsB,SAAS,CAAC,CAAD,CAA3B;AAEA,MAAIG,MAAM,GAAG,KAAKJ,WAAW,GAAG,CAAhC;AACA,MAAIK,cAAc,GAAG,CAArB;AACA,MAAIC,cAAc,GAAG,CAACF,MAAtB;AACA,MAAIG,YAAY,GAAG,CAAnB;AACA,MAAIC,YAAY,GAAG,CAAC,CAAD,GAAKJ,MAAxB;;AACA,UAAQzB,WAAR;AACE,SAAK,MAAL;AACE0B,MAAAA,cAAc,GAAG,CAACD,MAAlB;AACAE,MAAAA,cAAc,GAAG,CAAjB;AACAC,MAAAA,YAAY,GAAG,IAAIH,MAAnB;AACAI,MAAAA,YAAY,GAAG,CAAf;AACA;;AACF,SAAK,OAAL;AACEH,MAAAA,cAAc,GAAGD,MAAjB;AACAE,MAAAA,cAAc,GAAG,CAAjB;AACAC,MAAAA,YAAY,GAAG,CAAC,CAAD,GAAKH,MAApB;AACAI,MAAAA,YAAY,GAAG,CAAf;AACA;;AACF,SAAK,QAAL;AACEF,MAAAA,cAAc,GAAGF,MAAjB;AACAI,MAAAA,YAAY,GAAG,IAAIJ,MAAnB;AACA;;AACF;AAjBF;;AAmBA,MAAIK,UAAU,GAAG,eAAeJ,cAAf,GAAgC,GAAhC,GAAsCC,cAAtC,GAAuD,SAAvD,GAAmEF,MAAnE,GAA4E,GAA5E,GAAkFA,MAAlF,GAA2F,SAA3F,GAAuGG,YAAvG,GAAsH,GAAtH,GAA4H,CAACC,YAA7H,GAA4I,SAA5I,GAAwJJ,MAAxJ,GAAiK,GAAjK,GAAuKA,MAAvK,GAAgL,SAAhL,GAA4L,CAACG,YAA7L,GAA4M,GAA5M,GAAkNC,YAAnO;AACA,MAAIE,GAAG,GAAGC,IAAI,CAACC,EAAL,GAAU,CAAV,GAAcR,MAAxB;AAEA,MAAIS,SAAS,GAAG;AACdC,IAAAA,MAAM,EAAEf,WADM;AAEdgB,IAAAA,eAAe,EAAExB,OAAO,GAAG,GAAV,IAAiBmB,GAAG,GAAG7B,SAAvB,IAAoC,KAApC,GAA4C6B,GAA5C,GAAkD,IAFrD;AAGdM,IAAAA,gBAAgB,EAAE,OAAOnC,SAAS,GAAG,CAAZ,GAAgBiB,MAAM,GAAG,GAAT,IAAgBY,GAAG,GAAG7B,SAAtB,CAAvB,IAA2D,IAH/D;AAIdoC,IAAAA,UAAU,EAAE,0HAJE,CAIyH;;AAJzH,GAAhB;AAOA,SAAO;AACLR,IAAAA,UAAU,EAAEA,UADP;AAELI,IAAAA,SAAS,EAAEA;AAFN,GAAP;AAID;;AAED,IAAIK,MAAM,GAAG;AACXC,EAAAA,KAAK,EAAE7C,gBAAgB,CAACI,eAAD,EAAkBQ,kBAAlB,CADZ;AAEXkC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,UAAL,GAAkBjC,YAAlB;AACAA,IAAAA,YAAY,IAAI,CAAhB;AACD,GANU;AAQXkC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB;AACpC,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIC,CAAC,GAAG,KAAKC,cAAb;AACA,UAAIC,OAAO,GAAG,KAAKC,MAAnB;AAAA,UACIC,SAAS,GAAGF,OAAO,CAACE,SADxB;AAAA,UAEIvC,OAAO,GAAGqC,OAAO,CAACrC,OAFtB;AAAA,UAGIQ,WAAW,GAAG6B,OAAO,CAAC7B,WAH1B;AAAA,UAIIC,WAAW,GAAG4B,OAAO,CAAC5B,WAJ1B;AAAA,UAKI+B,aAAa,GAAGH,OAAO,CAACG,aAL5B;AAAA,UAMIlD,SAAS,GAAG+C,OAAO,CAAC/C,SANxB;AAAA,UAOIF,WAAW,GAAGiD,OAAO,CAACjD,WAP1B;AASA,UAAIqD,WAAW,GAAGvC,OAAO,CAACF,OAAD,CAAzB;AACA,UAAI0C,eAAe,GAAGxC,OAAO,CAACM,WAAD,CAA7B;AAEA,UAAImC,QAAQ,GAAG,CAAf;AACA,aAAOF,WAAW,CAACG,GAAZ,CAAgB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC3C,YAAIC,KAAK,GAAGL,eAAe,CAACI,KAAD,CAAf,IAA0BJ,eAAe,CAACA,eAAe,CAAC/B,MAAhB,GAAyB,CAA1B,CAArD;AACA,YAAIY,MAAM,GAAGyB,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,KAA/B,MAA0C,iBAA1C,GAA8D,UAAUR,SAAV,GAAsB,YAAtB,GAAqCL,KAAK,CAACH,UAA3C,GAAwD,GAAtH,GAA4H,EAAzI;;AAEA,YAAIqB,cAAc,GAAG9C,aAAa,CAACqC,QAAD,EAAWE,GAAX,EAAgBE,KAAhB,EAAuBtC,WAAvB,EAAoCnB,SAApC,EAA+CF,WAA/C,CAAlC;AAAA,YACI8B,UAAU,GAAGkC,cAAc,CAAClC,UADhC;AAAA,YAEII,SAAS,GAAG8B,cAAc,CAAC9B,SAF/B;;AAIAqB,QAAAA,QAAQ,IAAIE,GAAZ;AAEA,YAAIQ,SAAS,GAAG;AACdC,UAAAA,GAAG,EAAER,KADS;AAEdS,UAAAA,KAAK,EAAE;AACLC,YAAAA,CAAC,EAAEtC,UADE;AAELK,YAAAA,MAAM,EAAEA,MAFH;AAGL,8BAAkBiB,aAHb;AAIL,4BAAgB/B,WAJX;AAKLgD,YAAAA,OAAO,EAAEZ,GAAG,KAAK,CAAR,GAAY,CAAZ,GAAgB,CALpB;AAML,4BAAgB;AANX,WAFO;AAUd,mBAASN,SAAS,GAAG,cAVP;AAWdmB,UAAAA,KAAK,EAAEpC,SAXO;AAYdqC,UAAAA,UAAU,EAAE,CAAC;AACX9D,YAAAA,IAAI,EAAE,SADK;AAEX+D,YAAAA,KAAK,EAAE,SAASA,KAAT,CAAeC,CAAf,EAAkB;AACvB3B,cAAAA,KAAK,CAACJ,KAAN,CAAYgB,KAAZ,IAAqBe,CAArB;AACD;AAJU,WAAD;AAZE,SAAhB;AAmBA,eAAO1B,CAAC,CAAC,MAAD,EAASkB,SAAT,CAAR;AACD,OA9BM,CAAP;AA+BD;AAjDM,GARE;AA4DXS,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAI3B,CAAC,GAAGzB,SAAS,CAAC,CAAD,CAAjB;;AAEA,QAAIqD,QAAQ,GAAG,KAAKzB,MAApB;AAAA,QACIC,SAAS,GAAGwB,QAAQ,CAACxB,SADzB;AAAA,QAEI9B,WAAW,GAAGsD,QAAQ,CAACtD,WAF3B;AAAA,QAGIuD,UAAU,GAAGD,QAAQ,CAACC,UAH1B;AAAA,QAII1E,SAAS,GAAGyE,QAAQ,CAACzE,SAJzB;AAAA,QAKIF,WAAW,GAAG2E,QAAQ,CAAC3E,WAL3B;AAAA,QAMI6E,UAAU,GAAGF,QAAQ,CAACE,UAN1B;AAAA,QAOIzB,aAAa,GAAGuB,QAAQ,CAACvB,aAP7B;AAAA,QAQIhC,WAAW,GAAGuD,QAAQ,CAACvD,WAR3B;AAAA,QASI0D,SAAS,GAAGxF,wBAAwB,CAACqF,QAAD,EAAW,CAAC,WAAD,EAAc,aAAd,EAA6B,YAA7B,EAA2C,WAA3C,EAAwD,aAAxD,EAAuE,YAAvE,EAAqF,eAArF,EAAsG,aAAtG,CAAX,CATxC;;AAWA,QAAII,eAAe,GAAG7D,aAAa,CAAC,CAAD,EAAI,GAAJ,EAAS2D,UAAT,EAAqBxD,WAArB,EAAkCnB,SAAlC,EAA6CF,WAA7C,CAAnC;AAAA,QACI8B,UAAU,GAAGiD,eAAe,CAACjD,UADjC;AAAA,QAEII,SAAS,GAAG6C,eAAe,CAAC7C,SAFhC;;AAIA,WAAO4C,SAAS,CAAClE,OAAjB;AACA,QAAI0C,eAAe,GAAGxC,OAAO,CAACM,WAAD,CAA7B;AACA,QAAI4D,QAAQ,GAAG1B,eAAe,CAAC2B,IAAhB,CAAqB,UAAUtB,KAAV,EAAiB;AACnD,aAAOC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,KAA/B,MAA0C,iBAAjD;AACD,KAFc,CAAf;AAGA,QAAIuB,SAAS,GAAG;AACdf,MAAAA,KAAK,EAAE;AACLC,QAAAA,CAAC,EAAEtC,UADE;AAELK,QAAAA,MAAM,EAAE0C,UAFH;AAGL,0BAAkBzB,aAHb;AAIL,wBAAgBwB,UAAU,IAAIvD,WAJzB;AAKL,wBAAgB;AALX,OADO;AAQd,eAAS8B,SAAS,GAAG,eARP;AASdmB,MAAAA,KAAK,EAAEpC;AATO,KAAhB;AAYA,WAAOa,CAAC,CACN,KADM,EAEN1D,cAAc,CAAC,CAAC;AAAE,eAAS8D,SAAS,GAAG,SAAvB;AAAkCgB,MAAAA,KAAK,EAAE;AAAEgB,QAAAA,OAAO,EAAE;AAAX;AAAzC,KAAD,EACZL,SADY,CAAD,CAFR,EAIN,CAACE,QAAQ,IAAIjC,CAAC,CAAC,MAAD,EAAS,CAACA,CAAC,CACvB,gBADuB,EAEvB;AACEoB,MAAAA,KAAK,EAAE;AACLiB,QAAAA,EAAE,EAAEjC,SAAS,GAAG,YAAZ,GAA2B,KAAKR,UAD/B;AAEL0C,QAAAA,EAAE,EAAE,MAFC;AAGLC,QAAAA,EAAE,EAAE,IAHC;AAILC,QAAAA,EAAE,EAAE,IAJC;AAKLC,QAAAA,EAAE,EAAE;AALC;AADT,KAFuB,EAWvB,CAAC5B,MAAM,CAAC6B,IAAP,CAAYT,QAAZ,EAAsBU,IAAtB,CAA2B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1C,aAAOjF,oBAAoB,CAACgF,CAAD,CAApB,GAA0BhF,oBAAoB,CAACiF,CAAD,CAArD;AACD,KAFA,EAEEpC,GAFF,CAEM,UAAUU,GAAV,EAAeR,KAAf,EAAsB;AAC3B,aAAOX,CAAC,CAAC,MAAD,EAAS;AAAEmB,QAAAA,GAAG,EAAER,KAAP;AAAcS,QAAAA,KAAK,EAAE;AAAEhD,UAAAA,MAAM,EAAE+C,GAAV;AAAe,wBAAcc,QAAQ,CAACd,GAAD;AAArC;AAArB,OAAT,CAAR;AAED,KALA,CAAD,CAXuB,CAAF,CAAT,CAAd,EAiBKnB,CAAC,CAAC,MAAD,EAASmC,SAAT,CAjBN,EAiB2B,KAAKrC,YAAL,GAAoBgD,OAApB,EAjB3B,CAJM,CAAR;AAuBD;AAtHU,CAAb;AAyHA,eAAejG,QAAQ,CAAC2C,MAAD,CAAvB","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport Vue from 'vue';\nimport ref from 'vue-ref';\nimport PropTypes from '../../_util/vue-types';\nimport { initDefaultProps } from '../../_util/props-util';\nimport enhancer from './enhancer';\nimport { propTypes, defaultProps } from './types';\n\nvar circlePropTypes = _extends({}, propTypes, {\n  gapPosition: PropTypes.oneOf(['top', 'bottom', 'left', 'right']),\n  gapDegree: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool])\n});\n\nvar circleDefaultProps = _extends({}, defaultProps, {\n  gapPosition: 'top'\n});\n\nVue.use(ref, { name: 'ant-ref' });\n\nvar gradientSeed = 0;\n\nfunction stripPercentToNumber(percent) {\n  return +percent.replace('%', '');\n}\n\nfunction toArray(symArray) {\n  return Array.isArray(symArray) ? symArray : [symArray];\n}\n\nfunction getPathStyles(offset, percent, strokeColor, strokeWidth) {\n  var gapDegree = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var gapPosition = arguments[5];\n\n  var radius = 50 - strokeWidth / 2;\n  var beginPositionX = 0;\n  var beginPositionY = -radius;\n  var endPositionX = 0;\n  var endPositionY = -2 * radius;\n  switch (gapPosition) {\n    case 'left':\n      beginPositionX = -radius;\n      beginPositionY = 0;\n      endPositionX = 2 * radius;\n      endPositionY = 0;\n      break;\n    case 'right':\n      beginPositionX = radius;\n      beginPositionY = 0;\n      endPositionX = -2 * radius;\n      endPositionY = 0;\n      break;\n    case 'bottom':\n      beginPositionY = radius;\n      endPositionY = 2 * radius;\n      break;\n    default:\n  }\n  var pathString = 'M 50,50 m ' + beginPositionX + ',' + beginPositionY + '\\n   a ' + radius + ',' + radius + ' 0 1 1 ' + endPositionX + ',' + -endPositionY + '\\n   a ' + radius + ',' + radius + ' 0 1 1 ' + -endPositionX + ',' + endPositionY;\n  var len = Math.PI * 2 * radius;\n\n  var pathStyle = {\n    stroke: strokeColor,\n    strokeDasharray: percent / 100 * (len - gapDegree) + 'px ' + len + 'px',\n    strokeDashoffset: '-' + (gapDegree / 2 + offset / 100 * (len - gapDegree)) + 'px',\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s' // eslint-disable-line\n  };\n\n  return {\n    pathString: pathString,\n    pathStyle: pathStyle\n  };\n}\n\nvar Circle = {\n  props: initDefaultProps(circlePropTypes, circleDefaultProps),\n  created: function created() {\n    this.paths = {};\n    this.gradientId = gradientSeed;\n    gradientSeed += 1;\n  },\n\n  methods: {\n    getStokeList: function getStokeList() {\n      var _this = this;\n\n      var h = this.$createElement;\n      var _$props = this.$props,\n          prefixCls = _$props.prefixCls,\n          percent = _$props.percent,\n          strokeColor = _$props.strokeColor,\n          strokeWidth = _$props.strokeWidth,\n          strokeLinecap = _$props.strokeLinecap,\n          gapDegree = _$props.gapDegree,\n          gapPosition = _$props.gapPosition;\n\n      var percentList = toArray(percent);\n      var strokeColorList = toArray(strokeColor);\n\n      var stackPtg = 0;\n      return percentList.map(function (ptg, index) {\n        var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n        var stroke = Object.prototype.toString.call(color) === '[object Object]' ? 'url(#' + prefixCls + '-gradient-' + _this.gradientId + ')' : '';\n\n        var _getPathStyles = getPathStyles(stackPtg, ptg, color, strokeWidth, gapDegree, gapPosition),\n            pathString = _getPathStyles.pathString,\n            pathStyle = _getPathStyles.pathStyle;\n\n        stackPtg += ptg;\n\n        var pathProps = {\n          key: index,\n          attrs: {\n            d: pathString,\n            stroke: stroke,\n            'stroke-linecap': strokeLinecap,\n            'stroke-width': strokeWidth,\n            opacity: ptg === 0 ? 0 : 1,\n            'fill-opacity': '0'\n          },\n          'class': prefixCls + '-circle-path',\n          style: pathStyle,\n          directives: [{\n            name: 'ant-ref',\n            value: function value(c) {\n              _this.paths[index] = c;\n            }\n          }]\n        };\n        return h('path', pathProps);\n      });\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n\n    var _$props2 = this.$props,\n        prefixCls = _$props2.prefixCls,\n        strokeWidth = _$props2.strokeWidth,\n        trailWidth = _$props2.trailWidth,\n        gapDegree = _$props2.gapDegree,\n        gapPosition = _$props2.gapPosition,\n        trailColor = _$props2.trailColor,\n        strokeLinecap = _$props2.strokeLinecap,\n        strokeColor = _$props2.strokeColor,\n        restProps = _objectWithoutProperties(_$props2, ['prefixCls', 'strokeWidth', 'trailWidth', 'gapDegree', 'gapPosition', 'trailColor', 'strokeLinecap', 'strokeColor']);\n\n    var _getPathStyles2 = getPathStyles(0, 100, trailColor, strokeWidth, gapDegree, gapPosition),\n        pathString = _getPathStyles2.pathString,\n        pathStyle = _getPathStyles2.pathStyle;\n\n    delete restProps.percent;\n    var strokeColorList = toArray(strokeColor);\n    var gradient = strokeColorList.find(function (color) {\n      return Object.prototype.toString.call(color) === '[object Object]';\n    });\n    var pathFirst = {\n      attrs: {\n        d: pathString,\n        stroke: trailColor,\n        'stroke-linecap': strokeLinecap,\n        'stroke-width': trailWidth || strokeWidth,\n        'fill-opacity': '0'\n      },\n      'class': prefixCls + '-circle-trail',\n      style: pathStyle\n    };\n\n    return h(\n      'svg',\n      _mergeJSXProps([{ 'class': prefixCls + '-circle', attrs: { viewBox: '0 0 100 100' }\n      }, restProps]),\n      [gradient && h('defs', [h(\n        'linearGradient',\n        {\n          attrs: {\n            id: prefixCls + '-gradient-' + this.gradientId,\n            x1: '100%',\n            y1: '0%',\n            x2: '0%',\n            y2: '0%'\n          }\n        },\n        [Object.keys(gradient).sort(function (a, b) {\n          return stripPercentToNumber(a) - stripPercentToNumber(b);\n        }).map(function (key, index) {\n          return h('stop', { key: index, attrs: { offset: key, 'stop-color': gradient[key] }\n          });\n        })]\n      )]), h('path', pathFirst), this.getStokeList().reverse()]\n    );\n  }\n};\n\nexport default enhancer(Circle);"]},"metadata":{},"sourceType":"module"}