{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport debounce from 'lodash/debounce';\nimport isFlexSupported from '../_util/isFlexSupported';\nimport { filterEmpty, getEvents, getPropsData, getListeners } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nexport default {\n  name: 'Steps',\n  mixins: [BaseMixin],\n  props: {\n    type: PropTypes.string.def('default'),\n    prefixCls: PropTypes.string.def('rc-steps'),\n    iconPrefix: PropTypes.string.def('rc'),\n    direction: PropTypes.string.def('horizontal'),\n    labelPlacement: PropTypes.string.def('horizontal'),\n    status: PropTypes.string.def('process'),\n    size: PropTypes.string.def(''),\n    progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    initial: PropTypes.number.def(0),\n    current: PropTypes.number.def(0),\n    icons: PropTypes.shape({\n      finish: PropTypes.any,\n      error: PropTypes.any\n    }).loose\n  },\n  data: function data() {\n    this.calcStepOffsetWidth = debounce(this.calcStepOffsetWidth, 150);\n    return {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.calcStepOffsetWidth();\n\n      if (!isFlexSupported()) {\n        _this.setState({\n          flexSupported: false\n        });\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.calcStepOffsetWidth();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  },\n  methods: {\n    onStepClick: function onStepClick(next) {\n      var current = this.$props.current;\n\n      if (current !== next) {\n        this.$emit('change', next);\n      }\n    },\n    calcStepOffsetWidth: function calcStepOffsetWidth() {\n      var _this3 = this;\n\n      if (isFlexSupported()) {\n        return;\n      }\n\n      var lastStepOffsetWidth = this.$data.lastStepOffsetWidth; // Just for IE9\n\n      var domNode = this.$refs.vcStepsRef;\n\n      if (domNode.children.length > 0) {\n        if (this.calcTimeout) {\n          clearTimeout(this.calcTimeout);\n        }\n\n        this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var offsetWidth = (domNode.lastChild.offsetWidth || 0) + 1; // Reduce shake bug\n\n          if (lastStepOffsetWidth === offsetWidth || Math.abs(lastStepOffsetWidth - offsetWidth) <= 3) {\n            return;\n          }\n\n          _this3.setState({\n            lastStepOffsetWidth: offsetWidth\n          });\n        });\n      }\n    }\n  },\n  render: function render() {\n    var _classString,\n        _this4 = this;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        direction = this.direction,\n        type = this.type,\n        labelPlacement = this.labelPlacement,\n        iconPrefix = this.iconPrefix,\n        status = this.status,\n        size = this.size,\n        current = this.current,\n        $scopedSlots = this.$scopedSlots,\n        initial = this.initial,\n        icons = this.icons;\n    var isNav = type === 'navigation';\n    var progressDot = this.progressDot;\n\n    if (progressDot === undefined) {\n      progressDot = $scopedSlots.progressDot;\n    }\n\n    var lastStepOffsetWidth = this.lastStepOffsetWidth,\n        flexSupported = this.flexSupported;\n    var filteredChildren = filterEmpty(this.$slots['default']);\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = progressDot ? 'vertical' : labelPlacement;\n    var classString = (_classString = {}, _defineProperty(_classString, prefixCls, true), _defineProperty(_classString, prefixCls + '-' + direction, true), _defineProperty(_classString, prefixCls + '-' + size, size), _defineProperty(_classString, prefixCls + '-label-' + adjustedlabelPlacement, direction === 'horizontal'), _defineProperty(_classString, prefixCls + '-dot', !!progressDot), _defineProperty(_classString, prefixCls + '-navigation', isNav), _defineProperty(_classString, prefixCls + '-flex-not-supported', !flexSupported), _classString);\n    var listeners = getListeners(this);\n    var stepsProps = {\n      'class': classString,\n      ref: 'vcStepsRef',\n      on: listeners\n    };\n    return h('div', stepsProps, [filteredChildren.map(function (child, index) {\n      var childProps = getPropsData(child);\n      var stepNumber = initial + index;\n      var stepProps = {\n        props: _extends({\n          stepNumber: '' + (stepNumber + 1),\n          stepIndex: stepNumber,\n          prefixCls: prefixCls,\n          iconPrefix: iconPrefix,\n          progressDot: _this4.progressDot,\n          icons: icons\n        }, childProps),\n        on: getEvents(child),\n        scopedSlots: $scopedSlots\n      };\n\n      if (listeners.change) {\n        stepProps.on.stepClick = _this4.onStepClick;\n      }\n\n      if (!flexSupported && direction !== 'vertical') {\n        if (isNav) {\n          stepProps.props.itemWidth = 100 / (lastIndex + 1) + '%';\n          stepProps.props.adjustMarginRight = 0;\n        } else if (index !== lastIndex) {\n          stepProps.props.itemWidth = 100 / lastIndex + '%';\n          stepProps.props.adjustMarginRight = -Math.round(lastStepOffsetWidth / lastIndex + 1) + 'px';\n        }\n      } // fix tail color\n\n\n      if (status === 'error' && index === current - 1) {\n        stepProps['class'] = prefixCls + '-next-error';\n      }\n\n      if (!childProps.status) {\n        if (stepNumber === current) {\n          stepProps.props.status = status;\n        } else if (stepNumber < current) {\n          stepProps.props.status = 'finish';\n        } else {\n          stepProps.props.status = 'wait';\n        }\n      }\n\n      stepProps.props.active = stepNumber === current;\n      return cloneElement(child, stepProps);\n    })]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-steps/Steps.js"],"names":["_extends","_defineProperty","PropTypes","BaseMixin","debounce","isFlexSupported","filterEmpty","getEvents","getPropsData","getListeners","cloneElement","name","mixins","props","type","string","def","prefixCls","iconPrefix","direction","labelPlacement","status","size","progressDot","oneOfType","bool","func","initial","number","current","icons","shape","finish","any","error","loose","data","calcStepOffsetWidth","flexSupported","lastStepOffsetWidth","mounted","_this","$nextTick","setState","updated","_this2","beforeDestroy","calcTimeout","clearTimeout","cancel","methods","onStepClick","next","$props","$emit","_this3","$data","domNode","$refs","vcStepsRef","children","length","setTimeout","offsetWidth","lastChild","Math","abs","render","_classString","_this4","h","arguments","$scopedSlots","isNav","undefined","filteredChildren","$slots","lastIndex","adjustedlabelPlacement","classString","listeners","stepsProps","ref","on","map","child","index","childProps","stepNumber","stepProps","stepIndex","scopedSlots","change","stepClick","itemWidth","adjustMarginRight","round","active"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport debounce from 'lodash/debounce';\nimport isFlexSupported from '../_util/isFlexSupported';\nimport { filterEmpty, getEvents, getPropsData, getListeners } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\n\nexport default {\n  name: 'Steps',\n  mixins: [BaseMixin],\n  props: {\n    type: PropTypes.string.def('default'),\n    prefixCls: PropTypes.string.def('rc-steps'),\n    iconPrefix: PropTypes.string.def('rc'),\n    direction: PropTypes.string.def('horizontal'),\n    labelPlacement: PropTypes.string.def('horizontal'),\n    status: PropTypes.string.def('process'),\n    size: PropTypes.string.def(''),\n    progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    initial: PropTypes.number.def(0),\n    current: PropTypes.number.def(0),\n    icons: PropTypes.shape({\n      finish: PropTypes.any,\n      error: PropTypes.any\n    }).loose\n  },\n  data: function data() {\n    this.calcStepOffsetWidth = debounce(this.calcStepOffsetWidth, 150);\n    return {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.calcStepOffsetWidth();\n      if (!isFlexSupported()) {\n        _this.setState({\n          flexSupported: false\n        });\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.calcStepOffsetWidth();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  },\n\n  methods: {\n    onStepClick: function onStepClick(next) {\n      var current = this.$props.current;\n\n      if (current !== next) {\n        this.$emit('change', next);\n      }\n    },\n    calcStepOffsetWidth: function calcStepOffsetWidth() {\n      var _this3 = this;\n\n      if (isFlexSupported()) {\n        return;\n      }\n      var lastStepOffsetWidth = this.$data.lastStepOffsetWidth;\n      // Just for IE9\n\n      var domNode = this.$refs.vcStepsRef;\n      if (domNode.children.length > 0) {\n        if (this.calcTimeout) {\n          clearTimeout(this.calcTimeout);\n        }\n        this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var offsetWidth = (domNode.lastChild.offsetWidth || 0) + 1;\n          // Reduce shake bug\n          if (lastStepOffsetWidth === offsetWidth || Math.abs(lastStepOffsetWidth - offsetWidth) <= 3) {\n            return;\n          }\n          _this3.setState({ lastStepOffsetWidth: offsetWidth });\n        });\n      }\n    }\n  },\n  render: function render() {\n    var _classString,\n        _this4 = this;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        direction = this.direction,\n        type = this.type,\n        labelPlacement = this.labelPlacement,\n        iconPrefix = this.iconPrefix,\n        status = this.status,\n        size = this.size,\n        current = this.current,\n        $scopedSlots = this.$scopedSlots,\n        initial = this.initial,\n        icons = this.icons;\n\n    var isNav = type === 'navigation';\n    var progressDot = this.progressDot;\n    if (progressDot === undefined) {\n      progressDot = $scopedSlots.progressDot;\n    }\n    var lastStepOffsetWidth = this.lastStepOffsetWidth,\n        flexSupported = this.flexSupported;\n\n    var filteredChildren = filterEmpty(this.$slots['default']);\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = progressDot ? 'vertical' : labelPlacement;\n    var classString = (_classString = {}, _defineProperty(_classString, prefixCls, true), _defineProperty(_classString, prefixCls + '-' + direction, true), _defineProperty(_classString, prefixCls + '-' + size, size), _defineProperty(_classString, prefixCls + '-label-' + adjustedlabelPlacement, direction === 'horizontal'), _defineProperty(_classString, prefixCls + '-dot', !!progressDot), _defineProperty(_classString, prefixCls + '-navigation', isNav), _defineProperty(_classString, prefixCls + '-flex-not-supported', !flexSupported), _classString);\n    var listeners = getListeners(this);\n    var stepsProps = {\n      'class': classString,\n      ref: 'vcStepsRef',\n      on: listeners\n    };\n    return h(\n      'div',\n      stepsProps,\n      [filteredChildren.map(function (child, index) {\n        var childProps = getPropsData(child);\n        var stepNumber = initial + index;\n        var stepProps = {\n          props: _extends({\n            stepNumber: '' + (stepNumber + 1),\n            stepIndex: stepNumber,\n            prefixCls: prefixCls,\n            iconPrefix: iconPrefix,\n            progressDot: _this4.progressDot,\n            icons: icons\n          }, childProps),\n          on: getEvents(child),\n          scopedSlots: $scopedSlots\n        };\n        if (listeners.change) {\n          stepProps.on.stepClick = _this4.onStepClick;\n        }\n        if (!flexSupported && direction !== 'vertical') {\n          if (isNav) {\n            stepProps.props.itemWidth = 100 / (lastIndex + 1) + '%';\n            stepProps.props.adjustMarginRight = 0;\n          } else if (index !== lastIndex) {\n            stepProps.props.itemWidth = 100 / lastIndex + '%';\n            stepProps.props.adjustMarginRight = -Math.round(lastStepOffsetWidth / lastIndex + 1) + 'px';\n          }\n        }\n        // fix tail color\n        if (status === 'error' && index === current - 1) {\n          stepProps['class'] = prefixCls + '-next-error';\n        }\n        if (!childProps.status) {\n          if (stepNumber === current) {\n            stepProps.props.status = status;\n          } else if (stepNumber < current) {\n            stepProps.props.status = 'finish';\n          } else {\n            stepProps.props.status = 'wait';\n          }\n        }\n        stepProps.props.active = stepNumber === current;\n        return cloneElement(child, stepProps);\n      })]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}