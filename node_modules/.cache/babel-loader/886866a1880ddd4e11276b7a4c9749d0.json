{"ast":null,"code":"import { customRef } from \"@vue/reactivity\";\nexport default {\n  setup() {\n    function useCustomRef(value) {\n      return customRef((track, trigger) => {\n        let timer;\n        return {\n          get() {\n            console.log(value, \"get\");\n            track();\n            return value;\n          },\n\n          set(newVal) {\n            console.log(newVal, \"值被修改l1111\");\n            timer = setTimeout(() => {\n              value = newVal;\n              trigger();\n            }, 1000);\n          }\n\n        };\n      });\n    }\n\n    let keyword = useCustomRef(\"hello\");\n    return {\n      keyword\n    };\n  }\n\n};","map":{"version":3,"mappings":"AASA,SAASA,SAAT,QAA0B,iBAA1B;AACA,eAAe;AACbC,OAAK,GAAG;AACN,aAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,aAAOH,SAAS,CAAC,CAACI,KAAD,EAAQC,OAAR,KAAoB;AACnC,YAAIC,KAAJ;AACA,eAAO;AACLC,aAAG,GAAG;AACJC,mBAAO,CAACC,GAAR,CAAYN,KAAZ,EAAmB,KAAnB;AACAC,iBAAK;AACL,mBAAOD,KAAP;AACD,WALI;;AAMLO,aAAG,CAACC,MAAD,EAAS;AACVH,mBAAO,CAACC,GAAR,CAAYE,MAAZ,EAAoB,WAApB;AACAL,iBAAI,GAAIM,UAAU,CAAC,MAAM;AACvBT,mBAAI,GAAIQ,MAAR;AACAN,qBAAO;AACR,aAHiB,EAGf,IAHe,CAAlB;AAID;;AAZI,SAAP;AAcD,OAhBe,CAAhB;AAiBF;;AACA,QAAIQ,OAAM,GAAIX,YAAY,CAAC,OAAD,CAA1B;AACA,WAAO;AACLW;AADK,KAAP;AAGD;;AAzBY,CAAf","names":["customRef","setup","useCustomRef","value","track","trigger","timer","get","console","log","set","newVal","setTimeout","keyword"],"sourceRoot":"","sources":["/Users/liulu/刘璐/vue3/hello-vue3/src/components/CustomRef.vue"],"sourcesContent":["<template>\n  <h1>自定义ref</h1>\n  <div>\n    <input type=\"text\" v-model=\"keyword\" />\n    <span>{{ keyword }}</span>\n  </div>\n</template>\n\n<script>\nimport { customRef } from \"@vue/reactivity\";\nexport default {\n  setup() {\n    function useCustomRef(value) {\n      return customRef((track, trigger) => {\n        let timer;\n        return {\n          get() {\n            console.log(value, \"get\");\n            track();\n            return value;\n          },\n          set(newVal) {\n            console.log(newVal, \"值被修改l1111\");\n            timer = setTimeout(() => {\n              value = newVal;\n              trigger();\n            }, 1000);\n          },\n        };\n      });\n    }\n    let keyword = useCustomRef(\"hello\");\n    return {\n      keyword,\n    };\n  },\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}