{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport { getStyle, getComponentFromProp, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\n\nfunction noop() {}\n\nexport default {\n  mixins: [BaseMixin],\n  props: {\n    duration: PropTypes.number.def(1.5),\n    closable: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    update: PropTypes.bool,\n    closeIcon: PropTypes.any\n  },\n  watch: {\n    duration: function duration() {\n      this.restartCloseTimer();\n    }\n  },\n  mounted: function mounted() {\n    this.startCloseTimer();\n  },\n  updated: function updated() {\n    if (this.update) {\n      this.restartCloseTimer();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearCloseTimer();\n    this.willDestroy = true; // beforeDestroy调用后依然会触发onMouseleave事件\n  },\n  methods: {\n    close: function close(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n\n      this.clearCloseTimer();\n\n      this.__emit('close');\n    },\n    startCloseTimer: function startCloseTimer() {\n      var _this = this;\n\n      this.clearCloseTimer();\n\n      if (!this.willDestroy && this.duration) {\n        this.closeTimer = setTimeout(function () {\n          _this.close();\n        }, this.duration * 1000);\n      }\n    },\n    clearCloseTimer: function clearCloseTimer() {\n      if (this.closeTimer) {\n        clearTimeout(this.closeTimer);\n        this.closeTimer = null;\n      }\n    },\n    restartCloseTimer: function restartCloseTimer() {\n      this.clearCloseTimer();\n      this.startCloseTimer();\n    }\n  },\n  render: function render() {\n    var _className;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        closable = this.closable,\n        clearCloseTimer = this.clearCloseTimer,\n        startCloseTimer = this.startCloseTimer,\n        $slots = this.$slots,\n        close = this.close;\n    var componentClass = prefixCls + '-notice';\n    var className = (_className = {}, _defineProperty(_className, '' + componentClass, 1), _defineProperty(_className, componentClass + '-closable', closable), _className);\n    var style = getStyle(this);\n    var closeIcon = getComponentFromProp(this, 'closeIcon');\n    return h('div', {\n      'class': className,\n      style: style || {\n        right: '50%'\n      },\n      on: {\n        'mouseenter': clearCloseTimer,\n        'mouseleave': startCloseTimer,\n        'click': getListeners(this).click || noop\n      }\n    }, [h('div', {\n      'class': componentClass + '-content'\n    }, [$slots['default']]), closable ? h('a', {\n      attrs: {\n        tabIndex: '0'\n      },\n      on: {\n        'click': close\n      },\n      'class': componentClass + '-close'\n    }, [closeIcon || h('span', {\n      'class': componentClass + '-close-x'\n    })]) : null]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-notification/Notice.js"],"names":["_defineProperty","PropTypes","getStyle","getComponentFromProp","getListeners","BaseMixin","noop","mixins","props","duration","number","def","closable","bool","prefixCls","string","update","closeIcon","any","watch","restartCloseTimer","mounted","startCloseTimer","updated","beforeDestroy","clearCloseTimer","willDestroy","methods","close","e","stopPropagation","__emit","_this","closeTimer","setTimeout","clearTimeout","render","_className","h","arguments","$slots","componentClass","className","style","right","on","click","attrs","tabIndex"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport { getStyle, getComponentFromProp, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\n\nfunction noop() {}\n\nexport default {\n  mixins: [BaseMixin],\n  props: {\n    duration: PropTypes.number.def(1.5),\n    closable: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    update: PropTypes.bool,\n    closeIcon: PropTypes.any\n  },\n  watch: {\n    duration: function duration() {\n      this.restartCloseTimer();\n    }\n  },\n\n  mounted: function mounted() {\n    this.startCloseTimer();\n  },\n  updated: function updated() {\n    if (this.update) {\n      this.restartCloseTimer();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearCloseTimer();\n    this.willDestroy = true; // beforeDestroy调用后依然会触发onMouseleave事件\n  },\n\n  methods: {\n    close: function close(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n      this.clearCloseTimer();\n      this.__emit('close');\n    },\n    startCloseTimer: function startCloseTimer() {\n      var _this = this;\n\n      this.clearCloseTimer();\n      if (!this.willDestroy && this.duration) {\n        this.closeTimer = setTimeout(function () {\n          _this.close();\n        }, this.duration * 1000);\n      }\n    },\n    clearCloseTimer: function clearCloseTimer() {\n      if (this.closeTimer) {\n        clearTimeout(this.closeTimer);\n        this.closeTimer = null;\n      }\n    },\n    restartCloseTimer: function restartCloseTimer() {\n      this.clearCloseTimer();\n      this.startCloseTimer();\n    }\n  },\n\n  render: function render() {\n    var _className;\n\n    var h = arguments[0];\n    var prefixCls = this.prefixCls,\n        closable = this.closable,\n        clearCloseTimer = this.clearCloseTimer,\n        startCloseTimer = this.startCloseTimer,\n        $slots = this.$slots,\n        close = this.close;\n\n    var componentClass = prefixCls + '-notice';\n    var className = (_className = {}, _defineProperty(_className, '' + componentClass, 1), _defineProperty(_className, componentClass + '-closable', closable), _className);\n    var style = getStyle(this);\n    var closeIcon = getComponentFromProp(this, 'closeIcon');\n    return h(\n      'div',\n      {\n        'class': className,\n        style: style || { right: '50%' },\n        on: {\n          'mouseenter': clearCloseTimer,\n          'mouseleave': startCloseTimer,\n          'click': getListeners(this).click || noop\n        }\n      },\n      [h(\n        'div',\n        { 'class': componentClass + '-content' },\n        [$slots['default']]\n      ), closable ? h(\n        'a',\n        {\n          attrs: { tabIndex: '0' },\n          on: {\n            'click': close\n          },\n          'class': componentClass + '-close' },\n        [closeIcon || h('span', { 'class': componentClass + '-close-x' })]\n      ) : null]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}