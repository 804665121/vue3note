{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport { cloneElement } from '../_util/vnode';\nimport VcTooltip from '../vc-tooltip';\nimport _getPlacements from './placements';\nimport PropTypes from '../_util/vue-types';\nimport { hasProp, getComponentFromProp, getClass, getStyle, isValidElement, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport abstractTooltipProps from './abstractTooltipProps';\n\nvar splitObject = function splitObject(obj, keys) {\n  var picked = {};\n\n  var omitted = _extends({}, obj);\n\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n};\n\nvar props = abstractTooltipProps();\nexport default {\n  name: 'ATooltip',\n  model: {\n    prop: 'visible',\n    event: 'visibleChange'\n  },\n  props: _extends({}, props, {\n    title: PropTypes.any\n  }),\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.$props.visible || !!this.$props.defaultVisible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    onVisibleChange: function onVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.sVisible = this.isNoTitle() ? false : visible;\n      }\n\n      if (!this.isNoTitle()) {\n        this.$emit('visibleChange', visible);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.tooltip.getPopupDomNode();\n    },\n    getPlacements: function getPlacements() {\n      var _$props = this.$props,\n          builtinPlacements = _$props.builtinPlacements,\n          arrowPointAtCenter = _$props.arrowPointAtCenter,\n          autoAdjustOverflow = _$props.autoAdjustOverflow;\n      return builtinPlacements || _getPlacements({\n        arrowPointAtCenter: arrowPointAtCenter,\n        verticalArrowShift: 8,\n        autoAdjustOverflow: autoAdjustOverflow\n      });\n    },\n    // Fix Tooltip won't hide at disabled button\n    // mouse events don't trigger at disabled button in Chrome\n    // https://github.com/react-component/tooltip/issues/18\n    getDisabledCompatibleChildren: function getDisabledCompatibleChildren(ele) {\n      var h = this.$createElement;\n      var options = ele.componentOptions && ele.componentOptions.Ctor.options || {};\n\n      if ((options.__ANT_BUTTON === true || options.__ANT_SWITCH === true || options.__ANT_CHECKBOX === true) && (ele.componentOptions.propsData.disabled || ele.componentOptions.propsData.disabled === '') || ele.tag === 'button' && ele.data && ele.data.attrs && ele.data.attrs.disabled !== undefined) {\n        // Pick some layout related style properties up to span\n        // Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254\n        var _splitObject = splitObject(getStyle(ele), ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n            picked = _splitObject.picked,\n            omitted = _splitObject.omitted;\n\n        var spanStyle = _extends({\n          display: 'inline-block'\n        }, picked, {\n          cursor: 'not-allowed',\n          width: ele.componentOptions.propsData.block ? '100%' : null\n        });\n\n        var buttonStyle = _extends({}, omitted, {\n          pointerEvents: 'none'\n        });\n\n        var spanCls = getClass(ele);\n        var child = cloneElement(ele, {\n          style: buttonStyle,\n          'class': null\n        });\n        return h('span', {\n          style: spanStyle,\n          'class': spanCls\n        }, [child]);\n      }\n\n      return ele;\n    },\n    isNoTitle: function isNoTitle() {\n      var title = getComponentFromProp(this, 'title');\n      return !title && title !== 0;\n    },\n    getOverlay: function getOverlay() {\n      var title = getComponentFromProp(this, 'title');\n\n      if (title === 0) {\n        return title;\n      }\n\n      return title || '';\n    },\n    // 动态设置动画点\n    onPopupAlign: function onPopupAlign(domNode, align) {\n      var placements = this.getPlacements(); // 当前返回的位置\n\n      var placement = Object.keys(placements).filter(function (key) {\n        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];\n      })[0];\n\n      if (!placement) {\n        return;\n      } // 根据当前坐标设置动画点\n\n\n      var rect = domNode.getBoundingClientRect();\n      var transformOrigin = {\n        top: '50%',\n        left: '50%'\n      };\n\n      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {\n        transformOrigin.top = rect.height - align.offset[1] + 'px';\n      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {\n        transformOrigin.top = -align.offset[1] + 'px';\n      }\n\n      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {\n        transformOrigin.left = rect.width - align.offset[0] + 'px';\n      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {\n        transformOrigin.left = -align.offset[0] + 'px';\n      }\n\n      domNode.style.transformOrigin = transformOrigin.left + ' ' + transformOrigin.top;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var $props = this.$props,\n        $data = this.$data,\n        $slots = this.$slots;\n    var customizePrefixCls = $props.prefixCls,\n        openClassName = $props.openClassName,\n        getPopupContainer = $props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tooltip', customizePrefixCls);\n    var children = ($slots['default'] || []).filter(function (c) {\n      return c.tag || c.text.trim() !== '';\n    });\n    children = children.length === 1 ? children[0] : children;\n    var sVisible = $data.sVisible; // Hide tooltip when there is no title\n\n    if (!hasProp(this, 'visible') && this.isNoTitle()) {\n      sVisible = false;\n    }\n\n    if (!children) {\n      return null;\n    }\n\n    var child = this.getDisabledCompatibleChildren(isValidElement(children) ? children : h('span', [children]));\n\n    var childCls = _defineProperty({}, openClassName || prefixCls + '-open', true);\n\n    var tooltipProps = {\n      props: _extends({}, $props, {\n        prefixCls: prefixCls,\n        getTooltipContainer: getPopupContainer || getContextPopupContainer,\n        builtinPlacements: this.getPlacements(),\n        overlay: this.getOverlay(),\n        visible: sVisible\n      }),\n      ref: 'tooltip',\n      on: _extends({}, getListeners(this), {\n        visibleChange: this.onVisibleChange,\n        popupAlign: this.onPopupAlign\n      })\n    };\n    return h(VcTooltip, tooltipProps, [sVisible ? cloneElement(child, {\n      'class': childCls\n    }) : child]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/tooltip/Tooltip.js"],"names":["_defineProperty","_extends","cloneElement","VcTooltip","_getPlacements","PropTypes","hasProp","getComponentFromProp","getClass","getStyle","isValidElement","getListeners","ConfigConsumerProps","abstractTooltipProps","splitObject","obj","keys","picked","omitted","forEach","key","props","name","model","prop","event","title","any","inject","configProvider","_default","data","sVisible","$props","visible","defaultVisible","watch","val","methods","onVisibleChange","isNoTitle","$emit","getPopupDomNode","$refs","tooltip","getPlacements","_$props","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","verticalArrowShift","getDisabledCompatibleChildren","ele","h","$createElement","options","componentOptions","Ctor","__ANT_BUTTON","__ANT_SWITCH","__ANT_CHECKBOX","propsData","disabled","tag","attrs","undefined","_splitObject","spanStyle","display","cursor","width","block","buttonStyle","pointerEvents","spanCls","child","style","getOverlay","onPopupAlign","domNode","align","placements","placement","Object","filter","points","rect","getBoundingClientRect","transformOrigin","top","left","indexOf","height","offset","render","arguments","$data","$slots","customizePrefixCls","prefixCls","openClassName","getPopupContainer","getContextPopupContainer","getPrefixCls","children","c","text","trim","length","childCls","tooltipProps","getTooltipContainer","overlay","ref","on","visibleChange","popupAlign"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport { cloneElement } from '../_util/vnode';\nimport VcTooltip from '../vc-tooltip';\nimport _getPlacements from './placements';\nimport PropTypes from '../_util/vue-types';\nimport { hasProp, getComponentFromProp, getClass, getStyle, isValidElement, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport abstractTooltipProps from './abstractTooltipProps';\n\nvar splitObject = function splitObject(obj, keys) {\n  var picked = {};\n  var omitted = _extends({}, obj);\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return { picked: picked, omitted: omitted };\n};\nvar props = abstractTooltipProps();\nexport default {\n  name: 'ATooltip',\n  model: {\n    prop: 'visible',\n    event: 'visibleChange'\n  },\n  props: _extends({}, props, {\n    title: PropTypes.any\n  }),\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.$props.visible || !!this.$props.defaultVisible\n    };\n  },\n\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    onVisibleChange: function onVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.sVisible = this.isNoTitle() ? false : visible;\n      }\n      if (!this.isNoTitle()) {\n        this.$emit('visibleChange', visible);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.tooltip.getPopupDomNode();\n    },\n    getPlacements: function getPlacements() {\n      var _$props = this.$props,\n          builtinPlacements = _$props.builtinPlacements,\n          arrowPointAtCenter = _$props.arrowPointAtCenter,\n          autoAdjustOverflow = _$props.autoAdjustOverflow;\n\n      return builtinPlacements || _getPlacements({\n        arrowPointAtCenter: arrowPointAtCenter,\n        verticalArrowShift: 8,\n        autoAdjustOverflow: autoAdjustOverflow\n      });\n    },\n\n\n    // Fix Tooltip won't hide at disabled button\n    // mouse events don't trigger at disabled button in Chrome\n    // https://github.com/react-component/tooltip/issues/18\n    getDisabledCompatibleChildren: function getDisabledCompatibleChildren(ele) {\n      var h = this.$createElement;\n\n      var options = ele.componentOptions && ele.componentOptions.Ctor.options || {};\n\n      if ((options.__ANT_BUTTON === true || options.__ANT_SWITCH === true || options.__ANT_CHECKBOX === true) && (ele.componentOptions.propsData.disabled || ele.componentOptions.propsData.disabled === '') || ele.tag === 'button' && ele.data && ele.data.attrs && ele.data.attrs.disabled !== undefined) {\n        // Pick some layout related style properties up to span\n        // Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254\n        var _splitObject = splitObject(getStyle(ele), ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n            picked = _splitObject.picked,\n            omitted = _splitObject.omitted;\n\n        var spanStyle = _extends({\n          display: 'inline-block' }, picked, {\n          cursor: 'not-allowed',\n          width: ele.componentOptions.propsData.block ? '100%' : null\n        });\n        var buttonStyle = _extends({}, omitted, {\n          pointerEvents: 'none'\n        });\n        var spanCls = getClass(ele);\n        var child = cloneElement(ele, {\n          style: buttonStyle,\n          'class': null\n        });\n        return h(\n          'span',\n          { style: spanStyle, 'class': spanCls },\n          [child]\n        );\n      }\n      return ele;\n    },\n    isNoTitle: function isNoTitle() {\n      var title = getComponentFromProp(this, 'title');\n      return !title && title !== 0;\n    },\n    getOverlay: function getOverlay() {\n      var title = getComponentFromProp(this, 'title');\n      if (title === 0) {\n        return title;\n      }\n      return title || '';\n    },\n\n\n    // 动态设置动画点\n    onPopupAlign: function onPopupAlign(domNode, align) {\n      var placements = this.getPlacements();\n      // 当前返回的位置\n      var placement = Object.keys(placements).filter(function (key) {\n        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];\n      })[0];\n      if (!placement) {\n        return;\n      }\n      // 根据当前坐标设置动画点\n      var rect = domNode.getBoundingClientRect();\n      var transformOrigin = {\n        top: '50%',\n        left: '50%'\n      };\n      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {\n        transformOrigin.top = rect.height - align.offset[1] + 'px';\n      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {\n        transformOrigin.top = -align.offset[1] + 'px';\n      }\n      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {\n        transformOrigin.left = rect.width - align.offset[0] + 'px';\n      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {\n        transformOrigin.left = -align.offset[0] + 'px';\n      }\n      domNode.style.transformOrigin = transformOrigin.left + ' ' + transformOrigin.top;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var $props = this.$props,\n        $data = this.$data,\n        $slots = this.$slots;\n    var customizePrefixCls = $props.prefixCls,\n        openClassName = $props.openClassName,\n        getPopupContainer = $props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tooltip', customizePrefixCls);\n    var children = ($slots['default'] || []).filter(function (c) {\n      return c.tag || c.text.trim() !== '';\n    });\n    children = children.length === 1 ? children[0] : children;\n    var sVisible = $data.sVisible;\n    // Hide tooltip when there is no title\n    if (!hasProp(this, 'visible') && this.isNoTitle()) {\n      sVisible = false;\n    }\n    if (!children) {\n      return null;\n    }\n    var child = this.getDisabledCompatibleChildren(isValidElement(children) ? children : h('span', [children]));\n    var childCls = _defineProperty({}, openClassName || prefixCls + '-open', true);\n    var tooltipProps = {\n      props: _extends({}, $props, {\n        prefixCls: prefixCls,\n        getTooltipContainer: getPopupContainer || getContextPopupContainer,\n        builtinPlacements: this.getPlacements(),\n        overlay: this.getOverlay(),\n        visible: sVisible\n      }),\n      ref: 'tooltip',\n      on: _extends({}, getListeners(this), {\n        visibleChange: this.onVisibleChange,\n        popupAlign: this.onPopupAlign\n      })\n    };\n    return h(\n      VcTooltip,\n      tooltipProps,\n      [sVisible ? cloneElement(child, { 'class': childCls }) : child]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}