{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport classNames from 'classnames';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getPropsData, initDefaultProps, filterEmpty, getComponentFromProp, getListeners } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport TimelineItem from './TimelineItem';\nimport Icon from '../icon';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nexport var TimelineProps = {\n  prefixCls: PropTypes.string,\n\n  /** 指定最后一个幽灵节点是否存在或内容 */\n  pending: PropTypes.any,\n  pendingDot: PropTypes.string,\n  reverse: PropTypes.bool,\n  mode: PropTypes.oneOf(['left', 'alternate', 'right', ''])\n};\nexport default {\n  name: 'ATimeline',\n  props: initDefaultProps(TimelineProps, {\n    reverse: false,\n    mode: ''\n  }),\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var h = arguments[0];\n\n    var _getOptionProps = getOptionProps(this),\n        customizePrefixCls = _getOptionProps.prefixCls,\n        reverse = _getOptionProps.reverse,\n        mode = _getOptionProps.mode,\n        restProps = _objectWithoutProperties(_getOptionProps, ['prefixCls', 'reverse', 'mode']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('timeline', customizePrefixCls);\n    var pendingDot = getComponentFromProp(this, 'pendingDot');\n    var pending = getComponentFromProp(this, 'pending');\n    var pendingNode = typeof pending === 'boolean' ? null : pending;\n    var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-pending', !!pending), _defineProperty(_classNames, prefixCls + '-reverse', !!reverse), _defineProperty(_classNames, prefixCls + '-' + mode, !!mode), _classNames));\n    var children = filterEmpty(this.$slots['default']); // // Remove falsy items\n    // const falsylessItems = filterEmpty(this.$slots.default)\n    // const items = falsylessItems.map((item, idx) => {\n    //   return cloneElement(item, {\n    //     props: {\n    //       last: falsylessItems.length - 1 === idx,\n    //     },\n    //   })\n    // })\n\n    var pendingItem = pending ? h(TimelineItem, {\n      attrs: {\n        pending: !!pending\n      }\n    }, [h('template', {\n      slot: 'dot'\n    }, [pendingDot || h(Icon, {\n      attrs: {\n        type: 'loading'\n      }\n    })]), pendingNode]) : null;\n    var timeLineItems = reverse ? [pendingItem].concat(_toConsumableArray(children.reverse())) : [].concat(_toConsumableArray(children), [pendingItem]);\n\n    var getPositionCls = function getPositionCls(ele, idx) {\n      var eleProps = getPropsData(ele);\n\n      if (mode === 'alternate') {\n        if (eleProps.position === 'right') return prefixCls + '-item-right';\n        if (eleProps.position === 'left') return prefixCls + '-item-left';\n        return idx % 2 === 0 ? prefixCls + '-item-left' : prefixCls + '-item-right';\n      }\n\n      if (mode === 'left') return prefixCls + '-item-left';\n      if (mode === 'right') return prefixCls + '-item-right';\n      if (eleProps.position === 'right') return prefixCls + '-item-right';\n      return '';\n    }; // Remove falsy items\n\n\n    var truthyItems = timeLineItems.filter(function (item) {\n      return !!item;\n    });\n    var itemsCount = truthyItems.length;\n    var lastCls = prefixCls + '-item-last';\n    var items = truthyItems.map(function (ele, idx) {\n      var pendingClass = idx === itemsCount - 2 ? lastCls : '';\n      var readyClass = idx === itemsCount - 1 ? lastCls : '';\n      return cloneElement(ele, {\n        'class': classNames([!reverse && !!pending ? pendingClass : readyClass, getPositionCls(ele, idx)])\n      });\n    });\n    var timelineProps = {\n      props: _extends({}, restProps),\n      'class': classString,\n      on: getListeners(this)\n    };\n    return h('ul', timelineProps, [items]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/timeline/Timeline.js"],"names":["_extends","_toConsumableArray","_defineProperty","_objectWithoutProperties","classNames","PropTypes","getOptionProps","getPropsData","initDefaultProps","filterEmpty","getComponentFromProp","getListeners","cloneElement","TimelineItem","Icon","ConfigConsumerProps","TimelineProps","prefixCls","string","pending","any","pendingDot","reverse","bool","mode","oneOf","name","props","inject","configProvider","_default","render","_classNames","h","arguments","_getOptionProps","customizePrefixCls","restProps","getPrefixCls","pendingNode","classString","children","$slots","pendingItem","attrs","slot","type","timeLineItems","concat","getPositionCls","ele","idx","eleProps","position","truthyItems","filter","item","itemsCount","length","lastCls","items","map","pendingClass","readyClass","timelineProps","on"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport classNames from 'classnames';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getPropsData, initDefaultProps, filterEmpty, getComponentFromProp, getListeners } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport TimelineItem from './TimelineItem';\nimport Icon from '../icon';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nexport var TimelineProps = {\n  prefixCls: PropTypes.string,\n  /** 指定最后一个幽灵节点是否存在或内容 */\n  pending: PropTypes.any,\n  pendingDot: PropTypes.string,\n  reverse: PropTypes.bool,\n  mode: PropTypes.oneOf(['left', 'alternate', 'right', ''])\n};\n\nexport default {\n  name: 'ATimeline',\n  props: initDefaultProps(TimelineProps, {\n    reverse: false,\n    mode: ''\n  }),\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  render: function render() {\n    var _classNames;\n\n    var h = arguments[0];\n\n    var _getOptionProps = getOptionProps(this),\n        customizePrefixCls = _getOptionProps.prefixCls,\n        reverse = _getOptionProps.reverse,\n        mode = _getOptionProps.mode,\n        restProps = _objectWithoutProperties(_getOptionProps, ['prefixCls', 'reverse', 'mode']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('timeline', customizePrefixCls);\n\n    var pendingDot = getComponentFromProp(this, 'pendingDot');\n    var pending = getComponentFromProp(this, 'pending');\n    var pendingNode = typeof pending === 'boolean' ? null : pending;\n    var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-pending', !!pending), _defineProperty(_classNames, prefixCls + '-reverse', !!reverse), _defineProperty(_classNames, prefixCls + '-' + mode, !!mode), _classNames));\n    var children = filterEmpty(this.$slots['default']);\n    // // Remove falsy items\n    // const falsylessItems = filterEmpty(this.$slots.default)\n    // const items = falsylessItems.map((item, idx) => {\n    //   return cloneElement(item, {\n    //     props: {\n    //       last: falsylessItems.length - 1 === idx,\n    //     },\n    //   })\n    // })\n    var pendingItem = pending ? h(\n      TimelineItem,\n      {\n        attrs: { pending: !!pending }\n      },\n      [h(\n        'template',\n        { slot: 'dot' },\n        [pendingDot || h(Icon, {\n          attrs: { type: 'loading' }\n        })]\n      ), pendingNode]\n    ) : null;\n\n    var timeLineItems = reverse ? [pendingItem].concat(_toConsumableArray(children.reverse())) : [].concat(_toConsumableArray(children), [pendingItem]);\n\n    var getPositionCls = function getPositionCls(ele, idx) {\n      var eleProps = getPropsData(ele);\n      if (mode === 'alternate') {\n        if (eleProps.position === 'right') return prefixCls + '-item-right';\n        if (eleProps.position === 'left') return prefixCls + '-item-left';\n        return idx % 2 === 0 ? prefixCls + '-item-left' : prefixCls + '-item-right';\n      }\n      if (mode === 'left') return prefixCls + '-item-left';\n      if (mode === 'right') return prefixCls + '-item-right';\n      if (eleProps.position === 'right') return prefixCls + '-item-right';\n      return '';\n    };\n\n    // Remove falsy items\n    var truthyItems = timeLineItems.filter(function (item) {\n      return !!item;\n    });\n    var itemsCount = truthyItems.length;\n    var lastCls = prefixCls + '-item-last';\n    var items = truthyItems.map(function (ele, idx) {\n      var pendingClass = idx === itemsCount - 2 ? lastCls : '';\n      var readyClass = idx === itemsCount - 1 ? lastCls : '';\n      return cloneElement(ele, {\n        'class': classNames([!reverse && !!pending ? pendingClass : readyClass, getPositionCls(ele, idx)])\n      });\n    });\n\n    var timelineProps = {\n      props: _extends({}, restProps),\n      'class': classString,\n      on: getListeners(this)\n    };\n    return h(\n      'ul',\n      timelineProps,\n      [items]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}