{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport classNames from 'classnames';\nimport ColGroup from './ColGroup';\nimport TableHeader from './TableHeader';\nimport TableRow from './TableRow';\nimport ExpandableRow from './ExpandableRow';\nimport { mergeProps, getListeners } from '../../_util/props-util';\n\nfunction noop() {}\n\nvar BaseTable = {\n  name: 'BaseTable',\n  props: {\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    hasHead: PropTypes.bool.isRequired,\n    hasBody: PropTypes.bool.isRequired,\n    expander: PropTypes.object.isRequired,\n    getRowKey: PropTypes.func,\n    isAnyColumnsFixed: PropTypes.bool\n  },\n  inject: {\n    table: {\n      'default': function _default() {\n        return {};\n      }\n    },\n    store: {\n      from: 'table-store',\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  methods: {\n    getColumns: function getColumns(cols) {\n      var _$props = this.$props,\n          _$props$columns = _$props.columns,\n          columns = _$props$columns === undefined ? [] : _$props$columns,\n          fixed = _$props.fixed;\n      var table = this.table;\n      var prefixCls = table.$props.prefixCls;\n      return (cols || columns).map(function (column) {\n        return _extends({}, column, {\n          className: !!column.fixed && !fixed ? classNames(prefixCls + '-fixed-columns-in-body', column.className || column['class']) : column.className || column['class']\n        });\n      });\n    },\n    handleRowHover: function handleRowHover(isHover, key) {\n      this.store.currentHoverKey = isHover ? key : null;\n    },\n    renderRows: function renderRows(renderData, indent) {\n      var _this = this;\n\n      var ancestorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var h = this.$createElement;\n      var _table = this.table,\n          columnManager = _table.columnManager,\n          components = _table.sComponents,\n          prefixCls = _table.prefixCls,\n          childrenColumnName = _table.childrenColumnName,\n          rowClassName = _table.rowClassName,\n          _table$customRow = _table.customRow,\n          customRow = _table$customRow === undefined ? noop : _table$customRow;\n\n      var _getListeners = getListeners(this.table),\n          _getListeners$rowClic = _getListeners.rowClick,\n          onRowClick = _getListeners$rowClic === undefined ? noop : _getListeners$rowClic,\n          _getListeners$rowDoub = _getListeners.rowDoubleclick,\n          onRowDoubleClick = _getListeners$rowDoub === undefined ? noop : _getListeners$rowDoub,\n          _getListeners$rowCont = _getListeners.rowContextmenu,\n          onRowContextMenu = _getListeners$rowCont === undefined ? noop : _getListeners$rowCont,\n          _getListeners$rowMous = _getListeners.rowMouseenter,\n          onRowMouseEnter = _getListeners$rowMous === undefined ? noop : _getListeners$rowMous,\n          _getListeners$rowMous2 = _getListeners.rowMouseleave,\n          onRowMouseLeave = _getListeners$rowMous2 === undefined ? noop : _getListeners$rowMous2;\n\n      var getRowKey = this.getRowKey,\n          fixed = this.fixed,\n          expander = this.expander,\n          isAnyColumnsFixed = this.isAnyColumnsFixed;\n      var rows = [];\n\n      var _loop = function _loop(i) {\n        var record = renderData[i];\n        var key = getRowKey(record, i);\n        var className = typeof rowClassName === 'string' ? rowClassName : rowClassName(record, i, indent);\n        var onHoverProps = {};\n\n        if (columnManager.isAnyColumnsFixed()) {\n          onHoverProps.hover = _this.handleRowHover;\n        }\n\n        var leafColumns = void 0;\n\n        if (fixed === 'left') {\n          leafColumns = columnManager.leftLeafColumns();\n        } else if (fixed === 'right') {\n          leafColumns = columnManager.rightLeafColumns();\n        } else {\n          leafColumns = _this.getColumns(columnManager.leafColumns());\n        }\n\n        var rowPrefixCls = prefixCls + '-row';\n        var expandableRowProps = {\n          props: _extends({}, expander.props, {\n            fixed: fixed,\n            index: i,\n            prefixCls: rowPrefixCls,\n            record: record,\n            rowKey: key,\n            needIndentSpaced: expander.needIndentSpaced\n          }),\n          key: key,\n          on: {\n            // ...expander.on,\n            rowClick: onRowClick,\n            expandedChange: expander.handleExpandChange\n          },\n          scopedSlots: {\n            'default': function _default(expandableRow) {\n              var tableRowProps = mergeProps({\n                props: {\n                  fixed: fixed,\n                  indent: indent,\n                  record: record,\n                  index: i,\n                  prefixCls: rowPrefixCls,\n                  childrenColumnName: childrenColumnName,\n                  columns: leafColumns,\n                  rowKey: key,\n                  ancestorKeys: ancestorKeys,\n                  components: components,\n                  isAnyColumnsFixed: isAnyColumnsFixed,\n                  customRow: customRow\n                },\n                on: _extends({\n                  rowDoubleclick: onRowDoubleClick,\n                  rowContextmenu: onRowContextMenu,\n                  rowMouseenter: onRowMouseEnter,\n                  rowMouseleave: onRowMouseLeave\n                }, onHoverProps),\n                'class': className,\n                ref: 'row_' + i + '_' + indent\n              }, expandableRow);\n              return h(TableRow, tableRowProps);\n            }\n          }\n        };\n        var row = h(ExpandableRow, expandableRowProps);\n        rows.push(row);\n        expander.renderRows(_this.renderRows, rows, record, i, indent, fixed, key, ancestorKeys);\n      };\n\n      for (var i = 0; i < renderData.length; i += 1) {\n        _loop(i);\n      }\n\n      return rows;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _table2 = this.table,\n        components = _table2.sComponents,\n        prefixCls = _table2.prefixCls,\n        scroll = _table2.scroll,\n        data = _table2.data,\n        getBodyWrapper = _table2.getBodyWrapper;\n    var _$props2 = this.$props,\n        expander = _$props2.expander,\n        tableClassName = _$props2.tableClassName,\n        hasHead = _$props2.hasHead,\n        hasBody = _$props2.hasBody,\n        fixed = _$props2.fixed,\n        isAnyColumnsFixed = _$props2.isAnyColumnsFixed;\n    var columns = this.getColumns();\n    var tableStyle = {};\n\n    if (!fixed && scroll.x) {\n      // 当有固定列时，width auto 会导致 body table 的宽度撑不开，从而固定列无法对齐\n      // 详情见：https://github.com/ant-design/ant-design/issues/22160\n      var tableWidthScrollX = isAnyColumnsFixed ? 'max-content' : 'auto'; // not set width, then use content fixed width\n\n      tableStyle.width = scroll.x === true ? tableWidthScrollX : scroll.x;\n      tableStyle.width = typeof tableStyle.width === 'number' ? tableStyle.width + 'px' : tableStyle.width;\n    }\n\n    if (fixed) {\n      var width = columns.reduce(function (sum, _ref) {\n        var w = _ref.width;\n        return sum + parseFloat(w, 10);\n      }, 0);\n\n      if (width > 0) {\n        tableStyle.width = width + 'px';\n      }\n    }\n\n    var Table = hasBody ? components.table : 'table';\n    var BodyWrapper = components.body.wrapper;\n    var body = void 0;\n\n    if (hasBody) {\n      body = h(BodyWrapper, {\n        'class': prefixCls + '-tbody'\n      }, [this.renderRows(data, 0)]);\n\n      if (getBodyWrapper) {\n        body = getBodyWrapper(body);\n      }\n    }\n\n    return h(Table, {\n      'class': tableClassName,\n      style: tableStyle,\n      key: 'table'\n    }, [h(ColGroup, {\n      attrs: {\n        columns: columns,\n        fixed: fixed\n      }\n    }), hasHead && h(TableHeader, {\n      attrs: {\n        expander: expander,\n        columns: columns,\n        fixed: fixed\n      }\n    }), body]);\n  }\n};\nexport default BaseTable;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-table/src/BaseTable.js"],"names":["_extends","PropTypes","classNames","ColGroup","TableHeader","TableRow","ExpandableRow","mergeProps","getListeners","noop","BaseTable","name","props","fixed","oneOfType","string","bool","columns","array","isRequired","tableClassName","hasHead","hasBody","expander","object","getRowKey","func","isAnyColumnsFixed","inject","table","_default","store","from","methods","getColumns","cols","_$props","$props","_$props$columns","undefined","prefixCls","map","column","className","handleRowHover","isHover","key","currentHoverKey","renderRows","renderData","indent","_this","ancestorKeys","arguments","length","h","$createElement","_table","columnManager","components","sComponents","childrenColumnName","rowClassName","_table$customRow","customRow","_getListeners","_getListeners$rowClic","rowClick","onRowClick","_getListeners$rowDoub","rowDoubleclick","onRowDoubleClick","_getListeners$rowCont","rowContextmenu","onRowContextMenu","_getListeners$rowMous","rowMouseenter","onRowMouseEnter","_getListeners$rowMous2","rowMouseleave","onRowMouseLeave","rows","_loop","i","record","onHoverProps","hover","leafColumns","leftLeafColumns","rightLeafColumns","rowPrefixCls","expandableRowProps","index","rowKey","needIndentSpaced","on","expandedChange","handleExpandChange","scopedSlots","expandableRow","tableRowProps","ref","row","push","render","_table2","scroll","data","getBodyWrapper","_$props2","tableStyle","x","tableWidthScrollX","width","reduce","sum","_ref","w","parseFloat","Table","BodyWrapper","body","wrapper","style","attrs"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport classNames from 'classnames';\nimport ColGroup from './ColGroup';\nimport TableHeader from './TableHeader';\nimport TableRow from './TableRow';\nimport ExpandableRow from './ExpandableRow';\nimport { mergeProps, getListeners } from '../../_util/props-util';\nfunction noop() {}\nvar BaseTable = {\n  name: 'BaseTable',\n  props: {\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    hasHead: PropTypes.bool.isRequired,\n    hasBody: PropTypes.bool.isRequired,\n    expander: PropTypes.object.isRequired,\n    getRowKey: PropTypes.func,\n    isAnyColumnsFixed: PropTypes.bool\n  },\n  inject: {\n    table: { 'default': function _default() {\n        return {};\n      } },\n    store: { from: 'table-store', 'default': function _default() {\n        return {};\n      } }\n  },\n  methods: {\n    getColumns: function getColumns(cols) {\n      var _$props = this.$props,\n          _$props$columns = _$props.columns,\n          columns = _$props$columns === undefined ? [] : _$props$columns,\n          fixed = _$props.fixed;\n      var table = this.table;\n      var prefixCls = table.$props.prefixCls;\n\n      return (cols || columns).map(function (column) {\n        return _extends({}, column, {\n          className: !!column.fixed && !fixed ? classNames(prefixCls + '-fixed-columns-in-body', column.className || column['class']) : column.className || column['class']\n        });\n      });\n    },\n    handleRowHover: function handleRowHover(isHover, key) {\n      this.store.currentHoverKey = isHover ? key : null;\n    },\n    renderRows: function renderRows(renderData, indent) {\n      var _this = this;\n\n      var ancestorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var h = this.$createElement;\n      var _table = this.table,\n          columnManager = _table.columnManager,\n          components = _table.sComponents,\n          prefixCls = _table.prefixCls,\n          childrenColumnName = _table.childrenColumnName,\n          rowClassName = _table.rowClassName,\n          _table$customRow = _table.customRow,\n          customRow = _table$customRow === undefined ? noop : _table$customRow;\n\n      var _getListeners = getListeners(this.table),\n          _getListeners$rowClic = _getListeners.rowClick,\n          onRowClick = _getListeners$rowClic === undefined ? noop : _getListeners$rowClic,\n          _getListeners$rowDoub = _getListeners.rowDoubleclick,\n          onRowDoubleClick = _getListeners$rowDoub === undefined ? noop : _getListeners$rowDoub,\n          _getListeners$rowCont = _getListeners.rowContextmenu,\n          onRowContextMenu = _getListeners$rowCont === undefined ? noop : _getListeners$rowCont,\n          _getListeners$rowMous = _getListeners.rowMouseenter,\n          onRowMouseEnter = _getListeners$rowMous === undefined ? noop : _getListeners$rowMous,\n          _getListeners$rowMous2 = _getListeners.rowMouseleave,\n          onRowMouseLeave = _getListeners$rowMous2 === undefined ? noop : _getListeners$rowMous2;\n\n      var getRowKey = this.getRowKey,\n          fixed = this.fixed,\n          expander = this.expander,\n          isAnyColumnsFixed = this.isAnyColumnsFixed;\n\n\n      var rows = [];\n\n      var _loop = function _loop(i) {\n        var record = renderData[i];\n        var key = getRowKey(record, i);\n        var className = typeof rowClassName === 'string' ? rowClassName : rowClassName(record, i, indent);\n\n        var onHoverProps = {};\n        if (columnManager.isAnyColumnsFixed()) {\n          onHoverProps.hover = _this.handleRowHover;\n        }\n\n        var leafColumns = void 0;\n        if (fixed === 'left') {\n          leafColumns = columnManager.leftLeafColumns();\n        } else if (fixed === 'right') {\n          leafColumns = columnManager.rightLeafColumns();\n        } else {\n          leafColumns = _this.getColumns(columnManager.leafColumns());\n        }\n\n        var rowPrefixCls = prefixCls + '-row';\n\n        var expandableRowProps = {\n          props: _extends({}, expander.props, {\n            fixed: fixed,\n            index: i,\n            prefixCls: rowPrefixCls,\n            record: record,\n            rowKey: key,\n            needIndentSpaced: expander.needIndentSpaced\n          }),\n          key: key,\n          on: {\n            // ...expander.on,\n            rowClick: onRowClick,\n            expandedChange: expander.handleExpandChange\n          },\n          scopedSlots: {\n            'default': function _default(expandableRow) {\n              var tableRowProps = mergeProps({\n                props: {\n                  fixed: fixed,\n                  indent: indent,\n                  record: record,\n                  index: i,\n                  prefixCls: rowPrefixCls,\n                  childrenColumnName: childrenColumnName,\n                  columns: leafColumns,\n                  rowKey: key,\n                  ancestorKeys: ancestorKeys,\n                  components: components,\n                  isAnyColumnsFixed: isAnyColumnsFixed,\n                  customRow: customRow\n                },\n                on: _extends({\n                  rowDoubleclick: onRowDoubleClick,\n                  rowContextmenu: onRowContextMenu,\n                  rowMouseenter: onRowMouseEnter,\n                  rowMouseleave: onRowMouseLeave\n                }, onHoverProps),\n                'class': className,\n                ref: 'row_' + i + '_' + indent\n              }, expandableRow);\n              return h(TableRow, tableRowProps);\n            }\n          }\n        };\n        var row = h(ExpandableRow, expandableRowProps);\n\n        rows.push(row);\n        expander.renderRows(_this.renderRows, rows, record, i, indent, fixed, key, ancestorKeys);\n      };\n\n      for (var i = 0; i < renderData.length; i += 1) {\n        _loop(i);\n      }\n      return rows;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var _table2 = this.table,\n        components = _table2.sComponents,\n        prefixCls = _table2.prefixCls,\n        scroll = _table2.scroll,\n        data = _table2.data,\n        getBodyWrapper = _table2.getBodyWrapper;\n    var _$props2 = this.$props,\n        expander = _$props2.expander,\n        tableClassName = _$props2.tableClassName,\n        hasHead = _$props2.hasHead,\n        hasBody = _$props2.hasBody,\n        fixed = _$props2.fixed,\n        isAnyColumnsFixed = _$props2.isAnyColumnsFixed;\n\n    var columns = this.getColumns();\n    var tableStyle = {};\n\n    if (!fixed && scroll.x) {\n      // 当有固定列时，width auto 会导致 body table 的宽度撑不开，从而固定列无法对齐\n      // 详情见：https://github.com/ant-design/ant-design/issues/22160\n      var tableWidthScrollX = isAnyColumnsFixed ? 'max-content' : 'auto';\n      // not set width, then use content fixed width\n      tableStyle.width = scroll.x === true ? tableWidthScrollX : scroll.x;\n      tableStyle.width = typeof tableStyle.width === 'number' ? tableStyle.width + 'px' : tableStyle.width;\n    }\n    if (fixed) {\n      var width = columns.reduce(function (sum, _ref) {\n        var w = _ref.width;\n\n        return sum + parseFloat(w, 10);\n      }, 0);\n      if (width > 0) {\n        tableStyle.width = width + 'px';\n      }\n    }\n\n    var Table = hasBody ? components.table : 'table';\n    var BodyWrapper = components.body.wrapper;\n\n    var body = void 0;\n    if (hasBody) {\n      body = h(\n        BodyWrapper,\n        { 'class': prefixCls + '-tbody' },\n        [this.renderRows(data, 0)]\n      );\n      if (getBodyWrapper) {\n        body = getBodyWrapper(body);\n      }\n    }\n    return h(\n      Table,\n      { 'class': tableClassName, style: tableStyle, key: 'table' },\n      [h(ColGroup, {\n        attrs: { columns: columns, fixed: fixed }\n      }), hasHead && h(TableHeader, {\n        attrs: { expander: expander, columns: columns, fixed: fixed }\n      }), body]\n    );\n  }\n};\n\nexport default BaseTable;"]},"metadata":{},"sourceType":"module"}