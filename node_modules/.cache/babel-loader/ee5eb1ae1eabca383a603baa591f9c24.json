{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _slicedToArray from 'babel-runtime/helpers/slicedToArray';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, mergeProps, getComponentFromProp, getListeners } from '../../_util/props-util';\nimport moment from 'moment';\nimport KeyCode from '../../_util/KeyCode';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport enUs from './locale/en_US';\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\n\nfunction noop() {}\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\n    return !i;\n  }));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n\n  if (a.length !== b.length) return false;\n\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  var _selectedValue = _slicedToArray(selectedValue, 2),\n      start = _selectedValue[0],\n      end = _selectedValue[1];\n\n  if (end && (start === undefined || start === null)) {\n    start = end.clone().subtract(1, 'month');\n  }\n\n  if (start && (end === undefined || end === null)) {\n    end = start.clone().add(1, 'month');\n  }\n\n  return [start, end];\n}\n\nfunction normalizeAnchor(props, init) {\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  var value = props.value || init && props.defaultValue;\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\n\n  for (var value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n\n  return arr;\n}\n\nfunction onInputSelect(direction, value, cause) {\n  if (!value) {\n    return;\n  }\n\n  var originalValue = this.sSelectedValue;\n  var selectedValue = originalValue.concat();\n  var index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\n  }\n\n  this.__emit('inputSelect', selectedValue);\n\n  this.fireSelectValueChange(selectedValue, null, cause || {\n    source: 'dateInput'\n  });\n}\n\nvar RangeCalendar = {\n  props: {\n    locale: PropTypes.object.def(enUs),\n    visible: PropTypes.bool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    dateInputPlaceholder: PropTypes.any,\n    seperator: PropTypes.string.def('~'),\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.bool.def(true),\n    timePicker: PropTypes.any,\n    showOk: PropTypes.bool,\n    showToday: PropTypes.bool.def(true),\n    defaultSelectedValue: PropTypes.array.def([]),\n    selectedValue: PropTypes.array,\n    showClear: PropTypes.bool,\n    showWeekNumber: PropTypes.bool,\n    // locale: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onSelect: PropTypes.func,\n    // onValueChange: PropTypes.func,\n    // onHoverChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    // onClear: PropTypes.func,\n    type: PropTypes.any.def('both'),\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func.def(noop),\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    dateRender: PropTypes.func,\n    clearIcon: PropTypes.any,\n    inputReadOnly: PropTypes.bool\n  },\n  mixins: [BaseMixin, CommonMixin],\n  data: function data() {\n    var props = this.$props;\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\n    var value = normalizeAnchor(props, 1);\n    return {\n      sSelectedValue: selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      sHoverValue: props.hoverValue || [],\n      sValue: value,\n      sShowTimePicker: false,\n      sMode: props.mode || ['date', 'date'],\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\n\n    };\n  },\n  watch: {\n    value: function value() {\n      var newState = {};\n      newState.sValue = normalizeAnchor(this.$props, 0);\n      this.setState(newState);\n    },\n    hoverValue: function hoverValue(val) {\n      if (!isArraysEqual(this.sHoverValue, val)) {\n        this.setState({\n          sHoverValue: val\n        });\n      }\n    },\n    selectedValue: function selectedValue(val) {\n      var newState = {};\n      newState.sSelectedValue = val;\n      newState.prevSelectedValue = val;\n      this.setState(newState);\n    },\n    mode: function mode(val) {\n      if (!isArraysEqual(this.sMode, val)) {\n        this.setState({\n          sMode: val\n        });\n      }\n    }\n  },\n  methods: {\n    onDatePanelEnter: function onDatePanelEnter() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange(this.sSelectedValue.concat());\n      }\n    },\n    onDatePanelLeave: function onDatePanelLeave() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange([]);\n      }\n    },\n    onSelect: function onSelect(value) {\n      var type = this.type,\n          sSelectedValue = this.sSelectedValue,\n          prevSelectedValue = this.prevSelectedValue,\n          firstSelectedValue = this.firstSelectedValue;\n      var nextSelectedValue = void 0;\n\n      if (type === 'both') {\n        if (!firstSelectedValue) {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        } else if (this.compare(firstSelectedValue, value) < 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [firstSelectedValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          syncTime(prevSelectedValue[1], firstSelectedValue);\n          nextSelectedValue = [value, firstSelectedValue];\n        }\n      } else if (type === 'start') {\n        syncTime(prevSelectedValue[0], value);\n        var endValue = sSelectedValue[1];\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\n      } else {\n        // type === 'end'\n        var startValue = sSelectedValue[0];\n\n        if (startValue && this.compare(startValue, value) <= 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [startValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        }\n      }\n\n      this.fireSelectValueChange(nextSelectedValue);\n    },\n    onKeyDown: function onKeyDown(event) {\n      var _this = this;\n\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var _$data = this.$data,\n          selectedValue = _$data.sSelectedValue,\n          hoverValue = _$data.sHoverValue,\n          firstSelectedValue = _$data.firstSelectedValue,\n          value = _$data.sValue;\n      var disabledDate = this.$props.disabledDate; // Update last time of the picker\n\n      var updateHoverPoint = function updateHoverPoint(func) {\n        // Change hover to make focus in UI\n        var currentHoverTime = void 0;\n        var nextHoverTime = void 0;\n        var nextHoverValue = void 0;\n\n        if (!firstSelectedValue) {\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\n          nextHoverTime = func(currentHoverTime);\n          nextHoverValue = [nextHoverTime];\n\n          _this.fireHoverValueChange(nextHoverValue);\n        } else {\n          if (hoverValue.length === 1) {\n            currentHoverTime = hoverValue[0].clone();\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          } else {\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          }\n        } // Find origin hover time on value index\n\n\n        if (nextHoverValue.length >= 2) {\n          var miss = nextHoverValue.some(function (ht) {\n            return !includesTime(value, ht, 'month');\n          });\n\n          if (miss) {\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\n              return t1.valueOf() - t2.valueOf();\n            });\n\n            if (newValue[0].isSame(newValue[1], 'month')) {\n              newValue[1] = newValue[0].clone().add(1, 'month');\n            }\n\n            _this.fireValueChange(newValue);\n          }\n        } else if (nextHoverValue.length === 1) {\n          // If only one value, let's keep the origin panel\n          var oriValueIndex = value.findIndex(function (time) {\n            return time.isSame(currentHoverTime, 'month');\n          });\n          if (oriValueIndex === -1) oriValueIndex = 0;\n\n          if (value.every(function (time) {\n            return !time.isSame(nextHoverTime, 'month');\n          })) {\n            var _newValue = value.slice();\n\n            _newValue[oriValueIndex] = nextHoverTime.clone();\n\n            _this.fireValueChange(_newValue);\n          }\n        }\n\n        event.preventDefault();\n        return nextHoverTime;\n      };\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'weeks');\n          });\n          return;\n\n        case KeyCode.UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'weeks');\n          });\n          return;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.HOME:\n          updateHoverPoint(function (time) {\n            return goStartMonth(time);\n          });\n          return;\n\n        case KeyCode.END:\n          updateHoverPoint(function (time) {\n            return goEndMonth(time);\n          });\n          return;\n\n        case KeyCode.PAGE_DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'month');\n          });\n          return;\n\n        case KeyCode.PAGE_UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'month');\n          });\n          return;\n\n        case KeyCode.ENTER:\n          {\n            var lastValue = void 0;\n\n            if (hoverValue.length === 0) {\n              lastValue = updateHoverPoint(function (time) {\n                return time;\n              });\n            } else if (hoverValue.length === 1) {\n              lastValue = hoverValue[0];\n            } else {\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            }\n\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\n              this.onSelect(lastValue);\n            }\n\n            event.preventDefault();\n            return;\n          }\n\n        default:\n          this.__emit('keydown', event);\n\n      }\n    },\n    onDayHover: function onDayHover(value) {\n      var hoverValue = [];\n      var sSelectedValue = this.sSelectedValue,\n          firstSelectedValue = this.firstSelectedValue,\n          type = this.type;\n\n      if (type === 'start' && sSelectedValue[1]) {\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\n      } else if (type === 'end' && sSelectedValue[0]) {\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\n      } else {\n        if (!firstSelectedValue) {\n          if (this.sHoverValue.length) {\n            this.setState({\n              sHoverValue: []\n            });\n          }\n\n          return hoverValue;\n        }\n\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\n      }\n\n      this.fireHoverValueChange(hoverValue);\n      return hoverValue;\n    },\n    onToday: function onToday() {\n      var startValue = getTodayTime(this.sValue[0]);\n      var endValue = startValue.clone().add(1, 'months');\n      this.setState({\n        sValue: [startValue, endValue]\n      });\n    },\n    onOpenTimePicker: function onOpenTimePicker() {\n      this.setState({\n        sShowTimePicker: true\n      });\n    },\n    onCloseTimePicker: function onCloseTimePicker() {\n      this.setState({\n        sShowTimePicker: false\n      });\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onStartInputChange: function onStartInputChange() {\n      for (var _len = arguments.length, oargs = Array(_len), _key = 0; _key < _len; _key++) {\n        oargs[_key] = arguments[_key];\n      }\n\n      var args = ['left'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputChange: function onEndInputChange() {\n      for (var _len2 = arguments.length, oargs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        oargs[_key2] = arguments[_key2];\n      }\n\n      var args = ['right'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onStartInputSelect: function onStartInputSelect(value) {\n      var args = ['left', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputSelect: function onEndInputSelect(value) {\n      var args = ['right', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onStartValueChange: function onStartValueChange(leftValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[0] = leftValue;\n      return this.fireValueChange(value);\n    },\n    onEndValueChange: function onEndValueChange(rightValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[1] = rightValue;\n      return this.fireValueChange(value);\n    },\n    onStartPanelChange: function onStartPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [mode, sMode[1]];\n      var newValue = [value || sValue[0], sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'start'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    onEndPanelChange: function onEndPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [sMode[0], mode];\n      var newValue = [sValue[0], value || sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'end'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    getStartValue: function getStartValue() {\n      var _$data2 = this.$data,\n          selectedValue = _$data2.sSelectedValue,\n          showTimePicker = _$data2.sShowTimePicker,\n          value = _$data2.sValue,\n          mode = _$data2.sMode,\n          panelTriggerSource = _$data2.sPanelTriggerSource;\n      var startValue = value[0]; // keep selectedTime when select date\n\n      if (selectedValue[0] && this.$props.timePicker) {\n        startValue = startValue.clone();\n        syncTime(selectedValue[0], startValue);\n      }\n\n      if (showTimePicker && selectedValue[0]) {\n        startValue = selectedValue[0];\n      } // Adjust month if date not align\n\n\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\n        startValue = startValue.clone().subtract(1, 'month');\n      }\n\n      return startValue;\n    },\n    getEndValue: function getEndValue() {\n      var _$data3 = this.$data,\n          selectedValue = _$data3.sSelectedValue,\n          showTimePicker = _$data3.sShowTimePicker,\n          value = _$data3.sValue,\n          mode = _$data3.sMode,\n          panelTriggerSource = _$data3.sPanelTriggerSource;\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month'); // keep selectedTime when select date\n\n      if (selectedValue[1] && this.$props.timePicker) {\n        syncTime(selectedValue[1], endValue);\n      }\n\n      if (showTimePicker) {\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\n      } // Adjust month if date not align\n\n\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\n        endValue = endValue.clone().add(1, 'month');\n      }\n\n      return endValue;\n    },\n    // get disabled hours for second picker\n    getEndDisableTime: function getEndDisableTime() {\n      var sSelectedValue = this.sSelectedValue,\n          sValue = this.sValue,\n          disabledTime = this.disabledTime;\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone(); // if startTime and endTime is same day..\n      // the second time picker will not able to pick time before first time picker\n\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\n        var hours = startValue.hour();\n        var minutes = startValue.minute();\n        var second = startValue.second();\n        var _disabledHours = userSettingDisabledTime.disabledHours,\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\n        _disabledHours = generateOptions(hours, _disabledHours);\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\n        return {\n          disabledHours: function disabledHours() {\n            return _disabledHours;\n          },\n          disabledMinutes: function disabledMinutes(hour) {\n            if (hour === hours) {\n              return _disabledMinutes;\n            }\n\n            return oldDisabledMinutes;\n          },\n          disabledSeconds: function disabledSeconds(hour, minute) {\n            if (hour === hours && minute === minutes) {\n              return _disabledSeconds;\n            }\n\n            return olddisabledSeconds;\n          }\n        };\n      }\n\n      return userSettingDisabledTime;\n    },\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\n    },\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\n    },\n    hasSelectedValue: function hasSelectedValue() {\n      var sSelectedValue = this.sSelectedValue;\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\n    },\n    compare: function compare(v1, v2) {\n      if (this.timePicker) {\n        return v1.diff(v2);\n      }\n\n      return v1.diff(v2, 'days');\n    },\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\n      var timePicker = this.timePicker,\n          prevSelectedValue = this.prevSelectedValue;\n\n      if (timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n\n        if (timePickerProps.defaultValue) {\n          var timePickerDefaultValue = timePickerProps.defaultValue;\n\n          if (!prevSelectedValue[0] && selectedValue[0]) {\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\n          }\n\n          if (!prevSelectedValue[1] && selectedValue[1]) {\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\n          }\n        }\n      } // 尚未选择过时间，直接输入的话\n\n\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\n        var startValue = selectedValue[0] || moment();\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n        this.setState({\n          sSelectedValue: selectedValue,\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\n        });\n      }\n\n      if (selectedValue[0] && !selectedValue[1]) {\n        this.setState({\n          firstSelectedValue: selectedValue[0]\n        });\n        this.fireHoverValueChange(selectedValue.concat());\n      }\n\n      this.__emit('change', selectedValue);\n\n      if (direct || selectedValue[0] && selectedValue[1]) {\n        this.setState({\n          prevSelectedValue: selectedValue,\n          firstSelectedValue: null\n        });\n        this.fireHoverValueChange([]);\n\n        this.__emit('select', selectedValue, cause);\n      }\n\n      if (!hasProp(this, 'selectedValue')) {\n        this.setState({\n          sSelectedValue: selectedValue\n        });\n      }\n    },\n    fireValueChange: function fireValueChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: value\n        });\n      }\n\n      this.__emit('valueChange', value);\n    },\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\n      if (!hasProp(this, 'hoverValue')) {\n        this.setState({\n          sHoverValue: hoverValue\n        });\n      }\n\n      this.__emit('hoverChange', hoverValue);\n    },\n    clear: function clear() {\n      this.fireSelectValueChange([], true);\n\n      this.__emit('clear');\n    },\n    disabledStartTime: function disabledStartTime(time) {\n      return this.disabledTime(time, 'start');\n    },\n    disabledEndTime: function disabledEndTime(time) {\n      return this.disabledTime(time, 'end');\n    },\n    disabledStartMonth: function disabledStartMonth(month) {\n      var sValue = this.sValue;\n      return month.isAfter(sValue[1], 'month');\n    },\n    disabledEndMonth: function disabledEndMonth(month) {\n      var sValue = this.sValue;\n      return month.isBefore(sValue[0], 'month');\n    }\n  },\n  render: function render() {\n    var _className, _cls;\n\n    var h = arguments[0];\n    var props = getOptionProps(this);\n    var prefixCls = props.prefixCls,\n        dateInputPlaceholder = props.dateInputPlaceholder,\n        timePicker = props.timePicker,\n        showOk = props.showOk,\n        locale = props.locale,\n        showClear = props.showClear,\n        showToday = props.showToday,\n        type = props.type,\n        seperator = props.seperator;\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var sHoverValue = this.sHoverValue,\n        sSelectedValue = this.sSelectedValue,\n        mode = this.sMode,\n        sShowTimePicker = this.sShowTimePicker,\n        sValue = this.sValue;\n    var className = (_className = {}, _defineProperty(_className, prefixCls, 1), _defineProperty(_className, prefixCls + '-hidden', !props.visible), _defineProperty(_className, prefixCls + '-range', 1), _defineProperty(_className, prefixCls + '-show-time-picker', sShowTimePicker), _defineProperty(_className, prefixCls + '-week-number', props.showWeekNumber), _className);\n    var baseProps = {\n      props: props,\n      on: getListeners(this)\n    };\n    var newProps = {\n      props: {\n        selectedValue: sSelectedValue\n      },\n      on: {\n        select: this.onSelect,\n        dayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\n      }\n    };\n    var placeholder1 = void 0;\n    var placeholder2 = void 0;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\n\n        placeholder1 = _dateInputPlaceholder[0];\n        placeholder2 = _dateInputPlaceholder[1];\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-footer', true), _defineProperty(_cls, prefixCls + '-range-bottom', true), _defineProperty(_cls, prefixCls + '-footer-show-ok', showOkButton), _cls);\n    var startValue = this.getStartValue();\n    var endValue = this.getEndValue();\n    var todayTime = getTodayTime(startValue);\n    var thisMonth = todayTime.month();\n    var thisYear = todayTime.year();\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\n    var leftPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'left',\n        disabledTime: this.disabledStartTime,\n        disabledMonth: this.disabledStartMonth,\n        format: this.getFormat(),\n        value: startValue,\n        mode: mode[0],\n        placeholder: placeholder1,\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[0] === 'time',\n        enablePrev: true,\n        enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onStartInputChange,\n        inputSelect: this.onStartInputSelect,\n        valueChange: this.onStartValueChange,\n        panelChange: this.onStartPanelChange\n      }\n    });\n    var rightPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'right',\n        format: this.getFormat(),\n        timePickerDisabledTime: this.getEndDisableTime(),\n        placeholder: placeholder2,\n        value: endValue,\n        mode: mode[1],\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[1] === 'time',\n        disabledTime: this.disabledEndTime,\n        disabledMonth: this.disabledEndMonth,\n        enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\n        enableNext: true,\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onEndInputChange,\n        inputSelect: this.onEndInputSelect,\n        valueChange: this.onEndValueChange,\n        panelChange: this.onEndPanelChange\n      }\n    });\n    var TodayButtonNode = null;\n\n    if (showToday) {\n      var todayButtonProps = mergeProps(baseProps, {\n        props: {\n          disabled: isTodayInView,\n          value: sValue[0],\n          text: locale.backToToday\n        },\n        on: {\n          today: this.onToday\n        }\n      });\n      TodayButtonNode = h(TodayButton, _mergeJSXProps([{\n        key: 'todayButton'\n      }, todayButtonProps]));\n    }\n\n    var TimePickerButtonNode = null;\n\n    if (props.timePicker) {\n      var timePickerButtonProps = mergeProps(baseProps, {\n        props: {\n          showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\n          timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          openTimePicker: this.onOpenTimePicker,\n          closeTimePicker: this.onCloseTimePicker\n        }\n      });\n      TimePickerButtonNode = h(TimePickerButton, _mergeJSXProps([{\n        key: 'timePickerButton'\n      }, timePickerButtonProps]));\n    }\n\n    var OkButtonNode = null;\n\n    if (showOkButton) {\n      var okButtonProps = mergeProps(baseProps, {\n        props: {\n          okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          ok: this.onOk\n        }\n      });\n      OkButtonNode = h(OkButton, _mergeJSXProps([{\n        key: 'okButtonNode'\n      }, okButtonProps]));\n    }\n\n    var extraFooter = this.renderFooter(mode);\n    return h('div', {\n      ref: 'rootInstance',\n      'class': className,\n      attrs: {\n        tabIndex: '0'\n      },\n      on: {\n        'keydown': this.onKeyDown\n      }\n    }, [props.renderSidebar(), h('div', {\n      'class': prefixCls + '-panel'\n    }, [showClear && sSelectedValue[0] && sSelectedValue[1] ? h('a', {\n      attrs: {\n        role: 'button',\n        title: locale.clear\n      },\n      on: {\n        'click': this.clear\n      }\n    }, [clearIcon || h('span', {\n      'class': prefixCls + '-clear-btn'\n    })]) : null, h('div', {\n      'class': prefixCls + '-date-panel',\n      on: {\n        'mouseleave': type !== 'both' ? this.onDatePanelLeave : noop,\n        'mouseenter': type !== 'both' ? this.onDatePanelEnter : noop\n      }\n    }, [h(CalendarPart, leftPartProps), h('span', {\n      'class': prefixCls + '-range-middle'\n    }, [seperator]), h(CalendarPart, rightPartProps)]), h('div', {\n      'class': cls\n    }, [showToday || props.timePicker || showOkButton || extraFooter ? h('div', {\n      'class': prefixCls + '-footer-btn'\n    }, [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]) : null])])]);\n  }\n};\nexport default RangeCalendar;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-calendar/src/RangeCalendar.js"],"names":["_mergeJSXProps","_defineProperty","_toConsumableArray","_slicedToArray","PropTypes","BaseMixin","getOptionProps","hasProp","mergeProps","getComponentFromProp","getListeners","moment","KeyCode","CalendarPart","TodayButton","OkButton","TimePickerButton","CommonMixin","enUs","syncTime","getTodayTime","isAllowedDate","goTime","goStartMonth","goEndMonth","includesTime","noop","isEmptyArray","arr","Array","isArray","length","every","i","isArraysEqual","a","b","getValueFromSelectedValue","selectedValue","_selectedValue","start","end","undefined","clone","subtract","add","normalizeAnchor","props","init","defaultSelectedValue","value","defaultValue","normalizedValue","generateOptions","extraOptionGen","concat","indexOf","push","onInputSelect","direction","cause","originalValue","sSelectedValue","index","compare","sShowTimePicker","__emit","fireSelectValueChange","source","RangeCalendar","locale","object","def","visible","bool","prefixCls","string","dateInputPlaceholder","any","seperator","hoverValue","mode","arrayOf","oneOf","showDateInput","timePicker","showOk","showToday","array","showClear","showWeekNumber","format","oneOfType","func","type","disabledDate","disabledTime","renderFooter","renderSidebar","dateRender","clearIcon","inputReadOnly","mixins","data","$props","prevSelectedValue","firstSelectedValue","sHoverValue","sValue","sMode","sPanelTriggerSource","watch","newState","setState","val","methods","onDatePanelEnter","hasSelectedValue","fireHoverValueChange","onDatePanelLeave","onSelect","nextSelectedValue","endValue","startValue","onKeyDown","event","_this","target","nodeName","toLowerCase","keyCode","ctrlKey","metaKey","_$data","$data","updateHoverPoint","currentHoverTime","nextHoverTime","nextHoverValue","onDayHover","isSame","miss","some","ht","newValue","slice","sort","t1","t2","valueOf","fireValueChange","oriValueIndex","findIndex","time","_newValue","preventDefault","DOWN","UP","LEFT","RIGHT","HOME","END","PAGE_DOWN","PAGE_UP","ENTER","lastValue","onToday","onOpenTimePicker","onCloseTimePicker","onOk","isAllowedDateAndTime","onStartInputChange","_len","arguments","oargs","_key","args","apply","onEndInputChange","_len2","_key2","onStartInputSelect","onEndInputSelect","onStartValueChange","leftValue","onEndValueChange","rightValue","onStartPanelChange","newMode","onEndPanelChange","getStartValue","_$data2","showTimePicker","panelTriggerSource","getEndValue","_$data3","getEndDisableTime","userSettingDisabledTime","hours","hour","minutes","minute","second","_disabledHours","disabledHours","_disabledMinutes","disabledMinutes","_disabledSeconds","disabledSeconds","oldDisabledMinutes","olddisabledSeconds","disabledStartTime","disabledEndTime","isMonthYearPanelShow","v1","v2","diff","direct","timePickerProps","timePickerDefaultValue","clear","disabledStartMonth","month","isAfter","disabledEndMonth","isBefore","render","_className","_cls","h","className","baseProps","on","newProps","select","dayHover","placeholder1","placeholder2","_dateInputPlaceholder","showOkButton","cls","todayTime","thisMonth","thisYear","year","isTodayInView","nextMonthOfStart","isClosestMonths","leftPartProps","disabledMonth","getFormat","placeholder","enablePrev","enableNext","inputChange","inputSelect","valueChange","panelChange","rightPartProps","timePickerDisabledTime","TodayButtonNode","todayButtonProps","disabled","text","backToToday","today","key","TimePickerButtonNode","timePickerButtonProps","timePickerDisabled","openTimePicker","closeTimePicker","OkButtonNode","okButtonProps","okDisabled","ok","extraFooter","ref","attrs","tabIndex","role","title"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _slicedToArray from 'babel-runtime/helpers/slicedToArray';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, mergeProps, getComponentFromProp, getListeners } from '../../_util/props-util';\nimport moment from 'moment';\nimport KeyCode from '../../_util/KeyCode';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport enUs from './locale/en_US';\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\n\nfunction noop() {}\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\n    return !i;\n  }));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n  if (a.length !== b.length) return false;\n\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  var _selectedValue = _slicedToArray(selectedValue, 2),\n      start = _selectedValue[0],\n      end = _selectedValue[1];\n\n  if (end && (start === undefined || start === null)) {\n    start = end.clone().subtract(1, 'month');\n  }\n\n  if (start && (end === undefined || end === null)) {\n    end = start.clone().add(1, 'month');\n  }\n  return [start, end];\n}\n\nfunction normalizeAnchor(props, init) {\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  var value = props.value || init && props.defaultValue;\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\n  for (var value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n  return arr;\n}\n\nfunction onInputSelect(direction, value, cause) {\n  if (!value) {\n    return;\n  }\n  var originalValue = this.sSelectedValue;\n  var selectedValue = originalValue.concat();\n  var index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\n  }\n  this.__emit('inputSelect', selectedValue);\n  this.fireSelectValueChange(selectedValue, null, cause || { source: 'dateInput' });\n}\n\nvar RangeCalendar = {\n  props: {\n    locale: PropTypes.object.def(enUs),\n    visible: PropTypes.bool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    dateInputPlaceholder: PropTypes.any,\n    seperator: PropTypes.string.def('~'),\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.bool.def(true),\n    timePicker: PropTypes.any,\n    showOk: PropTypes.bool,\n    showToday: PropTypes.bool.def(true),\n    defaultSelectedValue: PropTypes.array.def([]),\n    selectedValue: PropTypes.array,\n    showClear: PropTypes.bool,\n    showWeekNumber: PropTypes.bool,\n    // locale: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onSelect: PropTypes.func,\n    // onValueChange: PropTypes.func,\n    // onHoverChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    // onClear: PropTypes.func,\n    type: PropTypes.any.def('both'),\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func.def(noop),\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    dateRender: PropTypes.func,\n    clearIcon: PropTypes.any,\n    inputReadOnly: PropTypes.bool\n  },\n\n  mixins: [BaseMixin, CommonMixin],\n\n  data: function data() {\n    var props = this.$props;\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\n    var value = normalizeAnchor(props, 1);\n    return {\n      sSelectedValue: selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      sHoverValue: props.hoverValue || [],\n      sValue: value,\n      sShowTimePicker: false,\n      sMode: props.mode || ['date', 'date'],\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\n    };\n  },\n\n  watch: {\n    value: function value() {\n      var newState = {};\n      newState.sValue = normalizeAnchor(this.$props, 0);\n      this.setState(newState);\n    },\n    hoverValue: function hoverValue(val) {\n      if (!isArraysEqual(this.sHoverValue, val)) {\n        this.setState({ sHoverValue: val });\n      }\n    },\n    selectedValue: function selectedValue(val) {\n      var newState = {};\n      newState.sSelectedValue = val;\n      newState.prevSelectedValue = val;\n      this.setState(newState);\n    },\n    mode: function mode(val) {\n      if (!isArraysEqual(this.sMode, val)) {\n        this.setState({ sMode: val });\n      }\n    }\n  },\n\n  methods: {\n    onDatePanelEnter: function onDatePanelEnter() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange(this.sSelectedValue.concat());\n      }\n    },\n    onDatePanelLeave: function onDatePanelLeave() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange([]);\n      }\n    },\n    onSelect: function onSelect(value) {\n      var type = this.type,\n          sSelectedValue = this.sSelectedValue,\n          prevSelectedValue = this.prevSelectedValue,\n          firstSelectedValue = this.firstSelectedValue;\n\n      var nextSelectedValue = void 0;\n      if (type === 'both') {\n        if (!firstSelectedValue) {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        } else if (this.compare(firstSelectedValue, value) < 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [firstSelectedValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          syncTime(prevSelectedValue[1], firstSelectedValue);\n          nextSelectedValue = [value, firstSelectedValue];\n        }\n      } else if (type === 'start') {\n        syncTime(prevSelectedValue[0], value);\n        var endValue = sSelectedValue[1];\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\n      } else {\n        // type === 'end'\n        var startValue = sSelectedValue[0];\n        if (startValue && this.compare(startValue, value) <= 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [startValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        }\n      }\n\n      this.fireSelectValueChange(nextSelectedValue);\n    },\n    onKeyDown: function onKeyDown(event) {\n      var _this = this;\n\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      var ctrlKey = event.ctrlKey || event.metaKey;\n\n      var _$data = this.$data,\n          selectedValue = _$data.sSelectedValue,\n          hoverValue = _$data.sHoverValue,\n          firstSelectedValue = _$data.firstSelectedValue,\n          value = _$data.sValue;\n      var disabledDate = this.$props.disabledDate;\n\n      // Update last time of the picker\n\n      var updateHoverPoint = function updateHoverPoint(func) {\n        // Change hover to make focus in UI\n        var currentHoverTime = void 0;\n        var nextHoverTime = void 0;\n        var nextHoverValue = void 0;\n\n        if (!firstSelectedValue) {\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\n          nextHoverTime = func(currentHoverTime);\n          nextHoverValue = [nextHoverTime];\n          _this.fireHoverValueChange(nextHoverValue);\n        } else {\n          if (hoverValue.length === 1) {\n            currentHoverTime = hoverValue[0].clone();\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          } else {\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          }\n        }\n\n        // Find origin hover time on value index\n        if (nextHoverValue.length >= 2) {\n          var miss = nextHoverValue.some(function (ht) {\n            return !includesTime(value, ht, 'month');\n          });\n          if (miss) {\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\n              return t1.valueOf() - t2.valueOf();\n            });\n            if (newValue[0].isSame(newValue[1], 'month')) {\n              newValue[1] = newValue[0].clone().add(1, 'month');\n            }\n            _this.fireValueChange(newValue);\n          }\n        } else if (nextHoverValue.length === 1) {\n          // If only one value, let's keep the origin panel\n          var oriValueIndex = value.findIndex(function (time) {\n            return time.isSame(currentHoverTime, 'month');\n          });\n          if (oriValueIndex === -1) oriValueIndex = 0;\n\n          if (value.every(function (time) {\n            return !time.isSame(nextHoverTime, 'month');\n          })) {\n            var _newValue = value.slice();\n            _newValue[oriValueIndex] = nextHoverTime.clone();\n            _this.fireValueChange(_newValue);\n          }\n        }\n\n        event.preventDefault();\n\n        return nextHoverTime;\n      };\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'weeks');\n          });\n          return;\n        case KeyCode.UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'weeks');\n          });\n          return;\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'days');\n            });\n          }\n          return;\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'days');\n            });\n          }\n          return;\n        case KeyCode.HOME:\n          updateHoverPoint(function (time) {\n            return goStartMonth(time);\n          });\n          return;\n        case KeyCode.END:\n          updateHoverPoint(function (time) {\n            return goEndMonth(time);\n          });\n          return;\n        case KeyCode.PAGE_DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'month');\n          });\n          return;\n        case KeyCode.PAGE_UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'month');\n          });\n          return;\n        case KeyCode.ENTER:\n          {\n            var lastValue = void 0;\n            if (hoverValue.length === 0) {\n              lastValue = updateHoverPoint(function (time) {\n                return time;\n              });\n            } else if (hoverValue.length === 1) {\n              lastValue = hoverValue[0];\n            } else {\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            }\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\n              this.onSelect(lastValue);\n            }\n            event.preventDefault();\n            return;\n          }\n        default:\n          this.__emit('keydown', event);\n      }\n    },\n    onDayHover: function onDayHover(value) {\n      var hoverValue = [];\n      var sSelectedValue = this.sSelectedValue,\n          firstSelectedValue = this.firstSelectedValue,\n          type = this.type;\n\n      if (type === 'start' && sSelectedValue[1]) {\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\n      } else if (type === 'end' && sSelectedValue[0]) {\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\n      } else {\n        if (!firstSelectedValue) {\n          if (this.sHoverValue.length) {\n            this.setState({ sHoverValue: [] });\n          }\n          return hoverValue;\n        }\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\n      }\n      this.fireHoverValueChange(hoverValue);\n      return hoverValue;\n    },\n    onToday: function onToday() {\n      var startValue = getTodayTime(this.sValue[0]);\n      var endValue = startValue.clone().add(1, 'months');\n      this.setState({ sValue: [startValue, endValue] });\n    },\n    onOpenTimePicker: function onOpenTimePicker() {\n      this.setState({\n        sShowTimePicker: true\n      });\n    },\n    onCloseTimePicker: function onCloseTimePicker() {\n      this.setState({\n        sShowTimePicker: false\n      });\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onStartInputChange: function onStartInputChange() {\n      for (var _len = arguments.length, oargs = Array(_len), _key = 0; _key < _len; _key++) {\n        oargs[_key] = arguments[_key];\n      }\n\n      var args = ['left'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputChange: function onEndInputChange() {\n      for (var _len2 = arguments.length, oargs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        oargs[_key2] = arguments[_key2];\n      }\n\n      var args = ['right'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onStartInputSelect: function onStartInputSelect(value) {\n      var args = ['left', value, { source: 'dateInputSelect' }];\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputSelect: function onEndInputSelect(value) {\n      var args = ['right', value, { source: 'dateInputSelect' }];\n      return onInputSelect.apply(this, args);\n    },\n    onStartValueChange: function onStartValueChange(leftValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[0] = leftValue;\n      return this.fireValueChange(value);\n    },\n    onEndValueChange: function onEndValueChange(rightValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[1] = rightValue;\n      return this.fireValueChange(value);\n    },\n    onStartPanelChange: function onStartPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n\n      var newMode = [mode, sMode[1]];\n      var newValue = [value || sValue[0], sValue[1]];\n      this.__emit('panelChange', newValue, newMode);\n      var newState = {\n        sPanelTriggerSource: 'start'\n      };\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n      this.setState(newState);\n    },\n    onEndPanelChange: function onEndPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n\n      var newMode = [sMode[0], mode];\n      var newValue = [sValue[0], value || sValue[1]];\n      this.__emit('panelChange', newValue, newMode);\n      var newState = {\n        sPanelTriggerSource: 'end'\n      };\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n      this.setState(newState);\n    },\n    getStartValue: function getStartValue() {\n      var _$data2 = this.$data,\n          selectedValue = _$data2.sSelectedValue,\n          showTimePicker = _$data2.sShowTimePicker,\n          value = _$data2.sValue,\n          mode = _$data2.sMode,\n          panelTriggerSource = _$data2.sPanelTriggerSource;\n\n      var startValue = value[0];\n      // keep selectedTime when select date\n      if (selectedValue[0] && this.$props.timePicker) {\n        startValue = startValue.clone();\n        syncTime(selectedValue[0], startValue);\n      }\n      if (showTimePicker && selectedValue[0]) {\n        startValue = selectedValue[0];\n      }\n\n      // Adjust month if date not align\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\n        startValue = startValue.clone().subtract(1, 'month');\n      }\n\n      return startValue;\n    },\n    getEndValue: function getEndValue() {\n      var _$data3 = this.$data,\n          selectedValue = _$data3.sSelectedValue,\n          showTimePicker = _$data3.sShowTimePicker,\n          value = _$data3.sValue,\n          mode = _$data3.sMode,\n          panelTriggerSource = _$data3.sPanelTriggerSource;\n\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month');\n      // keep selectedTime when select date\n      if (selectedValue[1] && this.$props.timePicker) {\n        syncTime(selectedValue[1], endValue);\n      }\n      if (showTimePicker) {\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\n      }\n\n      // Adjust month if date not align\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\n        endValue = endValue.clone().add(1, 'month');\n      }\n\n      return endValue;\n    },\n\n    // get disabled hours for second picker\n    getEndDisableTime: function getEndDisableTime() {\n      var sSelectedValue = this.sSelectedValue,\n          sValue = this.sValue,\n          disabledTime = this.disabledTime;\n\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone();\n      // if startTime and endTime is same day..\n      // the second time picker will not able to pick time before first time picker\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\n        var hours = startValue.hour();\n        var minutes = startValue.minute();\n        var second = startValue.second();\n        var _disabledHours = userSettingDisabledTime.disabledHours,\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\n\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\n        _disabledHours = generateOptions(hours, _disabledHours);\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\n        return {\n          disabledHours: function disabledHours() {\n            return _disabledHours;\n          },\n          disabledMinutes: function disabledMinutes(hour) {\n            if (hour === hours) {\n              return _disabledMinutes;\n            }\n            return oldDisabledMinutes;\n          },\n          disabledSeconds: function disabledSeconds(hour, minute) {\n            if (hour === hours && minute === minutes) {\n              return _disabledSeconds;\n            }\n            return olddisabledSeconds;\n          }\n        };\n      }\n      return userSettingDisabledTime;\n    },\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\n    },\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\n    },\n    hasSelectedValue: function hasSelectedValue() {\n      var sSelectedValue = this.sSelectedValue;\n\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\n    },\n    compare: function compare(v1, v2) {\n      if (this.timePicker) {\n        return v1.diff(v2);\n      }\n      return v1.diff(v2, 'days');\n    },\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\n      var timePicker = this.timePicker,\n          prevSelectedValue = this.prevSelectedValue;\n\n      if (timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n        if (timePickerProps.defaultValue) {\n          var timePickerDefaultValue = timePickerProps.defaultValue;\n          if (!prevSelectedValue[0] && selectedValue[0]) {\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\n          }\n          if (!prevSelectedValue[1] && selectedValue[1]) {\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\n          }\n        }\n      }\n      // 尚未选择过时间，直接输入的话\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\n        var startValue = selectedValue[0] || moment();\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n        this.setState({\n          sSelectedValue: selectedValue,\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\n        });\n      }\n\n      if (selectedValue[0] && !selectedValue[1]) {\n        this.setState({ firstSelectedValue: selectedValue[0] });\n        this.fireHoverValueChange(selectedValue.concat());\n      }\n      this.__emit('change', selectedValue);\n      if (direct || selectedValue[0] && selectedValue[1]) {\n        this.setState({\n          prevSelectedValue: selectedValue,\n          firstSelectedValue: null\n        });\n        this.fireHoverValueChange([]);\n        this.__emit('select', selectedValue, cause);\n      }\n      if (!hasProp(this, 'selectedValue')) {\n        this.setState({\n          sSelectedValue: selectedValue\n        });\n      }\n    },\n    fireValueChange: function fireValueChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: value\n        });\n      }\n      this.__emit('valueChange', value);\n    },\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\n      if (!hasProp(this, 'hoverValue')) {\n        this.setState({ sHoverValue: hoverValue });\n      }\n      this.__emit('hoverChange', hoverValue);\n    },\n    clear: function clear() {\n      this.fireSelectValueChange([], true);\n      this.__emit('clear');\n    },\n    disabledStartTime: function disabledStartTime(time) {\n      return this.disabledTime(time, 'start');\n    },\n    disabledEndTime: function disabledEndTime(time) {\n      return this.disabledTime(time, 'end');\n    },\n    disabledStartMonth: function disabledStartMonth(month) {\n      var sValue = this.sValue;\n\n      return month.isAfter(sValue[1], 'month');\n    },\n    disabledEndMonth: function disabledEndMonth(month) {\n      var sValue = this.sValue;\n\n      return month.isBefore(sValue[0], 'month');\n    }\n  },\n\n  render: function render() {\n    var _className, _cls;\n\n    var h = arguments[0];\n\n    var props = getOptionProps(this);\n    var prefixCls = props.prefixCls,\n        dateInputPlaceholder = props.dateInputPlaceholder,\n        timePicker = props.timePicker,\n        showOk = props.showOk,\n        locale = props.locale,\n        showClear = props.showClear,\n        showToday = props.showToday,\n        type = props.type,\n        seperator = props.seperator;\n\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var sHoverValue = this.sHoverValue,\n        sSelectedValue = this.sSelectedValue,\n        mode = this.sMode,\n        sShowTimePicker = this.sShowTimePicker,\n        sValue = this.sValue;\n\n    var className = (_className = {}, _defineProperty(_className, prefixCls, 1), _defineProperty(_className, prefixCls + '-hidden', !props.visible), _defineProperty(_className, prefixCls + '-range', 1), _defineProperty(_className, prefixCls + '-show-time-picker', sShowTimePicker), _defineProperty(_className, prefixCls + '-week-number', props.showWeekNumber), _className);\n    var baseProps = {\n      props: props,\n      on: getListeners(this)\n    };\n    var newProps = {\n      props: {\n        selectedValue: sSelectedValue\n      },\n      on: {\n        select: this.onSelect,\n        dayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\n      }\n    };\n\n    var placeholder1 = void 0;\n    var placeholder2 = void 0;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\n\n        placeholder1 = _dateInputPlaceholder[0];\n        placeholder2 = _dateInputPlaceholder[1];\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-footer', true), _defineProperty(_cls, prefixCls + '-range-bottom', true), _defineProperty(_cls, prefixCls + '-footer-show-ok', showOkButton), _cls);\n\n    var startValue = this.getStartValue();\n    var endValue = this.getEndValue();\n    var todayTime = getTodayTime(startValue);\n    var thisMonth = todayTime.month();\n    var thisYear = todayTime.year();\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\n    var leftPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'left',\n        disabledTime: this.disabledStartTime,\n        disabledMonth: this.disabledStartMonth,\n        format: this.getFormat(),\n        value: startValue,\n        mode: mode[0],\n        placeholder: placeholder1,\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[0] === 'time',\n        enablePrev: true,\n        enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onStartInputChange,\n        inputSelect: this.onStartInputSelect,\n        valueChange: this.onStartValueChange,\n        panelChange: this.onStartPanelChange\n      }\n    });\n    var rightPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'right',\n        format: this.getFormat(),\n        timePickerDisabledTime: this.getEndDisableTime(),\n        placeholder: placeholder2,\n        value: endValue,\n        mode: mode[1],\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[1] === 'time',\n        disabledTime: this.disabledEndTime,\n        disabledMonth: this.disabledEndMonth,\n        enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\n        enableNext: true,\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onEndInputChange,\n        inputSelect: this.onEndInputSelect,\n        valueChange: this.onEndValueChange,\n        panelChange: this.onEndPanelChange\n      }\n    });\n    var TodayButtonNode = null;\n    if (showToday) {\n      var todayButtonProps = mergeProps(baseProps, {\n        props: {\n          disabled: isTodayInView,\n          value: sValue[0],\n          text: locale.backToToday\n        },\n        on: {\n          today: this.onToday\n        }\n      });\n      TodayButtonNode = h(TodayButton, _mergeJSXProps([{ key: 'todayButton' }, todayButtonProps]));\n    }\n\n    var TimePickerButtonNode = null;\n    if (props.timePicker) {\n      var timePickerButtonProps = mergeProps(baseProps, {\n        props: {\n          showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\n          timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          openTimePicker: this.onOpenTimePicker,\n          closeTimePicker: this.onCloseTimePicker\n        }\n      });\n      TimePickerButtonNode = h(TimePickerButton, _mergeJSXProps([{ key: 'timePickerButton' }, timePickerButtonProps]));\n    }\n\n    var OkButtonNode = null;\n    if (showOkButton) {\n      var okButtonProps = mergeProps(baseProps, {\n        props: {\n          okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          ok: this.onOk\n        }\n      });\n      OkButtonNode = h(OkButton, _mergeJSXProps([{ key: 'okButtonNode' }, okButtonProps]));\n    }\n    var extraFooter = this.renderFooter(mode);\n    return h(\n      'div',\n      { ref: 'rootInstance', 'class': className, attrs: { tabIndex: '0' },\n        on: {\n          'keydown': this.onKeyDown\n        }\n      },\n      [props.renderSidebar(), h(\n        'div',\n        { 'class': prefixCls + '-panel' },\n        [showClear && sSelectedValue[0] && sSelectedValue[1] ? h(\n          'a',\n          {\n            attrs: { role: 'button', title: locale.clear },\n            on: {\n              'click': this.clear\n            }\n          },\n          [clearIcon || h('span', { 'class': prefixCls + '-clear-btn' })]\n        ) : null, h(\n          'div',\n          {\n            'class': prefixCls + '-date-panel',\n            on: {\n              'mouseleave': type !== 'both' ? this.onDatePanelLeave : noop,\n              'mouseenter': type !== 'both' ? this.onDatePanelEnter : noop\n            }\n          },\n          [h(CalendarPart, leftPartProps), h(\n            'span',\n            { 'class': prefixCls + '-range-middle' },\n            [seperator]\n          ), h(CalendarPart, rightPartProps)]\n        ), h(\n          'div',\n          { 'class': cls },\n          [showToday || props.timePicker || showOkButton || extraFooter ? h(\n            'div',\n            { 'class': prefixCls + '-footer-btn' },\n            [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]\n          ) : null]\n        )]\n      )]\n    );\n  }\n};\n\nexport default RangeCalendar;"]},"metadata":{},"sourceType":"module"}