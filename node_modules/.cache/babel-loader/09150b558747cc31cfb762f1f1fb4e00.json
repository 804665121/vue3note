{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport Wave from '../_util/wave';\nimport Icon from '../icon';\nimport buttonTypes from './buttonTypes';\nimport { filterEmpty, getListeners, getComponentFromProp } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nvar props = buttonTypes();\nexport default {\n  name: 'AButton',\n  inheritAttrs: false,\n  __ANT_BUTTON: true,\n  props: props,\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      sizeMap: {\n        large: 'lg',\n        small: 'sm'\n      },\n      sLoading: !!this.loading,\n      hasTwoCNChar: false\n    };\n  },\n  computed: {\n    classes: function classes() {\n      var _ref;\n\n      var customizePrefixCls = this.prefixCls,\n          type = this.type,\n          shape = this.shape,\n          size = this.size,\n          hasTwoCNChar = this.hasTwoCNChar,\n          sLoading = this.sLoading,\n          ghost = this.ghost,\n          block = this.block,\n          icon = this.icon,\n          $slots = this.$slots;\n      var getPrefixCls = this.configProvider.getPrefixCls;\n      var prefixCls = getPrefixCls('btn', customizePrefixCls);\n      var autoInsertSpace = this.configProvider.autoInsertSpaceInButton !== false; // large => lg\n      // small => sm\n\n      var sizeCls = '';\n\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n\n        case 'small':\n          sizeCls = 'sm';\n          break;\n\n        default:\n          break;\n      }\n\n      var iconType = sLoading ? 'loading' : icon;\n      var children = filterEmpty($slots['default']);\n      return _ref = {}, _defineProperty(_ref, '' + prefixCls, true), _defineProperty(_ref, prefixCls + '-' + type, type), _defineProperty(_ref, prefixCls + '-' + shape, shape), _defineProperty(_ref, prefixCls + '-' + sizeCls, sizeCls), _defineProperty(_ref, prefixCls + '-icon-only', children.length === 0 && iconType), _defineProperty(_ref, prefixCls + '-loading', sLoading), _defineProperty(_ref, prefixCls + '-background-ghost', ghost || type === 'ghost'), _defineProperty(_ref, prefixCls + '-two-chinese-chars', hasTwoCNChar && autoInsertSpace), _defineProperty(_ref, prefixCls + '-block', block), _ref;\n    }\n  },\n  watch: {\n    loading: function loading(val, preVal) {\n      var _this = this;\n\n      if (preVal && typeof preVal !== 'boolean') {\n        clearTimeout(this.delayTimeout);\n      }\n\n      if (val && typeof val !== 'boolean' && val.delay) {\n        this.delayTimeout = setTimeout(function () {\n          _this.sLoading = !!val;\n        }, val.delay);\n      } else {\n        this.sLoading = !!val;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.fixTwoCNChar();\n  },\n  updated: function updated() {\n    this.fixTwoCNChar();\n  },\n  beforeDestroy: function beforeDestroy() {\n    // if (this.timeout) {\n    //   clearTimeout(this.timeout)\n    // }\n    if (this.delayTimeout) {\n      clearTimeout(this.delayTimeout);\n    }\n  },\n  methods: {\n    fixTwoCNChar: function fixTwoCNChar() {\n      // Fix for HOC usage like <FormatMessage />\n      var node = this.$refs.buttonNode;\n\n      if (!node) {\n        return;\n      }\n\n      var buttonText = node.textContent;\n\n      if (this.isNeedInserted() && isTwoCNChar(buttonText)) {\n        if (!this.hasTwoCNChar) {\n          this.hasTwoCNChar = true;\n        }\n      } else if (this.hasTwoCNChar) {\n        this.hasTwoCNChar = false;\n      }\n    },\n    handleClick: function handleClick(event) {\n      var sLoading = this.$data.sLoading;\n\n      if (sLoading) {\n        return;\n      }\n\n      this.$emit('click', event);\n    },\n    insertSpace: function insertSpace(child, needInserted) {\n      var h = this.$createElement;\n      var SPACE = needInserted ? ' ' : '';\n\n      if (typeof child.text === 'string') {\n        var text = child.text.trim();\n\n        if (isTwoCNChar(text)) {\n          text = text.split('').join(SPACE);\n        }\n\n        return h('span', [text]);\n      }\n\n      return child;\n    },\n    isNeedInserted: function isNeedInserted() {\n      var $slots = this.$slots,\n          type = this.type;\n      var icon = getComponentFromProp(this, 'icon');\n      return $slots['default'] && $slots['default'].length === 1 && !icon && type !== 'link';\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var type = this.type,\n        htmlType = this.htmlType,\n        classes = this.classes,\n        disabled = this.disabled,\n        handleClick = this.handleClick,\n        sLoading = this.sLoading,\n        $slots = this.$slots,\n        $attrs = this.$attrs;\n    var icon = getComponentFromProp(this, 'icon');\n    var buttonProps = {\n      attrs: _extends({}, $attrs, {\n        disabled: disabled\n      }),\n      'class': classes,\n      on: _extends({}, getListeners(this), {\n        click: handleClick\n      })\n    };\n    var iconType = sLoading ? 'loading' : icon;\n    var iconNode = iconType ? h(Icon, {\n      attrs: {\n        type: iconType\n      }\n    }) : null;\n    var children = filterEmpty($slots['default']);\n    var autoInsertSpace = this.configProvider.autoInsertSpaceInButton !== false;\n    var kids = children.map(function (child) {\n      return _this2.insertSpace(child, _this2.isNeedInserted() && autoInsertSpace);\n    });\n\n    if ($attrs.href !== undefined) {\n      return h('a', _mergeJSXProps([buttonProps, {\n        ref: 'buttonNode'\n      }]), [iconNode, kids]);\n    }\n\n    var buttonNode = h('button', _mergeJSXProps([buttonProps, {\n      ref: 'buttonNode',\n      attrs: {\n        type: htmlType || 'button'\n      }\n    }]), [iconNode, kids]);\n\n    if (type === 'link') {\n      return buttonNode;\n    }\n\n    return h(Wave, [buttonNode]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/button/button.js"],"names":["_mergeJSXProps","_extends","_defineProperty","Wave","Icon","buttonTypes","filterEmpty","getListeners","getComponentFromProp","ConfigConsumerProps","rxTwoCNChar","isTwoCNChar","test","bind","props","name","inheritAttrs","__ANT_BUTTON","inject","configProvider","_default","data","sizeMap","large","small","sLoading","loading","hasTwoCNChar","computed","classes","_ref","customizePrefixCls","prefixCls","type","shape","size","ghost","block","icon","$slots","getPrefixCls","autoInsertSpace","autoInsertSpaceInButton","sizeCls","iconType","children","length","watch","val","preVal","_this","clearTimeout","delayTimeout","delay","setTimeout","mounted","fixTwoCNChar","updated","beforeDestroy","methods","node","$refs","buttonNode","buttonText","textContent","isNeedInserted","handleClick","event","$data","$emit","insertSpace","child","needInserted","h","$createElement","SPACE","text","trim","split","join","render","_this2","arguments","htmlType","disabled","$attrs","buttonProps","attrs","on","click","iconNode","kids","map","href","undefined","ref"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport Wave from '../_util/wave';\nimport Icon from '../icon';\nimport buttonTypes from './buttonTypes';\nimport { filterEmpty, getListeners, getComponentFromProp } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nvar props = buttonTypes();\nexport default {\n  name: 'AButton',\n  inheritAttrs: false,\n  __ANT_BUTTON: true,\n  props: props,\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    return {\n      sizeMap: {\n        large: 'lg',\n        small: 'sm'\n      },\n      sLoading: !!this.loading,\n      hasTwoCNChar: false\n    };\n  },\n\n  computed: {\n    classes: function classes() {\n      var _ref;\n\n      var customizePrefixCls = this.prefixCls,\n          type = this.type,\n          shape = this.shape,\n          size = this.size,\n          hasTwoCNChar = this.hasTwoCNChar,\n          sLoading = this.sLoading,\n          ghost = this.ghost,\n          block = this.block,\n          icon = this.icon,\n          $slots = this.$slots;\n\n      var getPrefixCls = this.configProvider.getPrefixCls;\n      var prefixCls = getPrefixCls('btn', customizePrefixCls);\n      var autoInsertSpace = this.configProvider.autoInsertSpaceInButton !== false;\n\n      // large => lg\n      // small => sm\n      var sizeCls = '';\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n        case 'small':\n          sizeCls = 'sm';\n          break;\n        default:\n          break;\n      }\n      var iconType = sLoading ? 'loading' : icon;\n      var children = filterEmpty($slots['default']);\n      return _ref = {}, _defineProperty(_ref, '' + prefixCls, true), _defineProperty(_ref, prefixCls + '-' + type, type), _defineProperty(_ref, prefixCls + '-' + shape, shape), _defineProperty(_ref, prefixCls + '-' + sizeCls, sizeCls), _defineProperty(_ref, prefixCls + '-icon-only', children.length === 0 && iconType), _defineProperty(_ref, prefixCls + '-loading', sLoading), _defineProperty(_ref, prefixCls + '-background-ghost', ghost || type === 'ghost'), _defineProperty(_ref, prefixCls + '-two-chinese-chars', hasTwoCNChar && autoInsertSpace), _defineProperty(_ref, prefixCls + '-block', block), _ref;\n    }\n  },\n  watch: {\n    loading: function loading(val, preVal) {\n      var _this = this;\n\n      if (preVal && typeof preVal !== 'boolean') {\n        clearTimeout(this.delayTimeout);\n      }\n      if (val && typeof val !== 'boolean' && val.delay) {\n        this.delayTimeout = setTimeout(function () {\n          _this.sLoading = !!val;\n        }, val.delay);\n      } else {\n        this.sLoading = !!val;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.fixTwoCNChar();\n  },\n  updated: function updated() {\n    this.fixTwoCNChar();\n  },\n  beforeDestroy: function beforeDestroy() {\n    // if (this.timeout) {\n    //   clearTimeout(this.timeout)\n    // }\n    if (this.delayTimeout) {\n      clearTimeout(this.delayTimeout);\n    }\n  },\n\n  methods: {\n    fixTwoCNChar: function fixTwoCNChar() {\n      // Fix for HOC usage like <FormatMessage />\n      var node = this.$refs.buttonNode;\n      if (!node) {\n        return;\n      }\n      var buttonText = node.textContent;\n      if (this.isNeedInserted() && isTwoCNChar(buttonText)) {\n        if (!this.hasTwoCNChar) {\n          this.hasTwoCNChar = true;\n        }\n      } else if (this.hasTwoCNChar) {\n        this.hasTwoCNChar = false;\n      }\n    },\n    handleClick: function handleClick(event) {\n      var sLoading = this.$data.sLoading;\n\n      if (sLoading) {\n        return;\n      }\n      this.$emit('click', event);\n    },\n    insertSpace: function insertSpace(child, needInserted) {\n      var h = this.$createElement;\n\n      var SPACE = needInserted ? ' ' : '';\n      if (typeof child.text === 'string') {\n        var text = child.text.trim();\n        if (isTwoCNChar(text)) {\n          text = text.split('').join(SPACE);\n        }\n        return h('span', [text]);\n      }\n      return child;\n    },\n    isNeedInserted: function isNeedInserted() {\n      var $slots = this.$slots,\n          type = this.type;\n\n      var icon = getComponentFromProp(this, 'icon');\n      return $slots['default'] && $slots['default'].length === 1 && !icon && type !== 'link';\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var type = this.type,\n        htmlType = this.htmlType,\n        classes = this.classes,\n        disabled = this.disabled,\n        handleClick = this.handleClick,\n        sLoading = this.sLoading,\n        $slots = this.$slots,\n        $attrs = this.$attrs;\n\n    var icon = getComponentFromProp(this, 'icon');\n    var buttonProps = {\n      attrs: _extends({}, $attrs, {\n        disabled: disabled\n      }),\n      'class': classes,\n      on: _extends({}, getListeners(this), {\n        click: handleClick\n      })\n    };\n    var iconType = sLoading ? 'loading' : icon;\n    var iconNode = iconType ? h(Icon, {\n      attrs: { type: iconType }\n    }) : null;\n    var children = filterEmpty($slots['default']);\n    var autoInsertSpace = this.configProvider.autoInsertSpaceInButton !== false;\n    var kids = children.map(function (child) {\n      return _this2.insertSpace(child, _this2.isNeedInserted() && autoInsertSpace);\n    });\n\n    if ($attrs.href !== undefined) {\n      return h(\n        'a',\n        _mergeJSXProps([buttonProps, { ref: 'buttonNode' }]),\n        [iconNode, kids]\n      );\n    }\n\n    var buttonNode = h(\n      'button',\n      _mergeJSXProps([buttonProps, { ref: 'buttonNode', attrs: { type: htmlType || 'button' }\n      }]),\n      [iconNode, kids]\n    );\n\n    if (type === 'link') {\n      return buttonNode;\n    }\n\n    return h(Wave, [buttonNode]);\n  }\n};"]},"metadata":{},"sourceType":"module"}