{"ast":null,"code":"import PropTypes from './vue-types';\nexport default {\n  props: {\n    autoMount: PropTypes.bool.def(true),\n    autoDestroy: PropTypes.bool.def(true),\n    visible: PropTypes.bool,\n    forceRender: PropTypes.bool.def(false),\n    parent: PropTypes.any,\n    getComponent: PropTypes.func.isRequired,\n    getContainer: PropTypes.func.isRequired,\n    children: PropTypes.func.isRequired\n  },\n  mounted: function mounted() {\n    if (this.autoMount) {\n      this.renderComponent();\n    }\n  },\n  updated: function updated() {\n    if (this.autoMount) {\n      this.renderComponent();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.autoDestroy) {\n      this.removeContainer();\n    }\n  },\n  methods: {\n    removeContainer: function removeContainer() {\n      if (this.container) {\n        this._component && this._component.$destroy();\n        this.container.parentNode.removeChild(this.container);\n        this.container = null;\n        this._component = null;\n      }\n    },\n    renderComponent: function renderComponent() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var ready = arguments[1];\n      var visible = this.visible,\n          forceRender = this.forceRender,\n          getContainer = this.getContainer,\n          parent = this.parent;\n      var self = this;\n\n      if (visible || parent._component || parent.$refs._component || forceRender) {\n        var el = this.componentEl;\n\n        if (!this.container) {\n          this.container = getContainer();\n          el = document.createElement('div');\n          this.componentEl = el;\n          this.container.appendChild(el);\n        } // self.getComponent 不要放在 render 中，会因为响应式数据问题导致，多次触发 render\n\n\n        var com = {\n          component: self.getComponent(props)\n        };\n\n        if (!this._component) {\n          this._component = new this.$root.constructor({\n            el: el,\n            parent: self,\n            data: {\n              _com: com\n            },\n            mounted: function mounted() {\n              this.$nextTick(function () {\n                if (ready) {\n                  ready.call(self);\n                }\n              });\n            },\n            updated: function updated() {\n              this.$nextTick(function () {\n                if (ready) {\n                  ready.call(self);\n                }\n              });\n            },\n            methods: {\n              setComponent: function setComponent(_com) {\n                this.$data._com = _com;\n              }\n            },\n            render: function render() {\n              return this.$data._com.component;\n            }\n          });\n        } else {\n          this._component.setComponent(com);\n        }\n      }\n    }\n  },\n  render: function render() {\n    return this.children({\n      renderComponent: this.renderComponent,\n      removeContainer: this.removeContainer\n    });\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/_util/ContainerRender.js"],"names":["PropTypes","props","autoMount","bool","def","autoDestroy","visible","forceRender","parent","any","getComponent","func","isRequired","getContainer","children","mounted","renderComponent","updated","beforeDestroy","removeContainer","methods","container","_component","$destroy","parentNode","removeChild","arguments","length","undefined","ready","self","$refs","el","componentEl","document","createElement","appendChild","com","component","$root","constructor","data","_com","$nextTick","call","setComponent","$data","render"],"mappings":"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","sourcesContent":["import PropTypes from './vue-types';\n\nexport default {\n  props: {\n    autoMount: PropTypes.bool.def(true),\n    autoDestroy: PropTypes.bool.def(true),\n    visible: PropTypes.bool,\n    forceRender: PropTypes.bool.def(false),\n    parent: PropTypes.any,\n    getComponent: PropTypes.func.isRequired,\n    getContainer: PropTypes.func.isRequired,\n    children: PropTypes.func.isRequired\n  },\n\n  mounted: function mounted() {\n    if (this.autoMount) {\n      this.renderComponent();\n    }\n  },\n  updated: function updated() {\n    if (this.autoMount) {\n      this.renderComponent();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.autoDestroy) {\n      this.removeContainer();\n    }\n  },\n\n  methods: {\n    removeContainer: function removeContainer() {\n      if (this.container) {\n        this._component && this._component.$destroy();\n        this.container.parentNode.removeChild(this.container);\n        this.container = null;\n        this._component = null;\n      }\n    },\n    renderComponent: function renderComponent() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var ready = arguments[1];\n      var visible = this.visible,\n          forceRender = this.forceRender,\n          getContainer = this.getContainer,\n          parent = this.parent;\n\n      var self = this;\n      if (visible || parent._component || parent.$refs._component || forceRender) {\n        var el = this.componentEl;\n        if (!this.container) {\n          this.container = getContainer();\n          el = document.createElement('div');\n          this.componentEl = el;\n          this.container.appendChild(el);\n        }\n        // self.getComponent 不要放在 render 中，会因为响应式数据问题导致，多次触发 render\n        var com = { component: self.getComponent(props) };\n        if (!this._component) {\n          this._component = new this.$root.constructor({\n            el: el,\n            parent: self,\n            data: {\n              _com: com\n            },\n            mounted: function mounted() {\n              this.$nextTick(function () {\n                if (ready) {\n                  ready.call(self);\n                }\n              });\n            },\n            updated: function updated() {\n              this.$nextTick(function () {\n                if (ready) {\n                  ready.call(self);\n                }\n              });\n            },\n\n            methods: {\n              setComponent: function setComponent(_com) {\n                this.$data._com = _com;\n              }\n            },\n            render: function render() {\n              return this.$data._com.component;\n            }\n          });\n        } else {\n          this._component.setComponent(com);\n        }\n      }\n    }\n  },\n\n  render: function render() {\n    return this.children({\n      renderComponent: this.renderComponent,\n      removeContainer: this.removeContainer\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}