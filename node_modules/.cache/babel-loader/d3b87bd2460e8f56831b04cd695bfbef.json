{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n        disabled = _$props.disabled,\n        _$props$activeClassNa = _$props.activeClassName,\n        activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n        _$props$activeStyle = _$props.activeStyle,\n        activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n    var child = this.$slots['default'];\n\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n\n    return cloneElement(child, childProps);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-m-feedback/src/TouchFeedback.js"],"names":["_extends","initDefaultProps","cloneElement","warning","BaseMixin","ITouchProps","name","mixins","props","disabled","data","active","mounted","_this","$nextTick","setState","methods","triggerEvent","type","isActive","ev","$emit","onTouchStart","e","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","render","_$props","$props","_$props$activeClassNa","activeClassName","undefined","_$props$activeStyle","activeStyle","child","$slots","length","childProps","on","touchstart","touchmove","touchend","touchcancel","mousedown","mouseup","mouseleave","style"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,eADO;AAEbC,EAAAA,MAAM,EAAE,CAACH,SAAD,CAFK;AAGbI,EAAAA,KAAK,EAAEP,gBAAgB,CAACI,WAAD,EAAc;AACnCI,IAAAA,QAAQ,EAAE;AADyB,GAAd,CAHV;AAMbC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,WAAO;AACLC,MAAAA,MAAM,EAAE;AADH,KAAP;AAGD,GAVY;AAWbC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,QAAIC,KAAK,GAAG,IAAZ;;AAEA,SAAKC,SAAL,CAAe,YAAY;AACzB,UAAID,KAAK,CAACJ,QAAN,IAAkBI,KAAK,CAACF,MAA5B,EAAoC;AAClCE,QAAAA,KAAK,CAACE,QAAN,CAAe;AACbJ,UAAAA,MAAM,EAAE;AADK,SAAf;AAGD;AACF,KAND;AAOD,GArBY;AAuBbK,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,QAA5B,EAAsCC,EAAtC,EAA0C;AACtD;AACA,WAAKC,KAAL,CAAWH,IAAX,EAAiBE,EAAjB;;AACA,UAAID,QAAQ,KAAK,KAAKR,MAAtB,EAA8B;AAC5B,aAAKI,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAEQ;AADI,SAAd;AAGD;AACF,KATM;AAUPG,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,CAAtB,EAAyB;AACrC,WAAKN,YAAL,CAAkB,YAAlB,EAAgC,IAAhC,EAAsCM,CAAtC;AACD,KAZM;AAaPC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBD,CAArB,EAAwB;AACnC,WAAKN,YAAL,CAAkB,WAAlB,EAA+B,KAA/B,EAAsCM,CAAtC;AACD,KAfM;AAgBPE,IAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBF,CAApB,EAAuB;AACjC,WAAKN,YAAL,CAAkB,UAAlB,EAA8B,KAA9B,EAAqCM,CAArC;AACD,KAlBM;AAmBPG,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBH,CAAvB,EAA0B;AACvC,WAAKN,YAAL,CAAkB,aAAlB,EAAiC,KAAjC,EAAwCM,CAAxC;AACD,KArBM;AAsBPI,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBJ,CAArB,EAAwB;AACnC;AACA,WAAKN,YAAL,CAAkB,WAAlB,EAA+B,IAA/B,EAAqCM,CAArC;AACD,KAzBM;AA0BPK,IAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBL,CAAnB,EAAsB;AAC/B,WAAKN,YAAL,CAAkB,SAAlB,EAA6B,KAA7B,EAAoCM,CAApC;AACD,KA5BM;AA6BPM,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBN,CAAtB,EAAyB;AACrC,WAAKN,YAAL,CAAkB,YAAlB,EAAgC,KAAhC,EAAuCM,CAAvC;AACD;AA/BM,GAvBI;AAwDbO,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,OAAO,GAAG,KAAKC,MAAnB;AAAA,QACIvB,QAAQ,GAAGsB,OAAO,CAACtB,QADvB;AAAA,QAEIwB,qBAAqB,GAAGF,OAAO,CAACG,eAFpC;AAAA,QAGIA,eAAe,GAAGD,qBAAqB,KAAKE,SAA1B,GAAsC,EAAtC,GAA2CF,qBAHjE;AAAA,QAIIG,mBAAmB,GAAGL,OAAO,CAACM,WAJlC;AAAA,QAKIA,WAAW,GAAGD,mBAAmB,KAAKD,SAAxB,GAAoC,EAApC,GAAyCC,mBAL3D;AAQA,QAAIE,KAAK,GAAG,KAAKC,MAAL,CAAY,SAAZ,CAAZ;;AACA,QAAID,KAAK,CAACE,MAAN,KAAiB,CAArB,EAAwB;AACtBrC,MAAAA,OAAO,CAAC,KAAD,EAAQ,uBAAR,CAAP;AACA,aAAO,IAAP;AACD;;AACD,QAAIsC,UAAU,GAAG;AACfC,MAAAA,EAAE,EAAEjC,QAAQ,GAAG,EAAH,GAAQ;AAClBkC,QAAAA,UAAU,EAAE,KAAKrB,YADC;AAElBsB,QAAAA,SAAS,EAAE,KAAKpB,WAFE;AAGlBqB,QAAAA,QAAQ,EAAE,KAAKpB,UAHG;AAIlBqB,QAAAA,WAAW,EAAE,KAAKpB,aAJA;AAKlBqB,QAAAA,SAAS,EAAE,KAAKpB,WALE;AAMlBqB,QAAAA,OAAO,EAAE,KAAKpB,SANI;AAOlBqB,QAAAA,UAAU,EAAE,KAAKpB;AAPC;AADL,KAAjB;;AAYA,QAAI,CAACpB,QAAD,IAAa,KAAKE,MAAtB,EAA8B;AAC5B8B,MAAAA,UAAU,GAAGzC,QAAQ,CAAC,EAAD,EAAKyC,UAAL,EAAiB;AACpCS,QAAAA,KAAK,EAAEb,WAD6B;AAEpC,iBAASH;AAF2B,OAAjB,CAArB;AAID;;AAED,WAAOhC,YAAY,CAACoC,KAAD,EAAQG,UAAR,CAAnB;AACD;AA1FY,CAAf","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport { initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\n\nexport default {\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      // 暂时仅有input-number用到，事件直接到挂载到Touchable上，不需要像antd那样从子组件触发\n      this.$emit(type, ev);\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _$props = this.$props,\n        disabled = _$props.disabled,\n        _$props$activeClassNa = _$props.activeClassName,\n        activeClassName = _$props$activeClassNa === undefined ? '' : _$props$activeClassNa,\n        _$props$activeStyle = _$props.activeStyle,\n        activeStyle = _$props$activeStyle === undefined ? {} : _$props$activeStyle;\n\n\n    var child = this.$slots['default'];\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n    var childProps = {\n      on: disabled ? {} : {\n        touchstart: this.onTouchStart,\n        touchmove: this.onTouchMove,\n        touchend: this.onTouchEnd,\n        touchcancel: this.onTouchCancel,\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp,\n        mouseleave: this.onMouseLeave\n      }\n    };\n\n    if (!disabled && this.active) {\n      childProps = _extends({}, childProps, {\n        style: activeStyle,\n        'class': activeClassName\n      });\n    }\n\n    return cloneElement(child, childProps);\n  }\n};"]},"metadata":{},"sourceType":"module"}