{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport PropTypes from '../_util/vue-types';\nimport Button from '../button';\nimport BaseMixin from '../_util/BaseMixin';\nimport buttonTypes from '../button/buttonTypes';\nvar ButtonType = buttonTypes().type;\nvar ActionButtonProps = {\n  type: ButtonType,\n  actionFn: PropTypes.func,\n  closeModal: PropTypes.func,\n  autoFocus: PropTypes.bool,\n  buttonProps: PropTypes.object\n};\nexport default {\n  mixins: [BaseMixin],\n  props: ActionButtonProps,\n  data: function data() {\n    return {\n      loading: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.autoFocus) {\n      this.timeoutId = setTimeout(function () {\n        return _this.$el.focus();\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearTimeout(this.timeoutId);\n  },\n  methods: {\n    onClick: function onClick() {\n      var _this2 = this;\n\n      var actionFn = this.actionFn,\n          closeModal = this.closeModal;\n\n      if (actionFn) {\n        var ret = void 0;\n\n        if (actionFn.length) {\n          ret = actionFn(closeModal);\n        } else {\n          ret = actionFn();\n\n          if (!ret) {\n            closeModal();\n          }\n        }\n\n        if (ret && ret.then) {\n          this.setState({\n            loading: true\n          });\n          ret.then(function () {\n            // It's unnecessary to set loading=false, for the Modal will be unmounted after close.\n            // this.setState({ loading: false });\n            closeModal.apply(undefined, arguments);\n          }, function (e) {\n            // Emit error when catch promise reject\n            // eslint-disable-next-line no-console\n            console.error(e); // See: https://github.com/ant-design/ant-design/issues/6183\n\n            _this2.setState({\n              loading: false\n            });\n          });\n        }\n      } else {\n        closeModal();\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var type = this.type,\n        $slots = this.$slots,\n        loading = this.loading,\n        buttonProps = this.buttonProps;\n    return h(Button, _mergeJSXProps([{\n      attrs: {\n        type: type,\n        loading: loading\n      },\n      on: {\n        'click': this.onClick\n      }\n    }, buttonProps]), [$slots['default']]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/modal/ActionButton.js"],"names":["_mergeJSXProps","PropTypes","Button","BaseMixin","buttonTypes","ButtonType","type","ActionButtonProps","actionFn","func","closeModal","autoFocus","bool","buttonProps","object","mixins","props","data","loading","mounted","_this","timeoutId","setTimeout","$el","focus","beforeDestroy","clearTimeout","methods","onClick","_this2","ret","length","then","setState","apply","undefined","arguments","e","console","error","render","h","$slots","attrs","on"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport PropTypes from '../_util/vue-types';\nimport Button from '../button';\nimport BaseMixin from '../_util/BaseMixin';\nimport buttonTypes from '../button/buttonTypes';\nvar ButtonType = buttonTypes().type;\nvar ActionButtonProps = {\n  type: ButtonType,\n  actionFn: PropTypes.func,\n  closeModal: PropTypes.func,\n  autoFocus: PropTypes.bool,\n  buttonProps: PropTypes.object\n};\n\nexport default {\n  mixins: [BaseMixin],\n  props: ActionButtonProps,\n  data: function data() {\n    return {\n      loading: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.autoFocus) {\n      this.timeoutId = setTimeout(function () {\n        return _this.$el.focus();\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearTimeout(this.timeoutId);\n  },\n\n  methods: {\n    onClick: function onClick() {\n      var _this2 = this;\n\n      var actionFn = this.actionFn,\n          closeModal = this.closeModal;\n\n      if (actionFn) {\n        var ret = void 0;\n        if (actionFn.length) {\n          ret = actionFn(closeModal);\n        } else {\n          ret = actionFn();\n          if (!ret) {\n            closeModal();\n          }\n        }\n        if (ret && ret.then) {\n          this.setState({ loading: true });\n          ret.then(function () {\n            // It's unnecessary to set loading=false, for the Modal will be unmounted after close.\n            // this.setState({ loading: false });\n            closeModal.apply(undefined, arguments);\n          }, function (e) {\n            // Emit error when catch promise reject\n            // eslint-disable-next-line no-console\n            console.error(e);\n            // See: https://github.com/ant-design/ant-design/issues/6183\n            _this2.setState({ loading: false });\n          });\n        }\n      } else {\n        closeModal();\n      }\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var type = this.type,\n        $slots = this.$slots,\n        loading = this.loading,\n        buttonProps = this.buttonProps;\n\n    return h(\n      Button,\n      _mergeJSXProps([{\n        attrs: { type: type, loading: loading },\n        on: {\n          'click': this.onClick\n        }\n      }, buttonProps]),\n      [$slots['default']]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}