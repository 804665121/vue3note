{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport classNames from 'classnames';\nimport PropTypes from '../../../_util/vue-types';\nimport addEventListener from '../../../vc-util/Dom/addEventListener';\nimport warning from '../../../_util/warning';\nimport { initDefaultProps } from '../../../_util/props-util';\nimport Steps from './Steps';\nimport Marks from './Marks';\nimport Handle from '../Handle';\nimport * as utils from '../utils';\n\nfunction noop() {}\n\nexport default function createSlider(Component) {\n  // const displayName = `ComponentEnhancer(${Component.displayName})`\n  var propTypes = {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n    included: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    handle: PropTypes.func,\n    dots: PropTypes.bool,\n    vertical: PropTypes.bool,\n    reverse: PropTypes.bool,\n    minimumTrackStyle: PropTypes.object,\n    // just for compatibility, will be deperecate\n    maximumTrackStyle: PropTypes.object,\n    // just for compatibility, will be deperecate\n    handleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    trackStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    railStyle: PropTypes.object,\n    dotStyle: PropTypes.object,\n    activeDotStyle: PropTypes.object,\n    autoFocus: PropTypes.bool\n  };\n  return {\n    name: 'createSlider',\n    mixins: [Component],\n    model: {\n      prop: 'value',\n      event: 'change'\n    },\n    props: initDefaultProps(propTypes, {\n      prefixCls: 'rc-slider',\n      min: 0,\n      max: 100,\n      step: 1,\n      marks: {},\n      included: true,\n      disabled: false,\n      dots: false,\n      vertical: false,\n      reverse: false,\n      trackStyle: [{}],\n      handleStyle: [{}],\n      railStyle: {},\n      dotStyle: {},\n      activeDotStyle: {}\n    }),\n    data: function data() {\n      var step = this.step,\n          max = this.max,\n          min = this.min;\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n\n      warning(step && Math.floor(step) === step ? isPointDiffEven : true, 'Slider', 'Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)', max - min, step);\n      this.handlesRefs = {};\n      return {};\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        _this.document = _this.$refs.sliderRef && _this.$refs.sliderRef.ownerDocument; // this.setHandleRefs()\n\n        var autoFocus = _this.autoFocus,\n            disabled = _this.disabled;\n\n        if (autoFocus && !disabled) {\n          _this.focus();\n        }\n      });\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // if (super.componentWillUnmount) super.componentWillUnmount()\n        _this2.removeDocumentEvents();\n      });\n    },\n    methods: {\n      defaultHandle: function defaultHandle(_ref) {\n        var index = _ref.index,\n            directives = _ref.directives,\n            className = _ref.className,\n            style = _ref.style,\n            on = _ref.on,\n            restProps = _objectWithoutProperties(_ref, ['index', 'directives', 'className', 'style', 'on']);\n\n        var h = this.$createElement;\n        delete restProps.dragging;\n\n        if (restProps.value === null) {\n          return null;\n        }\n\n        var handleProps = {\n          props: _extends({}, restProps),\n          'class': className,\n          style: style,\n          key: index,\n          directives: directives,\n          on: on\n        };\n        return h(Handle, handleProps);\n      },\n      onMouseDown: function onMouseDown(e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = this.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        this.removeDocumentEvents();\n        this.onStart(position);\n        this.addDocumentMouseEvents();\n        utils.pauseEvent(e);\n      },\n      onTouchStart: function onTouchStart(e) {\n        if (utils.isNotTouchEvent(e)) return;\n        var isVertical = this.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        this.onStart(position);\n        this.addDocumentTouchEvents();\n        utils.pauseEvent(e);\n      },\n      onFocus: function onFocus(e) {\n        var vertical = this.vertical;\n\n        if (utils.isEventFromHandle(e, this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          this.dragOffset = 0;\n          this.onStart(handlePosition);\n          utils.pauseEvent(e);\n          this.$emit('focus', e);\n        }\n      },\n      onBlur: function onBlur(e) {\n        this.onEnd();\n        this.$emit('blur', e);\n      },\n      onMouseUp: function onMouseUp() {\n        if (this.handlesRefs[this.prevMovedHandleIndex]) {\n          this.handlesRefs[this.prevMovedHandleIndex].clickFocus();\n        }\n      },\n      onMouseMove: function onMouseMove(e) {\n        if (!this.$refs.sliderRef) {\n          this.onEnd();\n          return;\n        }\n\n        var position = utils.getMousePosition(this.vertical, e);\n        this.onMove(e, position - this.dragOffset);\n      },\n      onTouchMove: function onTouchMove(e) {\n        if (utils.isNotTouchEvent(e) || !this.$refs.sliderRef) {\n          this.onEnd();\n          return;\n        }\n\n        var position = utils.getTouchPosition(this.vertical, e);\n        this.onMove(e, position - this.dragOffset);\n      },\n      onKeyDown: function onKeyDown(e) {\n        if (this.$refs.sliderRef && utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.onKeyboard(e);\n        }\n      },\n      onClickMarkLabel: function onClickMarkLabel(e, value) {\n        var _this3 = this;\n\n        e.stopPropagation();\n        this.onChange({\n          sValue: value\n        });\n        this.setState({\n          sValue: value\n        }, function () {\n          return _this3.onEnd(true);\n        });\n      },\n      getSliderStart: function getSliderStart() {\n        var slider = this.$refs.sliderRef;\n        var vertical = this.vertical,\n            reverse = this.reverse;\n        var rect = slider.getBoundingClientRect();\n\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      },\n      getSliderLength: function getSliderLength() {\n        var slider = this.$refs.sliderRef;\n\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.vertical ? coords.height : coords.width;\n      },\n      addDocumentTouchEvents: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = addEventListener(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = addEventListener(this.document, 'touchend', this.onEnd);\n      },\n      addDocumentMouseEvents: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = addEventListener(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = addEventListener(this.document, 'mouseup', this.onEnd);\n      },\n      removeDocumentEvents: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      },\n      focus: function focus() {\n        if (!this.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      },\n      blur: function blur() {\n        var _this4 = this;\n\n        if (!this.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this4.handlesRefs[key] && _this4.handlesRefs[key].blur) {\n              _this4.handlesRefs[key].blur();\n            }\n          });\n        }\n      },\n      calcValue: function calcValue(offset) {\n        var vertical = this.vertical,\n            min = this.min,\n            max = this.max;\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      },\n      calcValueByPos: function calcValueByPos(position) {\n        var sign = this.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      },\n      calcOffset: function calcOffset(value) {\n        var min = this.min,\n            max = this.max;\n        var ratio = (value - min) / (max - min);\n        return ratio * 100;\n      },\n      saveHandle: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    },\n    render: function render(h) {\n      var _classNames;\n\n      var prefixCls = this.prefixCls,\n          marks = this.marks,\n          dots = this.dots,\n          step = this.step,\n          included = this.included,\n          disabled = this.disabled,\n          vertical = this.vertical,\n          reverse = this.reverse,\n          min = this.min,\n          max = this.max,\n          maximumTrackStyle = this.maximumTrackStyle,\n          railStyle = this.railStyle,\n          dotStyle = this.dotStyle,\n          activeDotStyle = this.activeDotStyle;\n\n      var _renderSlider = this.renderSlider(h),\n          tracks = _renderSlider.tracks,\n          handles = _renderSlider.handles;\n\n      var sliderClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-with-marks', Object.keys(marks).length), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, prefixCls + '-vertical', vertical), _classNames));\n      var markProps = {\n        props: {\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse,\n          className: prefixCls + '-mark'\n        },\n        on: {\n          clickLabel: disabled ? noop : this.onClickMarkLabel\n        }\n      };\n      return h('div', {\n        ref: 'sliderRef',\n        attrs: {\n          tabIndex: '-1'\n        },\n        'class': sliderClassName,\n        on: {\n          'touchstart': disabled ? noop : this.onTouchStart,\n          'mousedown': disabled ? noop : this.onMouseDown,\n          'mouseup': disabled ? noop : this.onMouseUp,\n          'keydown': disabled ? noop : this.onKeyDown,\n          'focus': disabled ? noop : this.onFocus,\n          'blur': disabled ? noop : this.onBlur\n        }\n      }, [h('div', {\n        'class': prefixCls + '-rail',\n        style: _extends({}, maximumTrackStyle, railStyle)\n      }), tracks, h(Steps, {\n        attrs: {\n          prefixCls: prefixCls,\n          vertical: vertical,\n          reverse: reverse,\n          marks: marks,\n          dots: dots,\n          step: step,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          dotStyle: dotStyle,\n          activeDotStyle: activeDotStyle\n        }\n      }), handles, h(Marks, markProps), this.$slots['default']]);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-slider/src/common/createSlider.js"],"names":["_defineProperty","_extends","_objectWithoutProperties","classNames","PropTypes","addEventListener","warning","initDefaultProps","Steps","Marks","Handle","utils","noop","createSlider","Component","propTypes","min","number","max","step","marks","object","included","bool","prefixCls","string","disabled","handle","func","dots","vertical","reverse","minimumTrackStyle","maximumTrackStyle","handleStyle","oneOfType","arrayOf","trackStyle","railStyle","dotStyle","activeDotStyle","autoFocus","name","mixins","model","prop","event","props","data","isPointDiffEven","isFinite","Math","floor","handlesRefs","mounted","_this","$nextTick","document","$refs","sliderRef","ownerDocument","focus","beforeDestroy","_this2","removeDocumentEvents","methods","defaultHandle","_ref","index","directives","className","style","on","restProps","h","$createElement","dragging","value","handleProps","key","onMouseDown","e","button","isVertical","position","getMousePosition","isEventFromHandle","dragOffset","handlePosition","getHandleCenterPosition","target","onStart","addDocumentMouseEvents","pauseEvent","onTouchStart","isNotTouchEvent","getTouchPosition","addDocumentTouchEvents","onFocus","$emit","onBlur","onEnd","onMouseUp","prevMovedHandleIndex","clickFocus","onMouseMove","onMove","onTouchMove","onKeyDown","onKeyboard","onClickMarkLabel","_this3","stopPropagation","onChange","sValue","setState","getSliderStart","slider","rect","getBoundingClientRect","bottom","top","window","pageXOffset","right","left","getSliderLength","coords","height","width","onTouchMoveListener","onTouchUpListener","onMouseMoveListener","onMouseUpListener","remove","blur","_this4","Object","keys","forEach","calcValue","offset","ratio","abs","calcValueByPos","sign","pixelOffset","nextValue","trimAlignValue","calcOffset","saveHandle","render","_classNames","_renderSlider","renderSlider","tracks","handles","sliderClassName","length","markProps","lowerBound","getLowerBound","upperBound","getUpperBound","clickLabel","ref","attrs","tabIndex","$slots"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport classNames from 'classnames';\nimport PropTypes from '../../../_util/vue-types';\nimport addEventListener from '../../../vc-util/Dom/addEventListener';\nimport warning from '../../../_util/warning';\nimport { initDefaultProps } from '../../../_util/props-util';\nimport Steps from './Steps';\nimport Marks from './Marks';\nimport Handle from '../Handle';\nimport * as utils from '../utils';\n\nfunction noop() {}\n\nexport default function createSlider(Component) {\n  // const displayName = `ComponentEnhancer(${Component.displayName})`\n  var propTypes = {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n    included: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    handle: PropTypes.func,\n    dots: PropTypes.bool,\n    vertical: PropTypes.bool,\n    reverse: PropTypes.bool,\n    minimumTrackStyle: PropTypes.object, // just for compatibility, will be deperecate\n    maximumTrackStyle: PropTypes.object, // just for compatibility, will be deperecate\n    handleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    trackStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    railStyle: PropTypes.object,\n    dotStyle: PropTypes.object,\n    activeDotStyle: PropTypes.object,\n    autoFocus: PropTypes.bool\n  };\n  return {\n    name: 'createSlider',\n    mixins: [Component],\n    model: {\n      prop: 'value',\n      event: 'change'\n    },\n    props: initDefaultProps(propTypes, {\n      prefixCls: 'rc-slider',\n      min: 0,\n      max: 100,\n      step: 1,\n      marks: {},\n      included: true,\n      disabled: false,\n      dots: false,\n      vertical: false,\n      reverse: false,\n      trackStyle: [{}],\n      handleStyle: [{}],\n      railStyle: {},\n      dotStyle: {},\n      activeDotStyle: {}\n    }),\n    data: function data() {\n      var step = this.step,\n          max = this.max,\n          min = this.min;\n\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n      warning(step && Math.floor(step) === step ? isPointDiffEven : true, 'Slider', 'Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)', max - min, step);\n      this.handlesRefs = {};\n      return {};\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        _this.document = _this.$refs.sliderRef && _this.$refs.sliderRef.ownerDocument;\n        // this.setHandleRefs()\n        var autoFocus = _this.autoFocus,\n            disabled = _this.disabled;\n\n        if (autoFocus && !disabled) {\n          _this.focus();\n        }\n      });\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // if (super.componentWillUnmount) super.componentWillUnmount()\n        _this2.removeDocumentEvents();\n      });\n    },\n\n    methods: {\n      defaultHandle: function defaultHandle(_ref) {\n        var index = _ref.index,\n            directives = _ref.directives,\n            className = _ref.className,\n            style = _ref.style,\n            on = _ref.on,\n            restProps = _objectWithoutProperties(_ref, ['index', 'directives', 'className', 'style', 'on']);\n\n        var h = this.$createElement;\n\n        delete restProps.dragging;\n        if (restProps.value === null) {\n          return null;\n        }\n        var handleProps = {\n          props: _extends({}, restProps),\n          'class': className,\n          style: style,\n          key: index,\n          directives: directives,\n          on: on\n        };\n        return h(Handle, handleProps);\n      },\n      onMouseDown: function onMouseDown(e) {\n        if (e.button !== 0) {\n          return;\n        }\n        var isVertical = this.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n        if (!utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n        this.removeDocumentEvents();\n        this.onStart(position);\n        this.addDocumentMouseEvents();\n        utils.pauseEvent(e);\n      },\n      onTouchStart: function onTouchStart(e) {\n        if (utils.isNotTouchEvent(e)) return;\n\n        var isVertical = this.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n        if (!utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n        this.onStart(position);\n        this.addDocumentTouchEvents();\n        utils.pauseEvent(e);\n      },\n      onFocus: function onFocus(e) {\n        var vertical = this.vertical;\n\n        if (utils.isEventFromHandle(e, this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          this.dragOffset = 0;\n          this.onStart(handlePosition);\n          utils.pauseEvent(e);\n          this.$emit('focus', e);\n        }\n      },\n      onBlur: function onBlur(e) {\n        this.onEnd();\n        this.$emit('blur', e);\n      },\n      onMouseUp: function onMouseUp() {\n        if (this.handlesRefs[this.prevMovedHandleIndex]) {\n          this.handlesRefs[this.prevMovedHandleIndex].clickFocus();\n        }\n      },\n      onMouseMove: function onMouseMove(e) {\n        if (!this.$refs.sliderRef) {\n          this.onEnd();\n          return;\n        }\n        var position = utils.getMousePosition(this.vertical, e);\n        this.onMove(e, position - this.dragOffset);\n      },\n      onTouchMove: function onTouchMove(e) {\n        if (utils.isNotTouchEvent(e) || !this.$refs.sliderRef) {\n          this.onEnd();\n          return;\n        }\n\n        var position = utils.getTouchPosition(this.vertical, e);\n        this.onMove(e, position - this.dragOffset);\n      },\n      onKeyDown: function onKeyDown(e) {\n        if (this.$refs.sliderRef && utils.isEventFromHandle(e, this.handlesRefs)) {\n          this.onKeyboard(e);\n        }\n      },\n      onClickMarkLabel: function onClickMarkLabel(e, value) {\n        var _this3 = this;\n\n        e.stopPropagation();\n        this.onChange({ sValue: value });\n        this.setState({ sValue: value }, function () {\n          return _this3.onEnd(true);\n        });\n      },\n      getSliderStart: function getSliderStart() {\n        var slider = this.$refs.sliderRef;\n        var vertical = this.vertical,\n            reverse = this.reverse;\n\n        var rect = slider.getBoundingClientRect();\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      },\n      getSliderLength: function getSliderLength() {\n        var slider = this.$refs.sliderRef;\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.vertical ? coords.height : coords.width;\n      },\n      addDocumentTouchEvents: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = addEventListener(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = addEventListener(this.document, 'touchend', this.onEnd);\n      },\n      addDocumentMouseEvents: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = addEventListener(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = addEventListener(this.document, 'mouseup', this.onEnd);\n      },\n      removeDocumentEvents: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      },\n      focus: function focus() {\n        if (!this.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      },\n      blur: function blur() {\n        var _this4 = this;\n\n        if (!this.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this4.handlesRefs[key] && _this4.handlesRefs[key].blur) {\n              _this4.handlesRefs[key].blur();\n            }\n          });\n        }\n      },\n      calcValue: function calcValue(offset) {\n        var vertical = this.vertical,\n            min = this.min,\n            max = this.max;\n\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      },\n      calcValueByPos: function calcValueByPos(position) {\n        var sign = this.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      },\n      calcOffset: function calcOffset(value) {\n        var min = this.min,\n            max = this.max;\n\n        var ratio = (value - min) / (max - min);\n        return ratio * 100;\n      },\n      saveHandle: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    },\n    render: function render(h) {\n      var _classNames;\n\n      var prefixCls = this.prefixCls,\n          marks = this.marks,\n          dots = this.dots,\n          step = this.step,\n          included = this.included,\n          disabled = this.disabled,\n          vertical = this.vertical,\n          reverse = this.reverse,\n          min = this.min,\n          max = this.max,\n          maximumTrackStyle = this.maximumTrackStyle,\n          railStyle = this.railStyle,\n          dotStyle = this.dotStyle,\n          activeDotStyle = this.activeDotStyle;\n\n      var _renderSlider = this.renderSlider(h),\n          tracks = _renderSlider.tracks,\n          handles = _renderSlider.handles;\n\n      var sliderClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-with-marks', Object.keys(marks).length), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, prefixCls + '-vertical', vertical), _classNames));\n      var markProps = {\n        props: {\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse,\n          className: prefixCls + '-mark'\n        },\n        on: {\n          clickLabel: disabled ? noop : this.onClickMarkLabel\n        }\n      };\n      return h(\n        'div',\n        {\n          ref: 'sliderRef',\n          attrs: { tabIndex: '-1'\n          },\n          'class': sliderClassName,\n          on: {\n            'touchstart': disabled ? noop : this.onTouchStart,\n            'mousedown': disabled ? noop : this.onMouseDown,\n            'mouseup': disabled ? noop : this.onMouseUp,\n            'keydown': disabled ? noop : this.onKeyDown,\n            'focus': disabled ? noop : this.onFocus,\n            'blur': disabled ? noop : this.onBlur\n          }\n        },\n        [h('div', {\n          'class': prefixCls + '-rail',\n          style: _extends({}, maximumTrackStyle, railStyle)\n        }), tracks, h(Steps, {\n          attrs: {\n            prefixCls: prefixCls,\n            vertical: vertical,\n            reverse: reverse,\n            marks: marks,\n            dots: dots,\n            step: step,\n            included: included,\n            lowerBound: this.getLowerBound(),\n            upperBound: this.getUpperBound(),\n            max: max,\n            min: min,\n            dotStyle: dotStyle,\n            activeDotStyle: activeDotStyle\n          }\n        }), handles, h(Marks, markProps), this.$slots['default']]\n      );\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}