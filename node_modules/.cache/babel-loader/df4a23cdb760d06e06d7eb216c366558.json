{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport Icon from '../icon';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport omit from 'omit.js';\nimport Wave from '../_util/wave';\nimport { hasProp, getListeners, getOptionProps } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport warning from '../_util/warning';\nvar PresetColorTypes = ['pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime'];\nvar PresetColorRegex = new RegExp('^(' + PresetColorTypes.join('|') + ')(-inverse)?$');\nexport default {\n  name: 'ATag',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'visible',\n    event: 'close.visible'\n  },\n  props: {\n    prefixCls: PropTypes.string,\n    color: PropTypes.string,\n    closable: PropTypes.bool.def(false),\n    visible: PropTypes.bool,\n    afterClose: PropTypes.func\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    var _visible = true;\n    var props = getOptionProps(this);\n\n    if ('visible' in props) {\n      _visible = this.visible;\n    }\n\n    warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'close' event, we will remove this in the next version.\");\n    return {\n      _visible: _visible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.setState({\n        _visible: val\n      });\n    }\n  },\n  methods: {\n    setVisible: function setVisible(visible, e) {\n      this.$emit('close', e);\n      this.$emit('close.visible', false);\n      var afterClose = this.afterClose;\n\n      if (afterClose) {\n        // next version remove.\n        afterClose();\n      }\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!hasProp(this, 'visible')) {\n        this.setState({\n          _visible: visible\n        });\n      }\n    },\n    handleIconClick: function handleIconClick(e) {\n      e.stopPropagation();\n      this.setVisible(false, e);\n    },\n    isPresetColor: function isPresetColor() {\n      var color = this.$props.color;\n\n      if (!color) {\n        return false;\n      }\n\n      return PresetColorRegex.test(color);\n    },\n    getTagStyle: function getTagStyle() {\n      var color = this.$props.color;\n      var isPresetColor = this.isPresetColor();\n      return {\n        backgroundColor: color && !isPresetColor ? color : undefined\n      };\n    },\n    getTagClassName: function getTagClassName(prefixCls) {\n      var _ref;\n\n      var color = this.$props.color;\n      var isPresetColor = this.isPresetColor();\n      return _ref = {}, _defineProperty(_ref, prefixCls, true), _defineProperty(_ref, prefixCls + '-' + color, isPresetColor), _defineProperty(_ref, prefixCls + '-has-color', color && !isPresetColor), _ref;\n    },\n    renderCloseIcon: function renderCloseIcon() {\n      var h = this.$createElement;\n      var closable = this.$props.closable;\n      return closable ? h(Icon, {\n        attrs: {\n          type: 'close'\n        },\n        on: {\n          'click': this.handleIconClick\n        }\n      }) : null;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var customizePrefixCls = this.$props.prefixCls;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tag', customizePrefixCls);\n    var visible = this.$data._visible;\n    var tag = h('span', _mergeJSXProps([{\n      directives: [{\n        name: 'show',\n        value: visible\n      }]\n    }, {\n      on: omit(getListeners(this), ['close'])\n    }, {\n      'class': this.getTagClassName(prefixCls),\n      style: this.getTagStyle()\n    }]), [this.$slots['default'], this.renderCloseIcon()]);\n    var transitionProps = getTransitionProps(prefixCls + '-zoom', {\n      appear: false\n    });\n    return h(Wave, [h('transition', transitionProps, [tag])]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/tag/Tag.js"],"names":["_mergeJSXProps","_defineProperty","PropTypes","Icon","getTransitionProps","omit","Wave","hasProp","getListeners","getOptionProps","BaseMixin","ConfigConsumerProps","warning","PresetColorTypes","PresetColorRegex","RegExp","join","name","mixins","model","prop","event","props","prefixCls","string","color","closable","bool","def","visible","afterClose","func","inject","configProvider","_default","data","_visible","watch","val","setState","methods","setVisible","e","$emit","defaultPrevented","handleIconClick","stopPropagation","isPresetColor","$props","test","getTagStyle","backgroundColor","undefined","getTagClassName","_ref","renderCloseIcon","h","$createElement","attrs","type","on","render","arguments","customizePrefixCls","getPrefixCls","$data","tag","directives","value","style","$slots","transitionProps","appear"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport PropTypes from '../_util/vue-types';\nimport Icon from '../icon';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport omit from 'omit.js';\nimport Wave from '../_util/wave';\nimport { hasProp, getListeners, getOptionProps } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport warning from '../_util/warning';\n\nvar PresetColorTypes = ['pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime'];\nvar PresetColorRegex = new RegExp('^(' + PresetColorTypes.join('|') + ')(-inverse)?$');\n\nexport default {\n  name: 'ATag',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'visible',\n    event: 'close.visible'\n  },\n  props: {\n    prefixCls: PropTypes.string,\n    color: PropTypes.string,\n    closable: PropTypes.bool.def(false),\n    visible: PropTypes.bool,\n    afterClose: PropTypes.func\n  },\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    var _visible = true;\n    var props = getOptionProps(this);\n    if ('visible' in props) {\n      _visible = this.visible;\n    }\n    warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'close' event, we will remove this in the next version.\");\n    return {\n      _visible: _visible\n    };\n  },\n\n  watch: {\n    visible: function visible(val) {\n      this.setState({\n        _visible: val\n      });\n    }\n  },\n  methods: {\n    setVisible: function setVisible(visible, e) {\n      this.$emit('close', e);\n      this.$emit('close.visible', false);\n      var afterClose = this.afterClose;\n      if (afterClose) {\n        // next version remove.\n        afterClose();\n      }\n      if (e.defaultPrevented) {\n        return;\n      }\n      if (!hasProp(this, 'visible')) {\n        this.setState({ _visible: visible });\n      }\n    },\n    handleIconClick: function handleIconClick(e) {\n      e.stopPropagation();\n      this.setVisible(false, e);\n    },\n    isPresetColor: function isPresetColor() {\n      var color = this.$props.color;\n\n      if (!color) {\n        return false;\n      }\n      return PresetColorRegex.test(color);\n    },\n    getTagStyle: function getTagStyle() {\n      var color = this.$props.color;\n\n      var isPresetColor = this.isPresetColor();\n      return {\n        backgroundColor: color && !isPresetColor ? color : undefined\n      };\n    },\n    getTagClassName: function getTagClassName(prefixCls) {\n      var _ref;\n\n      var color = this.$props.color;\n\n      var isPresetColor = this.isPresetColor();\n      return _ref = {}, _defineProperty(_ref, prefixCls, true), _defineProperty(_ref, prefixCls + '-' + color, isPresetColor), _defineProperty(_ref, prefixCls + '-has-color', color && !isPresetColor), _ref;\n    },\n    renderCloseIcon: function renderCloseIcon() {\n      var h = this.$createElement;\n      var closable = this.$props.closable;\n\n      return closable ? h(Icon, {\n        attrs: { type: 'close' },\n        on: {\n          'click': this.handleIconClick\n        }\n      }) : null;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var customizePrefixCls = this.$props.prefixCls;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tag', customizePrefixCls);\n    var visible = this.$data._visible;\n\n    var tag = h(\n      'span',\n      _mergeJSXProps([{\n        directives: [{\n          name: 'show',\n          value: visible\n        }]\n      }, { on: omit(getListeners(this), ['close']) }, {\n        'class': this.getTagClassName(prefixCls),\n        style: this.getTagStyle()\n      }]),\n      [this.$slots['default'], this.renderCloseIcon()]\n    );\n    var transitionProps = getTransitionProps(prefixCls + '-zoom', {\n      appear: false\n    });\n    return h(Wave, [h(\n      'transition',\n      transitionProps,\n      [tag]\n    )]);\n  }\n};"]},"metadata":{},"sourceType":"module"}