{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\nimport { isValidElement, mergeProps } from '../../_util/props-util';\n\nfunction isInvalidRenderCellText(text) {\n  return text && !isValidElement(text) && Object.prototype.toString.call(text) === '[object Object]';\n}\n\nexport default {\n  name: 'TableCell',\n  props: {\n    record: PropTypes.object,\n    prefixCls: PropTypes.string,\n    index: PropTypes.number,\n    indent: PropTypes.number,\n    indentSize: PropTypes.number,\n    column: PropTypes.object,\n    expandIcon: PropTypes.any,\n    component: PropTypes.any\n  },\n  inject: {\n    table: {\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  methods: {\n    handleClick: function handleClick(e) {\n      var record = this.record,\n          onCellClick = this.column.onCellClick;\n\n      if (onCellClick) {\n        onCellClick(record, e);\n      }\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var h = arguments[0];\n    var record = this.record,\n        indentSize = this.indentSize,\n        prefixCls = this.prefixCls,\n        indent = this.indent,\n        index = this.index,\n        expandIcon = this.expandIcon,\n        column = this.column,\n        BodyCell = this.component;\n    var dataIndex = column.dataIndex,\n        customRender = column.customRender,\n        _column$className = column.className,\n        className = _column$className === undefined ? '' : _column$className;\n    var transformCellText = this.table.transformCellText; // We should return undefined if no dataIndex is specified, but in order to\n    // be compatible with object-path's behavior, we return the record object instead.\n\n    var text = void 0;\n\n    if (typeof dataIndex === 'number') {\n      text = get(record, dataIndex);\n    } else if (!dataIndex || dataIndex.length === 0) {\n      text = record;\n    } else {\n      text = get(record, dataIndex);\n    }\n\n    var tdProps = {\n      props: {},\n      attrs: {},\n      on: {\n        click: this.handleClick\n      }\n    };\n    var colSpan = void 0;\n    var rowSpan = void 0;\n\n    if (customRender) {\n      text = customRender(text, record, index, column);\n\n      if (isInvalidRenderCellText(text)) {\n        tdProps.attrs = text.attrs || {};\n        tdProps.props = text.props || {};\n        tdProps['class'] = text['class'];\n        tdProps.style = text.style;\n        colSpan = tdProps.attrs.colSpan;\n        rowSpan = tdProps.attrs.rowSpan;\n        text = text.children;\n      }\n    }\n\n    if (column.customCell) {\n      tdProps = mergeProps(tdProps, column.customCell(record, index));\n    } // Fix https://github.com/ant-design/ant-design/issues/1202\n\n\n    if (isInvalidRenderCellText(text)) {\n      text = null;\n    }\n\n    if (transformCellText) {\n      text = transformCellText({\n        text: text,\n        column: column,\n        record: record,\n        index: index\n      });\n    }\n\n    var indentText = expandIcon ? h('span', {\n      style: {\n        paddingLeft: indentSize * indent + 'px'\n      },\n      'class': prefixCls + '-indent indent-level-' + indent\n    }) : null;\n\n    if (rowSpan === 0 || colSpan === 0) {\n      return null;\n    }\n\n    if (column.align) {\n      tdProps.style = _extends({\n        textAlign: column.align\n      }, tdProps.style);\n    }\n\n    var cellClassName = classNames(className, column['class'], (_classNames = {}, _defineProperty(_classNames, prefixCls + '-cell-ellipsis', !!column.ellipsis), _defineProperty(_classNames, prefixCls + '-cell-break-word', !!column.width), _classNames));\n\n    if (column.ellipsis) {\n      if (typeof text === 'string') {\n        tdProps.attrs.title = text;\n      } else if (text) {// const { props: textProps } = text;\n        // if (textProps && textProps.children && typeof textProps.children === 'string') {\n        //   tdProps.attrs.title = textProps.children;\n        // }\n      }\n    }\n\n    return h(BodyCell, _mergeJSXProps([{\n      'class': cellClassName\n    }, tdProps]), [indentText, expandIcon, text]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-table/src/TableCell.js"],"names":["_mergeJSXProps","_defineProperty","_extends","PropTypes","get","classNames","isValidElement","mergeProps","isInvalidRenderCellText","text","Object","prototype","toString","call","name","props","record","object","prefixCls","string","index","number","indent","indentSize","column","expandIcon","any","component","inject","table","_default","methods","handleClick","e","onCellClick","render","_classNames","h","arguments","BodyCell","dataIndex","customRender","_column$className","className","undefined","transformCellText","length","tdProps","attrs","on","click","colSpan","rowSpan","style","children","customCell","indentText","paddingLeft","align","textAlign","cellClassName","ellipsis","width","title"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,kCAA3B;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,wBAA3C;;AAEA,SAASC,uBAAT,CAAiCC,IAAjC,EAAuC;AACrC,SAAOA,IAAI,IAAI,CAACH,cAAc,CAACG,IAAD,CAAvB,IAAiCC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,IAA/B,MAAyC,iBAAjF;AACD;;AAED,eAAe;AACbK,EAAAA,IAAI,EAAE,WADO;AAEbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAEb,SAAS,CAACc,MADb;AAELC,IAAAA,SAAS,EAAEf,SAAS,CAACgB,MAFhB;AAGLC,IAAAA,KAAK,EAAEjB,SAAS,CAACkB,MAHZ;AAILC,IAAAA,MAAM,EAAEnB,SAAS,CAACkB,MAJb;AAKLE,IAAAA,UAAU,EAAEpB,SAAS,CAACkB,MALjB;AAMLG,IAAAA,MAAM,EAAErB,SAAS,CAACc,MANb;AAOLQ,IAAAA,UAAU,EAAEtB,SAAS,CAACuB,GAPjB;AAQLC,IAAAA,SAAS,EAAExB,SAAS,CAACuB;AARhB,GAFM;AAYbE,EAAAA,MAAM,EAAE;AACNC,IAAAA,KAAK,EAAE;AAAE,iBAAW,SAASC,QAAT,GAAoB;AACpC,eAAO,EAAP;AACD;AAFI;AADD,GAZK;AAiBbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,CAArB,EAAwB;AACnC,UAAIjB,MAAM,GAAG,KAAKA,MAAlB;AAAA,UACIkB,WAAW,GAAG,KAAKV,MAAL,CAAYU,WAD9B;;AAGA,UAAIA,WAAJ,EAAiB;AACfA,QAAAA,WAAW,CAAClB,MAAD,EAASiB,CAAT,CAAX;AACD;AACF;AARM,GAjBI;AA4BbE,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,WAAJ;;AAEA,QAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;AACA,QAAItB,MAAM,GAAG,KAAKA,MAAlB;AAAA,QACIO,UAAU,GAAG,KAAKA,UADtB;AAAA,QAEIL,SAAS,GAAG,KAAKA,SAFrB;AAAA,QAGII,MAAM,GAAG,KAAKA,MAHlB;AAAA,QAIIF,KAAK,GAAG,KAAKA,KAJjB;AAAA,QAKIK,UAAU,GAAG,KAAKA,UALtB;AAAA,QAMID,MAAM,GAAG,KAAKA,MANlB;AAAA,QAOIe,QAAQ,GAAG,KAAKZ,SAPpB;AAQA,QAAIa,SAAS,GAAGhB,MAAM,CAACgB,SAAvB;AAAA,QACIC,YAAY,GAAGjB,MAAM,CAACiB,YAD1B;AAAA,QAEIC,iBAAiB,GAAGlB,MAAM,CAACmB,SAF/B;AAAA,QAGIA,SAAS,GAAGD,iBAAiB,KAAKE,SAAtB,GAAkC,EAAlC,GAAuCF,iBAHvD;AAIA,QAAIG,iBAAiB,GAAG,KAAKhB,KAAL,CAAWgB,iBAAnC,CAhBwB,CAiBxB;AACA;;AAEA,QAAIpC,IAAI,GAAG,KAAK,CAAhB;;AACA,QAAI,OAAO+B,SAAP,KAAqB,QAAzB,EAAmC;AACjC/B,MAAAA,IAAI,GAAGL,GAAG,CAACY,MAAD,EAASwB,SAAT,CAAV;AACD,KAFD,MAEO,IAAI,CAACA,SAAD,IAAcA,SAAS,CAACM,MAAV,KAAqB,CAAvC,EAA0C;AAC/CrC,MAAAA,IAAI,GAAGO,MAAP;AACD,KAFM,MAEA;AACLP,MAAAA,IAAI,GAAGL,GAAG,CAACY,MAAD,EAASwB,SAAT,CAAV;AACD;;AACD,QAAIO,OAAO,GAAG;AACZhC,MAAAA,KAAK,EAAE,EADK;AAEZiC,MAAAA,KAAK,EAAE,EAFK;AAGZC,MAAAA,EAAE,EAAE;AACFC,QAAAA,KAAK,EAAE,KAAKlB;AADV;AAHQ,KAAd;AAOA,QAAImB,OAAO,GAAG,KAAK,CAAnB;AACA,QAAIC,OAAO,GAAG,KAAK,CAAnB;;AAEA,QAAIX,YAAJ,EAAkB;AAChBhC,MAAAA,IAAI,GAAGgC,YAAY,CAAChC,IAAD,EAAOO,MAAP,EAAeI,KAAf,EAAsBI,MAAtB,CAAnB;;AACA,UAAIhB,uBAAuB,CAACC,IAAD,CAA3B,EAAmC;AACjCsC,QAAAA,OAAO,CAACC,KAAR,GAAgBvC,IAAI,CAACuC,KAAL,IAAc,EAA9B;AACAD,QAAAA,OAAO,CAAChC,KAAR,GAAgBN,IAAI,CAACM,KAAL,IAAc,EAA9B;AACAgC,QAAAA,OAAO,CAAC,OAAD,CAAP,GAAmBtC,IAAI,CAAC,OAAD,CAAvB;AACAsC,QAAAA,OAAO,CAACM,KAAR,GAAgB5C,IAAI,CAAC4C,KAArB;AACAF,QAAAA,OAAO,GAAGJ,OAAO,CAACC,KAAR,CAAcG,OAAxB;AACAC,QAAAA,OAAO,GAAGL,OAAO,CAACC,KAAR,CAAcI,OAAxB;AACA3C,QAAAA,IAAI,GAAGA,IAAI,CAAC6C,QAAZ;AACD;AACF;;AAED,QAAI9B,MAAM,CAAC+B,UAAX,EAAuB;AACrBR,MAAAA,OAAO,GAAGxC,UAAU,CAACwC,OAAD,EAAUvB,MAAM,CAAC+B,UAAP,CAAkBvC,MAAlB,EAA0BI,KAA1B,CAAV,CAApB;AACD,KArDuB,CAuDxB;;;AACA,QAAIZ,uBAAuB,CAACC,IAAD,CAA3B,EAAmC;AACjCA,MAAAA,IAAI,GAAG,IAAP;AACD;;AAED,QAAIoC,iBAAJ,EAAuB;AACrBpC,MAAAA,IAAI,GAAGoC,iBAAiB,CAAC;AAAEpC,QAAAA,IAAI,EAAEA,IAAR;AAAce,QAAAA,MAAM,EAAEA,MAAtB;AAA8BR,QAAAA,MAAM,EAAEA,MAAtC;AAA8CI,QAAAA,KAAK,EAAEA;AAArD,OAAD,CAAxB;AACD;;AAED,QAAIoC,UAAU,GAAG/B,UAAU,GAAGY,CAAC,CAAC,MAAD,EAAS;AACtCgB,MAAAA,KAAK,EAAE;AAAEI,QAAAA,WAAW,EAAElC,UAAU,GAAGD,MAAb,GAAsB;AAArC,OAD+B;AAEtC,eAASJ,SAAS,GAAG,uBAAZ,GAAsCI;AAFT,KAAT,CAAJ,GAGtB,IAHL;;AAKA,QAAI8B,OAAO,KAAK,CAAZ,IAAiBD,OAAO,KAAK,CAAjC,EAAoC;AAClC,aAAO,IAAP;AACD;;AACD,QAAI3B,MAAM,CAACkC,KAAX,EAAkB;AAChBX,MAAAA,OAAO,CAACM,KAAR,GAAgBnD,QAAQ,CAAC;AAAEyD,QAAAA,SAAS,EAAEnC,MAAM,CAACkC;AAApB,OAAD,EAA8BX,OAAO,CAACM,KAAtC,CAAxB;AACD;;AAED,QAAIO,aAAa,GAAGvD,UAAU,CAACsC,SAAD,EAAYnB,MAAM,CAAC,OAAD,CAAlB,GAA8BY,WAAW,GAAG,EAAd,EAAkBnC,eAAe,CAACmC,WAAD,EAAclB,SAAS,GAAG,gBAA1B,EAA4C,CAAC,CAACM,MAAM,CAACqC,QAArD,CAAjC,EAAiG5D,eAAe,CAACmC,WAAD,EAAclB,SAAS,GAAG,kBAA1B,EAA8C,CAAC,CAACM,MAAM,CAACsC,KAAvD,CAAhH,EAA+K1B,WAA7M,EAA9B;;AAEA,QAAIZ,MAAM,CAACqC,QAAX,EAAqB;AACnB,UAAI,OAAOpD,IAAP,KAAgB,QAApB,EAA8B;AAC5BsC,QAAAA,OAAO,CAACC,KAAR,CAAce,KAAd,GAAsBtD,IAAtB;AACD,OAFD,MAEO,IAAIA,IAAJ,EAAU,CACf;AACA;AACA;AACA;AACD;AACF;;AAED,WAAO4B,CAAC,CACNE,QADM,EAENvC,cAAc,CAAC,CAAC;AAAE,eAAS4D;AAAX,KAAD,EAA6Bb,OAA7B,CAAD,CAFR,EAGN,CAACS,UAAD,EAAa/B,UAAb,EAAyBhB,IAAzB,CAHM,CAAR;AAKD;AA1HY,CAAf","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\nimport { isValidElement, mergeProps } from '../../_util/props-util';\n\nfunction isInvalidRenderCellText(text) {\n  return text && !isValidElement(text) && Object.prototype.toString.call(text) === '[object Object]';\n}\n\nexport default {\n  name: 'TableCell',\n  props: {\n    record: PropTypes.object,\n    prefixCls: PropTypes.string,\n    index: PropTypes.number,\n    indent: PropTypes.number,\n    indentSize: PropTypes.number,\n    column: PropTypes.object,\n    expandIcon: PropTypes.any,\n    component: PropTypes.any\n  },\n  inject: {\n    table: { 'default': function _default() {\n        return {};\n      } }\n  },\n  methods: {\n    handleClick: function handleClick(e) {\n      var record = this.record,\n          onCellClick = this.column.onCellClick;\n\n      if (onCellClick) {\n        onCellClick(record, e);\n      }\n    }\n  },\n\n  render: function render() {\n    var _classNames;\n\n    var h = arguments[0];\n    var record = this.record,\n        indentSize = this.indentSize,\n        prefixCls = this.prefixCls,\n        indent = this.indent,\n        index = this.index,\n        expandIcon = this.expandIcon,\n        column = this.column,\n        BodyCell = this.component;\n    var dataIndex = column.dataIndex,\n        customRender = column.customRender,\n        _column$className = column.className,\n        className = _column$className === undefined ? '' : _column$className;\n    var transformCellText = this.table.transformCellText;\n    // We should return undefined if no dataIndex is specified, but in order to\n    // be compatible with object-path's behavior, we return the record object instead.\n\n    var text = void 0;\n    if (typeof dataIndex === 'number') {\n      text = get(record, dataIndex);\n    } else if (!dataIndex || dataIndex.length === 0) {\n      text = record;\n    } else {\n      text = get(record, dataIndex);\n    }\n    var tdProps = {\n      props: {},\n      attrs: {},\n      on: {\n        click: this.handleClick\n      }\n    };\n    var colSpan = void 0;\n    var rowSpan = void 0;\n\n    if (customRender) {\n      text = customRender(text, record, index, column);\n      if (isInvalidRenderCellText(text)) {\n        tdProps.attrs = text.attrs || {};\n        tdProps.props = text.props || {};\n        tdProps['class'] = text['class'];\n        tdProps.style = text.style;\n        colSpan = tdProps.attrs.colSpan;\n        rowSpan = tdProps.attrs.rowSpan;\n        text = text.children;\n      }\n    }\n\n    if (column.customCell) {\n      tdProps = mergeProps(tdProps, column.customCell(record, index));\n    }\n\n    // Fix https://github.com/ant-design/ant-design/issues/1202\n    if (isInvalidRenderCellText(text)) {\n      text = null;\n    }\n\n    if (transformCellText) {\n      text = transformCellText({ text: text, column: column, record: record, index: index });\n    }\n\n    var indentText = expandIcon ? h('span', {\n      style: { paddingLeft: indentSize * indent + 'px' },\n      'class': prefixCls + '-indent indent-level-' + indent\n    }) : null;\n\n    if (rowSpan === 0 || colSpan === 0) {\n      return null;\n    }\n    if (column.align) {\n      tdProps.style = _extends({ textAlign: column.align }, tdProps.style);\n    }\n\n    var cellClassName = classNames(className, column['class'], (_classNames = {}, _defineProperty(_classNames, prefixCls + '-cell-ellipsis', !!column.ellipsis), _defineProperty(_classNames, prefixCls + '-cell-break-word', !!column.width), _classNames));\n\n    if (column.ellipsis) {\n      if (typeof text === 'string') {\n        tdProps.attrs.title = text;\n      } else if (text) {\n        // const { props: textProps } = text;\n        // if (textProps && textProps.children && typeof textProps.children === 'string') {\n        //   tdProps.attrs.title = textProps.children;\n        // }\n      }\n    }\n\n    return h(\n      BodyCell,\n      _mergeJSXProps([{ 'class': cellClassName }, tdProps]),\n      [indentText, expandIcon, text]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}