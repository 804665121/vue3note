{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var directiveName = options.name || \"ref\";\n    Vue.directive(directiveName, {\n      bind: function bind(el, binding, vnode) {\n        Vue.nextTick(function () {\n          binding.value(vnode.componentInstance || el, vnode.key);\n        });\n        binding.value(vnode.componentInstance || el, vnode.key);\n      },\n      update: function update(el, binding, vnode, oldVnode) {\n        if (oldVnode.data && oldVnode.data.directives) {\n          var oldBinding = oldVnode.data.directives.find(function (directive) {\n            var name = directive.name;\n            return name === directiveName;\n          });\n\n          if (oldBinding && oldBinding.value !== binding.value) {\n            oldBinding && oldBinding.value(null, oldVnode.key);\n            binding.value(vnode.componentInstance || el, vnode.key);\n            return;\n          }\n        } // Should not have this situation\n\n\n        if (vnode.componentInstance !== oldVnode.componentInstance || vnode.elm !== oldVnode.elm) {\n          binding.value(vnode.componentInstance || el, vnode.key);\n        }\n      },\n      unbind: function unbind(el, binding, vnode) {\n        binding.value(null, vnode.key);\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/vue-ref/index.js"],"names":["Object","defineProperty","exports","value","default","install","Vue","options","arguments","length","undefined","directiveName","name","directive","bind","el","binding","vnode","nextTick","componentInstance","key","update","oldVnode","data","directives","oldBinding","find","elm","unbind"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB;AAChBC,EAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAC7B,QAAIC,OAAO,GACTC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EADtE;AAEA,QAAIG,aAAa,GAAGJ,OAAO,CAACK,IAAR,IAAgB,KAApC;AACAN,IAAAA,GAAG,CAACO,SAAJ,CAAcF,aAAd,EAA6B;AAC3BG,MAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,EAAd,EAAkBC,OAAlB,EAA2BC,KAA3B,EAAkC;AACtCX,QAAAA,GAAG,CAACY,QAAJ,CAAa,YAAW;AACtBF,UAAAA,OAAO,CAACb,KAAR,CAAcc,KAAK,CAACE,iBAAN,IAA2BJ,EAAzC,EAA6CE,KAAK,CAACG,GAAnD;AACD,SAFD;AAGAJ,QAAAA,OAAO,CAACb,KAAR,CAAcc,KAAK,CAACE,iBAAN,IAA2BJ,EAAzC,EAA6CE,KAAK,CAACG,GAAnD;AACD,OAN0B;AAO3BC,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBN,EAAhB,EAAoBC,OAApB,EAA6BC,KAA7B,EAAoCK,QAApC,EAA8C;AACpD,YAAIA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,CAAcC,UAAnC,EAA+C;AAC7C,cAAIC,UAAU,GAAGH,QAAQ,CAACC,IAAT,CAAcC,UAAd,CAAyBE,IAAzB,CAA8B,UAASb,SAAT,EAAoB;AACjE,gBAAID,IAAI,GAAGC,SAAS,CAACD,IAArB;AACA,mBAAOA,IAAI,KAAKD,aAAhB;AACD,WAHgB,CAAjB;;AAIA,cAAIc,UAAU,IAAIA,UAAU,CAACtB,KAAX,KAAqBa,OAAO,CAACb,KAA/C,EAAsD;AACpDsB,YAAAA,UAAU,IAAIA,UAAU,CAACtB,KAAX,CAAiB,IAAjB,EAAuBmB,QAAQ,CAACF,GAAhC,CAAd;AACAJ,YAAAA,OAAO,CAACb,KAAR,CAAcc,KAAK,CAACE,iBAAN,IAA2BJ,EAAzC,EAA6CE,KAAK,CAACG,GAAnD;AACA;AACD;AACF,SAXmD,CAYpD;;;AACA,YACEH,KAAK,CAACE,iBAAN,KAA4BG,QAAQ,CAACH,iBAArC,IACAF,KAAK,CAACU,GAAN,KAAcL,QAAQ,CAACK,GAFzB,EAGE;AACAX,UAAAA,OAAO,CAACb,KAAR,CAAcc,KAAK,CAACE,iBAAN,IAA2BJ,EAAzC,EAA6CE,KAAK,CAACG,GAAnD;AACD;AACF,OA1B0B;AA2B3BQ,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBb,EAAhB,EAAoBC,OAApB,EAA6BC,KAA7B,EAAoC;AAC1CD,QAAAA,OAAO,CAACb,KAAR,CAAc,IAAd,EAAoBc,KAAK,CAACG,GAA1B;AACD;AA7B0B,KAA7B;AA+BD;AApCe,CAAlB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  install: function install(Vue) {\n    var options =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var directiveName = options.name || \"ref\";\n    Vue.directive(directiveName, {\n      bind: function bind(el, binding, vnode) {\n        Vue.nextTick(function() {\n          binding.value(vnode.componentInstance || el, vnode.key);\n        });\n        binding.value(vnode.componentInstance || el, vnode.key);\n      },\n      update: function update(el, binding, vnode, oldVnode) {\n        if (oldVnode.data && oldVnode.data.directives) {\n          var oldBinding = oldVnode.data.directives.find(function(directive) {\n            var name = directive.name;\n            return name === directiveName;\n          });\n          if (oldBinding && oldBinding.value !== binding.value) {\n            oldBinding && oldBinding.value(null, oldVnode.key);\n            binding.value(vnode.componentInstance || el, vnode.key);\n            return;\n          }\n        }\n        // Should not have this situation\n        if (\n          vnode.componentInstance !== oldVnode.componentInstance ||\n          vnode.elm !== oldVnode.elm\n        ) {\n          binding.value(vnode.componentInstance || el, vnode.key);\n        }\n      },\n      unbind: function unbind(el, binding, vnode) {\n        binding.value(null, vnode.key);\n      }\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"script"}