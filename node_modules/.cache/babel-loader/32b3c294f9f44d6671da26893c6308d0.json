{"ast":null,"code":"import _typeof from 'babel-runtime/helpers/typeof'; // https://github.com/yiminghe/css-animation 1.5.0\n\nimport Event from './Event';\nimport classes from 'component-classes';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../requestAnimationTimeout';\nvar isCssAnimationSupported = Event.endEvents.length !== 0;\nvar capitalPrefixes = ['Webkit', 'Moz', 'O', // ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n\n    if (ret) {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay); // sometimes, browser bug\n\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\n  var end = endCallback;\n  var start = void 0;\n  var active = void 0;\n  var nodeClasses = classes(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      cancelAnimationTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null; // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n\n    if (end) {\n      end();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n\n  nodeClasses.add(className);\n  node.rcAnimTimeout = requestAnimationTimeout(function () {\n    node.rcAnimTimeout = null;\n    nodeClasses.add(className);\n    nodeClasses.add(activeClassName);\n\n    if (active) {\n      requestAnimationTimeout(active, 0);\n    }\n\n    fixBrowserByTimeout(node); // 30ms for firefox\n  }, 30);\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      cancelAnimationTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null; // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n\n    if (callback) {\n      callback();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n  node.rcAnimTimeout = requestAnimationTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[prefix + 'Transition' + property] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\nexport { isCssAnimationSupported };\nexport default cssAnimation;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/_util/css-animation/index.js"],"names":["_typeof","Event","classes","requestAnimationTimeout","cancelAnimationTimeout","isCssAnimationSupported","endEvents","length","capitalPrefixes","prefixes","getStyleProperty","node","name","style","window","getComputedStyle","ret","i","getPropertyValue","fixBrowserByTimeout","transitionDelay","parseFloat","transitionDuration","animationDelay","animationDuration","time","Math","max","rcEndAnimTimeout","setTimeout","rcEndListener","clearBrowserBugTimeout","clearTimeout","cssAnimation","transitionName","endCallback","nameIsObj","className","activeClassName","active","end","start","nodeClasses","Object","prototype","toString","call","e","target","rcAnimTimeout","remove","removeEndEventListener","addEndEventListener","add","stop","callback","s","hasOwnProperty","setTransition","p","value","property","v","undefined","forEach","prefix"],"mappings":"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","sourcesContent":["import _typeof from 'babel-runtime/helpers/typeof';\n// https://github.com/yiminghe/css-animation 1.5.0\n\nimport Event from './Event';\nimport classes from 'component-classes';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../requestAnimationTimeout';\n\nvar isCssAnimationSupported = Event.endEvents.length !== 0;\nvar capitalPrefixes = ['Webkit', 'Moz', 'O',\n// ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n    // sometimes, browser bug\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\n  var end = endCallback;\n  var start = void 0;\n  var active = void 0;\n  var nodeClasses = classes(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      cancelAnimationTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (end) {\n      end();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n  nodeClasses.add(className);\n\n  node.rcAnimTimeout = requestAnimationTimeout(function () {\n    node.rcAnimTimeout = null;\n\n    nodeClasses.add(className);\n    nodeClasses.add(activeClassName);\n\n    if (active) {\n      requestAnimationTimeout(active, 0);\n    }\n    fixBrowserByTimeout(node);\n    // 30ms for firefox\n  }, 30);\n\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      cancelAnimationTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (callback) {\n      callback();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  node.rcAnimTimeout = requestAnimationTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[prefix + 'Transition' + property] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\n\nexport { isCssAnimationSupported };\n\nexport default cssAnimation;"]},"metadata":{},"sourceType":"module"}