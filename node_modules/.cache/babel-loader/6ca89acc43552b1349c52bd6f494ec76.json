{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport PropTypes from '../../_util/vue-types';\nimport Trigger from '../../vc-trigger';\nimport placements from './placements';\nimport { hasProp, getEvents, getOptionProps } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { cloneElement } from '../../_util/vnode';\nexport default {\n  mixins: [BaseMixin],\n  props: {\n    minOverlayWidthMatchTrigger: PropTypes.bool,\n    prefixCls: PropTypes.string.def('rc-dropdown'),\n    transitionName: PropTypes.string,\n    overlayClassName: PropTypes.string.def(''),\n    openClassName: PropTypes.string,\n    animation: PropTypes.any,\n    align: PropTypes.object,\n    overlayStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    placement: PropTypes.string.def('bottomLeft'),\n    overlay: PropTypes.any,\n    trigger: PropTypes.array.def(['hover']),\n    alignPoint: PropTypes.bool,\n    showAction: PropTypes.array.def([]),\n    hideAction: PropTypes.array.def([]),\n    getPopupContainer: PropTypes.func,\n    visible: PropTypes.bool,\n    defaultVisible: PropTypes.bool.def(false),\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1)\n  },\n  data: function data() {\n    var sVisible = this.defaultVisible;\n\n    if (hasProp(this, 'visible')) {\n      sVisible = this.visible;\n    }\n\n    return {\n      sVisible: sVisible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      if (val !== undefined) {\n        this.setState({\n          sVisible: val\n        });\n      }\n    }\n  },\n  methods: {\n    onClick: function onClick(e) {\n      // do no call onVisibleChange, if you need click to hide, use onClick and control visible\n      if (!hasProp(this, 'visible')) {\n        this.setState({\n          sVisible: false\n        });\n      }\n\n      this.$emit('overlayClick', e);\n\n      if (this.childOriginEvents.click) {\n        this.childOriginEvents.click(e);\n      }\n    },\n    onVisibleChange: function onVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.setState({\n          sVisible: visible\n        });\n      }\n\n      this.__emit('visibleChange', visible);\n    },\n    getMinOverlayWidthMatchTrigger: function getMinOverlayWidthMatchTrigger() {\n      var props = getOptionProps(this);\n      var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n          alignPoint = props.alignPoint;\n\n      if ('minOverlayWidthMatchTrigger' in props) {\n        return minOverlayWidthMatchTrigger;\n      }\n\n      return !alignPoint;\n    },\n    getOverlayElement: function getOverlayElement() {\n      var overlay = this.overlay || this.$slots.overlay || this.$scopedSlots.overlay;\n      var overlayElement = void 0;\n\n      if (typeof overlay === 'function') {\n        overlayElement = overlay();\n      } else {\n        overlayElement = overlay;\n      }\n\n      return overlayElement;\n    },\n    getMenuElement: function getMenuElement() {\n      var _this = this;\n\n      var onClick = this.onClick,\n          prefixCls = this.prefixCls,\n          $slots = this.$slots;\n      this.childOriginEvents = getEvents($slots.overlay[0]);\n      var overlayElement = this.getOverlayElement();\n      var extraOverlayProps = {\n        props: {\n          prefixCls: prefixCls + '-menu',\n          getPopupContainer: function getPopupContainer() {\n            return _this.getPopupDomNode();\n          }\n        },\n        on: {\n          click: onClick\n        }\n      };\n\n      if (typeof overlayElement.type === 'string') {\n        delete extraOverlayProps.props.prefixCls;\n      }\n\n      return cloneElement($slots.overlay[0], extraOverlayProps);\n    },\n    getMenuElementOrLambda: function getMenuElementOrLambda() {\n      var overlay = this.overlay || this.$slots.overlay || this.$scopedSlots.overlay;\n\n      if (typeof overlay === 'function') {\n        return this.getMenuElement;\n      }\n\n      return this.getMenuElement();\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.trigger.getPopupDomNode();\n    },\n    getOpenClassName: function getOpenClassName() {\n      var _$props = this.$props,\n          openClassName = _$props.openClassName,\n          prefixCls = _$props.prefixCls;\n\n      if (openClassName !== undefined) {\n        return openClassName;\n      }\n\n      return prefixCls + '-open';\n    },\n    afterVisibleChange: function afterVisibleChange(visible) {\n      if (visible && this.getMinOverlayWidthMatchTrigger()) {\n        var overlayNode = this.getPopupDomNode();\n        var rootNode = this.$el;\n\n        if (rootNode && overlayNode && rootNode.offsetWidth > overlayNode.offsetWidth) {\n          overlayNode.style.minWidth = rootNode.offsetWidth + 'px';\n\n          if (this.$refs.trigger && this.$refs.trigger._component && this.$refs.trigger._component.$refs && this.$refs.trigger._component.$refs.alignInstance) {\n            this.$refs.trigger._component.$refs.alignInstance.forceAlign();\n          }\n        }\n      }\n    },\n    renderChildren: function renderChildren() {\n      var children = this.$slots['default'] && this.$slots['default'][0];\n      var sVisible = this.sVisible;\n      return sVisible && children ? cloneElement(children, {\n        'class': this.getOpenClassName()\n      }) : children;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    var _$props2 = this.$props,\n        prefixCls = _$props2.prefixCls,\n        transitionName = _$props2.transitionName,\n        animation = _$props2.animation,\n        align = _$props2.align,\n        placement = _$props2.placement,\n        getPopupContainer = _$props2.getPopupContainer,\n        showAction = _$props2.showAction,\n        hideAction = _$props2.hideAction,\n        overlayClassName = _$props2.overlayClassName,\n        overlayStyle = _$props2.overlayStyle,\n        trigger = _$props2.trigger,\n        otherProps = _objectWithoutProperties(_$props2, ['prefixCls', 'transitionName', 'animation', 'align', 'placement', 'getPopupContainer', 'showAction', 'hideAction', 'overlayClassName', 'overlayStyle', 'trigger']);\n\n    var triggerHideAction = hideAction;\n\n    if (!triggerHideAction && trigger.indexOf('contextmenu') !== -1) {\n      triggerHideAction = ['click'];\n    }\n\n    var triggerProps = {\n      props: _extends({}, otherProps, {\n        prefixCls: prefixCls,\n        popupClassName: overlayClassName,\n        popupStyle: overlayStyle,\n        builtinPlacements: placements,\n        action: trigger,\n        showAction: showAction,\n        hideAction: triggerHideAction || [],\n        popupPlacement: placement,\n        popupAlign: align,\n        popupTransitionName: transitionName,\n        popupAnimation: animation,\n        popupVisible: this.sVisible,\n        afterPopupVisibleChange: this.afterVisibleChange,\n        getPopupContainer: getPopupContainer\n      }),\n      on: {\n        popupVisibleChange: this.onVisibleChange\n      },\n      ref: 'trigger'\n    };\n    return h(Trigger, triggerProps, [this.renderChildren(), h('template', {\n      slot: 'popup'\n    }, [this.$slots.overlay && this.getMenuElement()])]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-dropdown/src/Dropdown.js"],"names":["_extends","_objectWithoutProperties","PropTypes","Trigger","placements","hasProp","getEvents","getOptionProps","BaseMixin","cloneElement","mixins","props","minOverlayWidthMatchTrigger","bool","prefixCls","string","def","transitionName","overlayClassName","openClassName","animation","any","align","object","overlayStyle","placement","overlay","trigger","array","alignPoint","showAction","hideAction","getPopupContainer","func","visible","defaultVisible","mouseEnterDelay","number","mouseLeaveDelay","data","sVisible","watch","val","undefined","setState","methods","onClick","e","$emit","childOriginEvents","click","onVisibleChange","__emit","getMinOverlayWidthMatchTrigger","getOverlayElement","$slots","$scopedSlots","overlayElement","getMenuElement","_this","extraOverlayProps","getPopupDomNode","on","type","getMenuElementOrLambda","$refs","getOpenClassName","_$props","$props","afterVisibleChange","overlayNode","rootNode","$el","offsetWidth","style","minWidth","_component","alignInstance","forceAlign","renderChildren","children","render","h","arguments","_$props2","otherProps","triggerHideAction","indexOf","triggerProps","popupClassName","popupStyle","builtinPlacements","action","popupPlacement","popupAlign","popupTransitionName","popupAnimation","popupVisible","afterPopupVisibleChange","popupVisibleChange","ref","slot"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,OAAOC,wBAAP,MAAqC,+CAArC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,OAAT,EAAkBC,SAAlB,EAA6BC,cAA7B,QAAmD,wBAAnD;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AAEA,eAAe;AACbC,EAAAA,MAAM,EAAE,CAACF,SAAD,CADK;AAEbG,EAAAA,KAAK,EAAE;AACLC,IAAAA,2BAA2B,EAAEV,SAAS,CAACW,IADlC;AAELC,IAAAA,SAAS,EAAEZ,SAAS,CAACa,MAAV,CAAiBC,GAAjB,CAAqB,aAArB,CAFN;AAGLC,IAAAA,cAAc,EAAEf,SAAS,CAACa,MAHrB;AAILG,IAAAA,gBAAgB,EAAEhB,SAAS,CAACa,MAAV,CAAiBC,GAAjB,CAAqB,EAArB,CAJb;AAKLG,IAAAA,aAAa,EAAEjB,SAAS,CAACa,MALpB;AAMLK,IAAAA,SAAS,EAAElB,SAAS,CAACmB,GANhB;AAOLC,IAAAA,KAAK,EAAEpB,SAAS,CAACqB,MAPZ;AAQLC,IAAAA,YAAY,EAAEtB,SAAS,CAACqB,MAAV,CAAiBP,GAAjB,CAAqB,YAAY;AAC7C,aAAO,EAAP;AACD,KAFa,CART;AAWLS,IAAAA,SAAS,EAAEvB,SAAS,CAACa,MAAV,CAAiBC,GAAjB,CAAqB,YAArB,CAXN;AAYLU,IAAAA,OAAO,EAAExB,SAAS,CAACmB,GAZd;AAaLM,IAAAA,OAAO,EAAEzB,SAAS,CAAC0B,KAAV,CAAgBZ,GAAhB,CAAoB,CAAC,OAAD,CAApB,CAbJ;AAcLa,IAAAA,UAAU,EAAE3B,SAAS,CAACW,IAdjB;AAeLiB,IAAAA,UAAU,EAAE5B,SAAS,CAAC0B,KAAV,CAAgBZ,GAAhB,CAAoB,EAApB,CAfP;AAgBLe,IAAAA,UAAU,EAAE7B,SAAS,CAAC0B,KAAV,CAAgBZ,GAAhB,CAAoB,EAApB,CAhBP;AAiBLgB,IAAAA,iBAAiB,EAAE9B,SAAS,CAAC+B,IAjBxB;AAkBLC,IAAAA,OAAO,EAAEhC,SAAS,CAACW,IAlBd;AAmBLsB,IAAAA,cAAc,EAAEjC,SAAS,CAACW,IAAV,CAAeG,GAAf,CAAmB,KAAnB,CAnBX;AAoBLoB,IAAAA,eAAe,EAAElC,SAAS,CAACmC,MAAV,CAAiBrB,GAAjB,CAAqB,IAArB,CApBZ;AAqBLsB,IAAAA,eAAe,EAAEpC,SAAS,CAACmC,MAAV,CAAiBrB,GAAjB,CAAqB,GAArB;AArBZ,GAFM;AAyBbuB,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,QAAIC,QAAQ,GAAG,KAAKL,cAApB;;AACA,QAAI9B,OAAO,CAAC,IAAD,EAAO,SAAP,CAAX,EAA8B;AAC5BmC,MAAAA,QAAQ,GAAG,KAAKN,OAAhB;AACD;;AACD,WAAO;AACLM,MAAAA,QAAQ,EAAEA;AADL,KAAP;AAGD,GAjCY;AAmCbC,EAAAA,KAAK,EAAE;AACLP,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBQ,GAAjB,EAAsB;AAC7B,UAAIA,GAAG,KAAKC,SAAZ,EAAuB;AACrB,aAAKC,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAEE;AADE,SAAd;AAGD;AACF;AAPI,GAnCM;AA4CbG,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,CAAjB,EAAoB;AAC3B;AACA,UAAI,CAAC1C,OAAO,CAAC,IAAD,EAAO,SAAP,CAAZ,EAA+B;AAC7B,aAAKuC,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD;;AACD,WAAKQ,KAAL,CAAW,cAAX,EAA2BD,CAA3B;;AACA,UAAI,KAAKE,iBAAL,CAAuBC,KAA3B,EAAkC;AAChC,aAAKD,iBAAL,CAAuBC,KAAvB,CAA6BH,CAA7B;AACD;AACF,KAZM;AAaPI,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBjB,OAAzB,EAAkC;AACjD,UAAI,CAAC7B,OAAO,CAAC,IAAD,EAAO,SAAP,CAAZ,EAA+B;AAC7B,aAAKuC,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAEN;AADE,SAAd;AAGD;;AACD,WAAKkB,MAAL,CAAY,eAAZ,EAA6BlB,OAA7B;AACD,KApBM;AAqBPmB,IAAAA,8BAA8B,EAAE,SAASA,8BAAT,GAA0C;AACxE,UAAI1C,KAAK,GAAGJ,cAAc,CAAC,IAAD,CAA1B;AACA,UAAIK,2BAA2B,GAAGD,KAAK,CAACC,2BAAxC;AAAA,UACIiB,UAAU,GAAGlB,KAAK,CAACkB,UADvB;;AAGA,UAAI,iCAAiClB,KAArC,EAA4C;AAC1C,eAAOC,2BAAP;AACD;;AAED,aAAO,CAACiB,UAAR;AACD,KA/BM;AAgCPyB,IAAAA,iBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,UAAI5B,OAAO,GAAG,KAAKA,OAAL,IAAgB,KAAK6B,MAAL,CAAY7B,OAA5B,IAAuC,KAAK8B,YAAL,CAAkB9B,OAAvE;AACA,UAAI+B,cAAc,GAAG,KAAK,CAA1B;;AACA,UAAI,OAAO/B,OAAP,KAAmB,UAAvB,EAAmC;AACjC+B,QAAAA,cAAc,GAAG/B,OAAO,EAAxB;AACD,OAFD,MAEO;AACL+B,QAAAA,cAAc,GAAG/B,OAAjB;AACD;;AACD,aAAO+B,cAAP;AACD,KAzCM;AA0CPC,IAAAA,cAAc,EAAE,SAASA,cAAT,GAA0B;AACxC,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIb,OAAO,GAAG,KAAKA,OAAnB;AAAA,UACIhC,SAAS,GAAG,KAAKA,SADrB;AAAA,UAEIyC,MAAM,GAAG,KAAKA,MAFlB;AAIA,WAAKN,iBAAL,GAAyB3C,SAAS,CAACiD,MAAM,CAAC7B,OAAP,CAAe,CAAf,CAAD,CAAlC;AACA,UAAI+B,cAAc,GAAG,KAAKH,iBAAL,EAArB;AACA,UAAIM,iBAAiB,GAAG;AACtBjD,QAAAA,KAAK,EAAE;AACLG,UAAAA,SAAS,EAAEA,SAAS,GAAG,OADlB;AAELkB,UAAAA,iBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,mBAAO2B,KAAK,CAACE,eAAN,EAAP;AACD;AAJI,SADe;AAOtBC,QAAAA,EAAE,EAAE;AACFZ,UAAAA,KAAK,EAAEJ;AADL;AAPkB,OAAxB;;AAWA,UAAI,OAAOW,cAAc,CAACM,IAAtB,KAA+B,QAAnC,EAA6C;AAC3C,eAAOH,iBAAiB,CAACjD,KAAlB,CAAwBG,SAA/B;AACD;;AACD,aAAOL,YAAY,CAAC8C,MAAM,CAAC7B,OAAP,CAAe,CAAf,CAAD,EAAoBkC,iBAApB,CAAnB;AACD,KAlEM;AAmEPI,IAAAA,sBAAsB,EAAE,SAASA,sBAAT,GAAkC;AACxD,UAAItC,OAAO,GAAG,KAAKA,OAAL,IAAgB,KAAK6B,MAAL,CAAY7B,OAA5B,IAAuC,KAAK8B,YAAL,CAAkB9B,OAAvE;;AACA,UAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;AACjC,eAAO,KAAKgC,cAAZ;AACD;;AACD,aAAO,KAAKA,cAAL,EAAP;AACD,KAzEM;AA0EPG,IAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,aAAO,KAAKI,KAAL,CAAWtC,OAAX,CAAmBkC,eAAnB,EAAP;AACD,KA5EM;AA6EPK,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,GAA4B;AAC5C,UAAIC,OAAO,GAAG,KAAKC,MAAnB;AAAA,UACIjD,aAAa,GAAGgD,OAAO,CAAChD,aAD5B;AAAA,UAEIL,SAAS,GAAGqD,OAAO,CAACrD,SAFxB;;AAIA,UAAIK,aAAa,KAAKwB,SAAtB,EAAiC;AAC/B,eAAOxB,aAAP;AACD;;AACD,aAAOL,SAAS,GAAG,OAAnB;AACD,KAtFM;AAuFPuD,IAAAA,kBAAkB,EAAE,SAASA,kBAAT,CAA4BnC,OAA5B,EAAqC;AACvD,UAAIA,OAAO,IAAI,KAAKmB,8BAAL,EAAf,EAAsD;AACpD,YAAIiB,WAAW,GAAG,KAAKT,eAAL,EAAlB;AACA,YAAIU,QAAQ,GAAG,KAAKC,GAApB;;AACA,YAAID,QAAQ,IAAID,WAAZ,IAA2BC,QAAQ,CAACE,WAAT,GAAuBH,WAAW,CAACG,WAAlE,EAA+E;AAC7EH,UAAAA,WAAW,CAACI,KAAZ,CAAkBC,QAAlB,GAA6BJ,QAAQ,CAACE,WAAT,GAAuB,IAApD;;AACA,cAAI,KAAKR,KAAL,CAAWtC,OAAX,IAAsB,KAAKsC,KAAL,CAAWtC,OAAX,CAAmBiD,UAAzC,IAAuD,KAAKX,KAAL,CAAWtC,OAAX,CAAmBiD,UAAnB,CAA8BX,KAArF,IAA8F,KAAKA,KAAL,CAAWtC,OAAX,CAAmBiD,UAAnB,CAA8BX,KAA9B,CAAoCY,aAAtI,EAAqJ;AACnJ,iBAAKZ,KAAL,CAAWtC,OAAX,CAAmBiD,UAAnB,CAA8BX,KAA9B,CAAoCY,aAApC,CAAkDC,UAAlD;AACD;AACF;AACF;AACF,KAlGM;AAmGPC,IAAAA,cAAc,EAAE,SAASA,cAAT,GAA0B;AACxC,UAAIC,QAAQ,GAAG,KAAKzB,MAAL,CAAY,SAAZ,KAA0B,KAAKA,MAAL,CAAY,SAAZ,EAAuB,CAAvB,CAAzC;AACA,UAAIf,QAAQ,GAAG,KAAKA,QAApB;AAEA,aAAOA,QAAQ,IAAIwC,QAAZ,GAAuBvE,YAAY,CAACuE,QAAD,EAAW;AAAE,iBAAS,KAAKd,gBAAL;AAAX,OAAX,CAAnC,GAAsFc,QAA7F;AACD;AAxGM,GA5CI;AAuJbC,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;;AAEA,QAAIC,QAAQ,GAAG,KAAKhB,MAApB;AAAA,QACItD,SAAS,GAAGsE,QAAQ,CAACtE,SADzB;AAAA,QAEIG,cAAc,GAAGmE,QAAQ,CAACnE,cAF9B;AAAA,QAGIG,SAAS,GAAGgE,QAAQ,CAAChE,SAHzB;AAAA,QAIIE,KAAK,GAAG8D,QAAQ,CAAC9D,KAJrB;AAAA,QAKIG,SAAS,GAAG2D,QAAQ,CAAC3D,SALzB;AAAA,QAMIO,iBAAiB,GAAGoD,QAAQ,CAACpD,iBANjC;AAAA,QAOIF,UAAU,GAAGsD,QAAQ,CAACtD,UAP1B;AAAA,QAQIC,UAAU,GAAGqD,QAAQ,CAACrD,UAR1B;AAAA,QASIb,gBAAgB,GAAGkE,QAAQ,CAAClE,gBAThC;AAAA,QAUIM,YAAY,GAAG4D,QAAQ,CAAC5D,YAV5B;AAAA,QAWIG,OAAO,GAAGyD,QAAQ,CAACzD,OAXvB;AAAA,QAYI0D,UAAU,GAAGpF,wBAAwB,CAACmF,QAAD,EAAW,CAAC,WAAD,EAAc,gBAAd,EAAgC,WAAhC,EAA6C,OAA7C,EAAsD,WAAtD,EAAmE,mBAAnE,EAAwF,YAAxF,EAAsG,YAAtG,EAAoH,kBAApH,EAAwI,cAAxI,EAAwJ,SAAxJ,CAAX,CAZzC;;AAcA,QAAIE,iBAAiB,GAAGvD,UAAxB;;AACA,QAAI,CAACuD,iBAAD,IAAsB3D,OAAO,CAAC4D,OAAR,CAAgB,aAAhB,MAAmC,CAAC,CAA9D,EAAiE;AAC/DD,MAAAA,iBAAiB,GAAG,CAAC,OAAD,CAApB;AACD;;AAED,QAAIE,YAAY,GAAG;AACjB7E,MAAAA,KAAK,EAAEX,QAAQ,CAAC,EAAD,EAAKqF,UAAL,EAAiB;AAC9BvE,QAAAA,SAAS,EAAEA,SADmB;AAE9B2E,QAAAA,cAAc,EAAEvE,gBAFc;AAG9BwE,QAAAA,UAAU,EAAElE,YAHkB;AAI9BmE,QAAAA,iBAAiB,EAAEvF,UAJW;AAK9BwF,QAAAA,MAAM,EAAEjE,OALsB;AAM9BG,QAAAA,UAAU,EAAEA,UANkB;AAO9BC,QAAAA,UAAU,EAAEuD,iBAAiB,IAAI,EAPH;AAQ9BO,QAAAA,cAAc,EAAEpE,SARc;AAS9BqE,QAAAA,UAAU,EAAExE,KATkB;AAU9ByE,QAAAA,mBAAmB,EAAE9E,cAVS;AAW9B+E,QAAAA,cAAc,EAAE5E,SAXc;AAY9B6E,QAAAA,YAAY,EAAE,KAAKzD,QAZW;AAa9B0D,QAAAA,uBAAuB,EAAE,KAAK7B,kBAbA;AAc9BrC,QAAAA,iBAAiB,EAAEA;AAdW,OAAjB,CADE;AAiBjB8B,MAAAA,EAAE,EAAE;AACFqC,QAAAA,kBAAkB,EAAE,KAAKhD;AADvB,OAjBa;AAoBjBiD,MAAAA,GAAG,EAAE;AApBY,KAAnB;AAsBA,WAAOlB,CAAC,CACN/E,OADM,EAENqF,YAFM,EAGN,CAAC,KAAKT,cAAL,EAAD,EAAwBG,CAAC,CACvB,UADuB,EAEvB;AAAEmB,MAAAA,IAAI,EAAE;AAAR,KAFuB,EAGvB,CAAC,KAAK9C,MAAL,CAAY7B,OAAZ,IAAuB,KAAKgC,cAAL,EAAxB,CAHuB,CAAzB,CAHM,CAAR;AASD;AA5MY,CAAf","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport PropTypes from '../../_util/vue-types';\nimport Trigger from '../../vc-trigger';\nimport placements from './placements';\nimport { hasProp, getEvents, getOptionProps } from '../../_util/props-util';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { cloneElement } from '../../_util/vnode';\n\nexport default {\n  mixins: [BaseMixin],\n  props: {\n    minOverlayWidthMatchTrigger: PropTypes.bool,\n    prefixCls: PropTypes.string.def('rc-dropdown'),\n    transitionName: PropTypes.string,\n    overlayClassName: PropTypes.string.def(''),\n    openClassName: PropTypes.string,\n    animation: PropTypes.any,\n    align: PropTypes.object,\n    overlayStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    placement: PropTypes.string.def('bottomLeft'),\n    overlay: PropTypes.any,\n    trigger: PropTypes.array.def(['hover']),\n    alignPoint: PropTypes.bool,\n    showAction: PropTypes.array.def([]),\n    hideAction: PropTypes.array.def([]),\n    getPopupContainer: PropTypes.func,\n    visible: PropTypes.bool,\n    defaultVisible: PropTypes.bool.def(false),\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1)\n  },\n  data: function data() {\n    var sVisible = this.defaultVisible;\n    if (hasProp(this, 'visible')) {\n      sVisible = this.visible;\n    }\n    return {\n      sVisible: sVisible\n    };\n  },\n\n  watch: {\n    visible: function visible(val) {\n      if (val !== undefined) {\n        this.setState({\n          sVisible: val\n        });\n      }\n    }\n  },\n  methods: {\n    onClick: function onClick(e) {\n      // do no call onVisibleChange, if you need click to hide, use onClick and control visible\n      if (!hasProp(this, 'visible')) {\n        this.setState({\n          sVisible: false\n        });\n      }\n      this.$emit('overlayClick', e);\n      if (this.childOriginEvents.click) {\n        this.childOriginEvents.click(e);\n      }\n    },\n    onVisibleChange: function onVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.setState({\n          sVisible: visible\n        });\n      }\n      this.__emit('visibleChange', visible);\n    },\n    getMinOverlayWidthMatchTrigger: function getMinOverlayWidthMatchTrigger() {\n      var props = getOptionProps(this);\n      var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n          alignPoint = props.alignPoint;\n\n      if ('minOverlayWidthMatchTrigger' in props) {\n        return minOverlayWidthMatchTrigger;\n      }\n\n      return !alignPoint;\n    },\n    getOverlayElement: function getOverlayElement() {\n      var overlay = this.overlay || this.$slots.overlay || this.$scopedSlots.overlay;\n      var overlayElement = void 0;\n      if (typeof overlay === 'function') {\n        overlayElement = overlay();\n      } else {\n        overlayElement = overlay;\n      }\n      return overlayElement;\n    },\n    getMenuElement: function getMenuElement() {\n      var _this = this;\n\n      var onClick = this.onClick,\n          prefixCls = this.prefixCls,\n          $slots = this.$slots;\n\n      this.childOriginEvents = getEvents($slots.overlay[0]);\n      var overlayElement = this.getOverlayElement();\n      var extraOverlayProps = {\n        props: {\n          prefixCls: prefixCls + '-menu',\n          getPopupContainer: function getPopupContainer() {\n            return _this.getPopupDomNode();\n          }\n        },\n        on: {\n          click: onClick\n        }\n      };\n      if (typeof overlayElement.type === 'string') {\n        delete extraOverlayProps.props.prefixCls;\n      }\n      return cloneElement($slots.overlay[0], extraOverlayProps);\n    },\n    getMenuElementOrLambda: function getMenuElementOrLambda() {\n      var overlay = this.overlay || this.$slots.overlay || this.$scopedSlots.overlay;\n      if (typeof overlay === 'function') {\n        return this.getMenuElement;\n      }\n      return this.getMenuElement();\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.trigger.getPopupDomNode();\n    },\n    getOpenClassName: function getOpenClassName() {\n      var _$props = this.$props,\n          openClassName = _$props.openClassName,\n          prefixCls = _$props.prefixCls;\n\n      if (openClassName !== undefined) {\n        return openClassName;\n      }\n      return prefixCls + '-open';\n    },\n    afterVisibleChange: function afterVisibleChange(visible) {\n      if (visible && this.getMinOverlayWidthMatchTrigger()) {\n        var overlayNode = this.getPopupDomNode();\n        var rootNode = this.$el;\n        if (rootNode && overlayNode && rootNode.offsetWidth > overlayNode.offsetWidth) {\n          overlayNode.style.minWidth = rootNode.offsetWidth + 'px';\n          if (this.$refs.trigger && this.$refs.trigger._component && this.$refs.trigger._component.$refs && this.$refs.trigger._component.$refs.alignInstance) {\n            this.$refs.trigger._component.$refs.alignInstance.forceAlign();\n          }\n        }\n      }\n    },\n    renderChildren: function renderChildren() {\n      var children = this.$slots['default'] && this.$slots['default'][0];\n      var sVisible = this.sVisible;\n\n      return sVisible && children ? cloneElement(children, { 'class': this.getOpenClassName() }) : children;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n\n    var _$props2 = this.$props,\n        prefixCls = _$props2.prefixCls,\n        transitionName = _$props2.transitionName,\n        animation = _$props2.animation,\n        align = _$props2.align,\n        placement = _$props2.placement,\n        getPopupContainer = _$props2.getPopupContainer,\n        showAction = _$props2.showAction,\n        hideAction = _$props2.hideAction,\n        overlayClassName = _$props2.overlayClassName,\n        overlayStyle = _$props2.overlayStyle,\n        trigger = _$props2.trigger,\n        otherProps = _objectWithoutProperties(_$props2, ['prefixCls', 'transitionName', 'animation', 'align', 'placement', 'getPopupContainer', 'showAction', 'hideAction', 'overlayClassName', 'overlayStyle', 'trigger']);\n\n    var triggerHideAction = hideAction;\n    if (!triggerHideAction && trigger.indexOf('contextmenu') !== -1) {\n      triggerHideAction = ['click'];\n    }\n\n    var triggerProps = {\n      props: _extends({}, otherProps, {\n        prefixCls: prefixCls,\n        popupClassName: overlayClassName,\n        popupStyle: overlayStyle,\n        builtinPlacements: placements,\n        action: trigger,\n        showAction: showAction,\n        hideAction: triggerHideAction || [],\n        popupPlacement: placement,\n        popupAlign: align,\n        popupTransitionName: transitionName,\n        popupAnimation: animation,\n        popupVisible: this.sVisible,\n        afterPopupVisibleChange: this.afterVisibleChange,\n        getPopupContainer: getPopupContainer\n      }),\n      on: {\n        popupVisibleChange: this.onVisibleChange\n      },\n      ref: 'trigger'\n    };\n    return h(\n      Trigger,\n      triggerProps,\n      [this.renderChildren(), h(\n        'template',\n        { slot: 'popup' },\n        [this.$slots.overlay && this.getMenuElement()]\n      )]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}