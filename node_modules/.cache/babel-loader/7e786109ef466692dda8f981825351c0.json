{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Icon from '../icon';\nimport { getListeners, getComponentFromProp } from '../_util/props-util';\nimport PropTypes from '../_util/vue-types';\nexport default {\n  name: 'AAvatar',\n  props: {\n    prefixCls: {\n      type: String,\n      'default': undefined\n    },\n    shape: {\n      validator: function validator(val) {\n        return ['circle', 'square'].includes(val);\n      },\n      'default': 'circle'\n    },\n    size: {\n      validator: function validator(val) {\n        return typeof val === 'number' || ['small', 'large', 'default'].includes(val);\n      },\n      'default': 'default'\n    },\n    src: String,\n\n    /** Srcset of image avatar */\n    srcSet: String,\n    icon: PropTypes.any,\n    alt: String,\n    loadError: Function\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      isImgExist: true,\n      isMounted: false,\n      scale: 1\n    };\n  },\n  watch: {\n    src: function src() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.isImgExist = true;\n        _this.scale = 1; // force uodate for position\n\n        _this.$forceUpdate();\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setScale();\n\n      _this2.isMounted = true;\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.setScale();\n    });\n  },\n  methods: {\n    setScale: function setScale() {\n      if (!this.$refs.avatarChildren || !this.$refs.avatarNode) {\n        return;\n      }\n\n      var childrenWidth = this.$refs.avatarChildren.offsetWidth; // offsetWidth avoid affecting be transform scale\n\n      var nodeWidth = this.$refs.avatarNode.offsetWidth; // denominator is 0 is no meaning\n\n      if (childrenWidth === 0 || nodeWidth === 0 || this.lastChildrenWidth === childrenWidth && this.lastNodeWidth === nodeWidth) {\n        return;\n      }\n\n      this.lastChildrenWidth = childrenWidth;\n      this.lastNodeWidth = nodeWidth; // add 4px gap for each side to get better performance\n\n      this.scale = nodeWidth - 8 < childrenWidth ? (nodeWidth - 8) / childrenWidth : 1;\n    },\n    handleImgLoadError: function handleImgLoadError() {\n      var loadError = this.$props.loadError;\n      var errorFlag = loadError ? loadError() : undefined;\n\n      if (errorFlag !== false) {\n        this.isImgExist = false;\n      }\n    }\n  },\n  render: function render() {\n    var _sizeCls, _extends3;\n\n    var h = arguments[0];\n    var _$props = this.$props,\n        customizePrefixCls = _$props.prefixCls,\n        shape = _$props.shape,\n        size = _$props.size,\n        src = _$props.src,\n        alt = _$props.alt,\n        srcSet = _$props.srcSet;\n    var icon = getComponentFromProp(this, 'icon');\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('avatar', customizePrefixCls);\n    var _$data = this.$data,\n        isImgExist = _$data.isImgExist,\n        scale = _$data.scale,\n        isMounted = _$data.isMounted;\n    var sizeCls = (_sizeCls = {}, _defineProperty(_sizeCls, prefixCls + '-lg', size === 'large'), _defineProperty(_sizeCls, prefixCls + '-sm', size === 'small'), _sizeCls);\n\n    var classString = _extends(_defineProperty({}, prefixCls, true), sizeCls, (_extends3 = {}, _defineProperty(_extends3, prefixCls + '-' + shape, shape), _defineProperty(_extends3, prefixCls + '-image', src && isImgExist), _defineProperty(_extends3, prefixCls + '-icon', icon), _extends3));\n\n    var sizeStyle = typeof size === 'number' ? {\n      width: size + 'px',\n      height: size + 'px',\n      lineHeight: size + 'px',\n      fontSize: icon ? size / 2 + 'px' : '18px'\n    } : {};\n    var children = this.$slots['default'];\n\n    if (src && isImgExist) {\n      children = h('img', {\n        attrs: {\n          src: src,\n          srcSet: srcSet,\n          alt: alt\n        },\n        on: {\n          'error': this.handleImgLoadError\n        }\n      });\n    } else if (icon) {\n      if (typeof icon === 'string') {\n        children = h(Icon, {\n          attrs: {\n            type: icon\n          }\n        });\n      } else {\n        children = icon;\n      }\n    } else {\n      var childrenNode = this.$refs.avatarChildren;\n\n      if (childrenNode || scale !== 1) {\n        var transformString = 'scale(' + scale + ') translateX(-50%)';\n        var childrenStyle = {\n          msTransform: transformString,\n          WebkitTransform: transformString,\n          transform: transformString\n        };\n        var sizeChildrenStyle = typeof size === 'number' ? {\n          lineHeight: size + 'px'\n        } : {};\n        children = h('span', {\n          'class': prefixCls + '-string',\n          ref: 'avatarChildren',\n          style: _extends({}, sizeChildrenStyle, childrenStyle)\n        }, [children]);\n      } else {\n        var _childrenStyle = {};\n\n        if (!isMounted) {\n          _childrenStyle.opacity = 0;\n        }\n\n        children = h('span', {\n          'class': prefixCls + '-string',\n          ref: 'avatarChildren',\n          style: {\n            opacity: 0\n          }\n        }, [children]);\n      }\n    }\n\n    return h('span', _mergeJSXProps([{\n      ref: 'avatarNode'\n    }, {\n      on: getListeners(this),\n      'class': classString,\n      style: sizeStyle\n    }]), [children]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/avatar/Avatar.js"],"names":["_mergeJSXProps","_extends","_defineProperty","ConfigConsumerProps","Icon","getListeners","getComponentFromProp","PropTypes","name","props","prefixCls","type","String","undefined","shape","validator","val","includes","size","src","srcSet","icon","any","alt","loadError","Function","inject","configProvider","_default","data","isImgExist","isMounted","scale","watch","_this","$nextTick","$forceUpdate","mounted","_this2","setScale","updated","_this3","methods","$refs","avatarChildren","avatarNode","childrenWidth","offsetWidth","nodeWidth","lastChildrenWidth","lastNodeWidth","handleImgLoadError","$props","errorFlag","render","_sizeCls","_extends3","h","arguments","_$props","customizePrefixCls","getPrefixCls","_$data","$data","sizeCls","classString","sizeStyle","width","height","lineHeight","fontSize","children","$slots","attrs","on","childrenNode","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","ref","style","_childrenStyle","opacity"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Icon from '../icon';\nimport { getListeners, getComponentFromProp } from '../_util/props-util';\nimport PropTypes from '../_util/vue-types';\n\nexport default {\n  name: 'AAvatar',\n  props: {\n    prefixCls: {\n      type: String,\n      'default': undefined\n    },\n    shape: {\n      validator: function validator(val) {\n        return ['circle', 'square'].includes(val);\n      },\n      'default': 'circle'\n    },\n    size: {\n      validator: function validator(val) {\n        return typeof val === 'number' || ['small', 'large', 'default'].includes(val);\n      },\n      'default': 'default'\n    },\n    src: String,\n    /** Srcset of image avatar */\n    srcSet: String,\n    icon: PropTypes.any,\n    alt: String,\n    loadError: Function\n  },\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    return {\n      isImgExist: true,\n      isMounted: false,\n      scale: 1\n    };\n  },\n\n  watch: {\n    src: function src() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.isImgExist = true;\n        _this.scale = 1;\n        // force uodate for position\n        _this.$forceUpdate();\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setScale();\n      _this2.isMounted = true;\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.setScale();\n    });\n  },\n\n  methods: {\n    setScale: function setScale() {\n      if (!this.$refs.avatarChildren || !this.$refs.avatarNode) {\n        return;\n      }\n      var childrenWidth = this.$refs.avatarChildren.offsetWidth; // offsetWidth avoid affecting be transform scale\n      var nodeWidth = this.$refs.avatarNode.offsetWidth;\n      // denominator is 0 is no meaning\n      if (childrenWidth === 0 || nodeWidth === 0 || this.lastChildrenWidth === childrenWidth && this.lastNodeWidth === nodeWidth) {\n        return;\n      }\n      this.lastChildrenWidth = childrenWidth;\n      this.lastNodeWidth = nodeWidth;\n      // add 4px gap for each side to get better performance\n      this.scale = nodeWidth - 8 < childrenWidth ? (nodeWidth - 8) / childrenWidth : 1;\n    },\n    handleImgLoadError: function handleImgLoadError() {\n      var loadError = this.$props.loadError;\n\n      var errorFlag = loadError ? loadError() : undefined;\n      if (errorFlag !== false) {\n        this.isImgExist = false;\n      }\n    }\n  },\n  render: function render() {\n    var _sizeCls, _extends3;\n\n    var h = arguments[0];\n    var _$props = this.$props,\n        customizePrefixCls = _$props.prefixCls,\n        shape = _$props.shape,\n        size = _$props.size,\n        src = _$props.src,\n        alt = _$props.alt,\n        srcSet = _$props.srcSet;\n\n    var icon = getComponentFromProp(this, 'icon');\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('avatar', customizePrefixCls);\n\n    var _$data = this.$data,\n        isImgExist = _$data.isImgExist,\n        scale = _$data.scale,\n        isMounted = _$data.isMounted;\n\n\n    var sizeCls = (_sizeCls = {}, _defineProperty(_sizeCls, prefixCls + '-lg', size === 'large'), _defineProperty(_sizeCls, prefixCls + '-sm', size === 'small'), _sizeCls);\n\n    var classString = _extends(_defineProperty({}, prefixCls, true), sizeCls, (_extends3 = {}, _defineProperty(_extends3, prefixCls + '-' + shape, shape), _defineProperty(_extends3, prefixCls + '-image', src && isImgExist), _defineProperty(_extends3, prefixCls + '-icon', icon), _extends3));\n\n    var sizeStyle = typeof size === 'number' ? {\n      width: size + 'px',\n      height: size + 'px',\n      lineHeight: size + 'px',\n      fontSize: icon ? size / 2 + 'px' : '18px'\n    } : {};\n\n    var children = this.$slots['default'];\n    if (src && isImgExist) {\n      children = h('img', {\n        attrs: { src: src, srcSet: srcSet, alt: alt },\n        on: {\n          'error': this.handleImgLoadError\n        }\n      });\n    } else if (icon) {\n      if (typeof icon === 'string') {\n        children = h(Icon, {\n          attrs: { type: icon }\n        });\n      } else {\n        children = icon;\n      }\n    } else {\n      var childrenNode = this.$refs.avatarChildren;\n      if (childrenNode || scale !== 1) {\n        var transformString = 'scale(' + scale + ') translateX(-50%)';\n        var childrenStyle = {\n          msTransform: transformString,\n          WebkitTransform: transformString,\n          transform: transformString\n        };\n        var sizeChildrenStyle = typeof size === 'number' ? {\n          lineHeight: size + 'px'\n        } : {};\n        children = h(\n          'span',\n          {\n            'class': prefixCls + '-string',\n            ref: 'avatarChildren',\n            style: _extends({}, sizeChildrenStyle, childrenStyle)\n          },\n          [children]\n        );\n      } else {\n        var _childrenStyle = {};\n        if (!isMounted) {\n          _childrenStyle.opacity = 0;\n        }\n        children = h(\n          'span',\n          { 'class': prefixCls + '-string', ref: 'avatarChildren', style: { opacity: 0 } },\n          [children]\n        );\n      }\n    }\n    return h(\n      'span',\n      _mergeJSXProps([{ ref: 'avatarNode' }, { on: getListeners(this), 'class': classString, style: sizeStyle }]),\n      [children]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}