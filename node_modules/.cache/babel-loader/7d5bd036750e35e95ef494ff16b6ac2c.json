{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            sPagination: val !== false ? newPagination : emptyObject\n          };\n        });\n      },\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n      deep: true\n    },\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({\n        columns: val\n      }, val);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({\n          columns: val\n        }, val);\n\n        var newFilters = _extends({}, this.sFilters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged({\n          filters: this.sFilters\n        }, newFilters)) {\n          this.setState({\n            sFilters: newFilters\n          });\n        }\n      }\n\n      this.$forceUpdate();\n    },\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({\n            sComponents: components\n          });\n        }\n      },\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {\n          props: {}\n        };\n      }\n\n      var key = this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize = void 0;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({\n        columns: this.columns\n      }, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n          current = _sPagination.current,\n          pageSize = _sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      } // 筛选\n\n\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.$props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n      var table = this.$refs.vcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns({\n        columns: props.columns\n      }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n\n        _this5.store.selectionDirty = false;\n\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this6.getRecordKey(row, i);\n\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true; // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = this.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n      var newState = {\n        sPagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, this.scrollToFirstRow);\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n\n      this.setState({\n        sPagination: nextPagination\n      }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _childrenColumnName = this.childrenColumnName,\n          childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return h(LocaleReceiver, {\n            attrs: {\n              componentName: 'Table',\n              defaultLocale: defaultLocale.Table\n            }\n          }, [function (locale) {\n            var _classNames;\n\n            return h(TransButton, {\n              'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n              on: {\n                'click': function click(event) {\n                  onExpand(record, event);\n                }\n              },\n              attrs: {\n                'aria-label': expanded ? locale.collapse : locale.expand,\n                noStyle: true\n              }\n            });\n          }]);\n        }\n\n        if (needIndentSpaced) {\n          return h('span', {\n            'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced'\n          });\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement; // 强制不需要分页\n\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination['class'],\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n\n\n        var props = _this9.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n        return h('span', {\n          on: {\n            'click': stopPropagation\n          }\n        }, [h(SelectionBox, selectionBoxProps)]);\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n\n      var prefixCls = _ref3.prefixCls,\n          locale = _ref3.locale,\n          getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          dropdownPrefixCls = _ref4.dropdownPrefixCls,\n          columns = _ref4.columns,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n\n        var isSortColumn = _this11.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: {\n              type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n          sortButton = h('div', {\n            attrs: {\n              title: locale.sortTitle\n            },\n            'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n            key: 'sorter'\n          }, [ascend, descend]);\n\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n\n            colProps.on = colProps.on || {}; // Add sorter logic\n\n            var onHeaderCellClick = colProps.on.click;\n\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h('span', {\n            key: 'title',\n            'class': prefixCls + '-header-column'\n          }, [h('div', {\n            'class': sortButton ? prefixCls + '-column-sorters' : undefined\n          }, [h('span', {\n            'class': prefixCls + '-column-title'\n          }, [_this11.renderColumnTitle(column.title)]), h('span', {\n            'class': prefixCls + '-column-sorter'\n          }, [sortButton])])]), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n          filters = _$data.sFilters,\n          sortOrder = _$data.sSortOrder,\n          sortColumn = _$data.sSortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          renderEmpty = _ref5.renderEmpty,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          contextLocale = _ref5.contextLocale,\n          contextGetPopupContainer = _ref5.getPopupContainer,\n          transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n\n      var _getOptionProps = getOptionProps(this),\n          showHeader = _getOptionProps.showHeader,\n          locale = _getOptionProps.locale,\n          getPopupContainer = _getOptionProps.getPopupContainer,\n          expandIcon = _getOptionProps.expandIcon,\n          restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends({}, contextLocale, locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n  render: function render() {\n    var _this13 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n        getContextPopupContainer = _configProvider.getPopupContainer,\n        tct = _configProvider.transformCellText;\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    }); // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n\n    return h('div', {\n      'class': classNames(prefixCls + '-wrapper')\n    }, [h(Spin, spinProps, [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')])]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/table/Table.js"],"names":["_objectWithoutProperties","_defineProperty","_toConsumableArray","_typeof","_extends","VcTable","INTERNAL_COL_DEFINE","classNames","shallowEqual","FilterDropdown","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","initDefaultProps","mergeProps","getOptionProps","getListeners","BaseMixin","ConfigConsumerProps","TableProps","Pagination","Icon","Spin","LocaleReceiver","defaultLocale","warning","scrollTo","TransButton","Vue","noop","stopPropagation","e","getRowSelection","props","rowSelection","getColumnKey","column","index","key","dataIndex","isSameColumn","a","b","value","other","toString","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","arguments","length","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","Object","keys","some","columnKey","name","mixins","inject","configProvider","_default","provide","store","dataSource","useFixedHeader","size","loading","bordered","indentSize","locale","rowKey","showHeader","sortDirections","childrenColumnName","data","expandedRowRender","scroll","x","CheckboxPropsCache","$root","constructor","observable","selectedRowKeys","$props","selectionDirty","getDefaultSortOrder","sFilters","getDefaultFilters","sPagination","getDefaultPagination","pivot","sComponents","filterDataCnt","watch","pagination","handler","val","setState","previousState","newPagination","current","pageSize","deep","oldVal","getCheckboxProps","filteredValueColumns","filtersFromColumns","newFilters","$forceUpdate","updated","sortColumn","sSortColumn","sortOrder","sSortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","methods","getCheckboxPropsByItem","item","getRecordKey","getDefaultSelection","_this","getFlatData","filter","rowIndex","defaultChecked","map","record","defaultCurrent","defaultPageSize","hasPagination","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_sPagination","Math","floor","recordKey","getSorterFn","_ref","$data","sorter","result","getCurrentPageData","getLocalData","Number","MAX_VALUE","slice","getFlatCurrentPageData","_this2","currentState","sorterFn","recursiveSort","concat","findColumn","values","onFilter","v","onRow","prefixCls","customRow","custom","setSelectedRowKeys","selectionInfo","_this3","selectWay","checked","changeRowKeys","nativeEvent","selectedRows","i","indexOf","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","generatePopupContainerFunc","getPopupContainer","table","$refs","vcTable","getTableNode","scrollToFirstRow","_this4","scrollToFirstRowOnChange","getContainer","getBodyTable","handleFilter","nextFilters","_this5","currentColumnKeys","c","children","push","newState","filtersToSetState","$emit","apply","prepareParamsArguments","sSelectionDirty","handleSelect","_this6","target","defaultSelection","rows","realIndex","findIndex","shiftKey","direction","sign","dist","abs","step","_loop","checkboxProps","disabled","includes","j","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","_this7","changeableRowKeys","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","nextPagination","toggleSortOrder","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this8","_childrenColumnName","sort","renderExpandIcon","h","$createElement","_ref2","expandable","expanded","needIndentSpaced","onExpand","attrs","componentName","Table","_classNames","on","click","event","collapse","expand","noStyle","renderPagination","paginationPosition","position","cls","style","restProps","paginationProps","change","showSizeChange","renderSelectionBox","type","_this9","_","handleChange","selectionBoxProps","renderRowSelection","_ref3","_this10","selectionColumnClass","selections","selectionColumn","customRender","className","fixed","width","columnWidth","title","columnTitle","checkboxAllDisabled","unshift","renderColumnsDropdown","_ref4","_this11","dropdownPrefixCls","_classNames3","filterDropdown","sortButton","customHeaderCell","colFilters","_propsSymbol","Symbol","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_$data","Function","renderTable","_ref5","_classNames4","_this12","renderEmpty","contextLocale","contextGetPopupContainer","transformCellText","_getOptionProps","expandIcon","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","columnsWithRowSelection","newColumn","expandIconColumnIndex","vcTableProps","ref","render","_this13","customizePrefixCls","customizeDropdownPrefixCls","customizeTransformCellText","_configProvider","getContextPopupContainer","tct","spinning","getPrefixCls","paginationPatchClass","spinProps"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { initDefaultProps, mergeProps, getOptionProps, getListeners } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport { TableProps } from './interface';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\nimport Vue from 'vue';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    }\n    // https://github.com/ant-design/ant-design/issues/19398\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var bodyRow = components && components.body && components.body.row;\n  return _extends({}, components, {\n    body: _extends({}, components.body, {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport default {\n  name: 'Table',\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  mixins: [BaseMixin],\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  provide: function provide() {\n    return {\n      store: this.store\n    };\n  },\n\n  props: initDefaultProps(TableProps, {\n    dataSource: [],\n    useFixedHeader: false,\n    // rowSelection: null,\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children'\n  }),\n\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props) || !props.scroll.x, '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    this.CheckboxPropsCache = {};\n\n    this.store = (this.$root.constructor.observable || Vue.observable)({\n      selectedRowKeys: getRowSelection(this.$props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _extends({}, this.getDefaultSortOrder(props.columns || []), {\n      // 减少状态\n      sFilters: this.getDefaultFilters(props.columns),\n      sPagination: this.getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: createComponents(this.components),\n      filterDataCnt: 0\n    });\n  },\n\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.sPagination, val);\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return { sPagination: val !== false ? newPagination : emptyObject };\n        });\n      },\n\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.CheckboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n\n      deep: true\n    },\n\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.CheckboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({ columns: val }, val);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({ columns: val }, val);\n        var newFilters = _extends({}, this.sFilters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (isFiltersChanged({ filters: this.sFilters }, newFilters)) {\n          this.setState({ sFilters: newFilters });\n        }\n      }\n      this.$forceUpdate();\n    },\n\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({ sComponents: components });\n        }\n      },\n\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n\n  methods: {\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return { props: {} };\n      }\n      var key = this.getRecordKey(item, index);\n      // Cache checkboxProps\n      if (!this.CheckboxPropsCache[key]) {\n        this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n      }\n      this.CheckboxPropsCache[key].props = this.CheckboxPropsCache[key].props || {};\n      return this.CheckboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).props.defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current = void 0;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize = void 0;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({ columns: this.columns }, columns);\n\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n\n      return _extends({}, defaultFilters, definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _sPagination = this.sPagination,\n          current = _sPagination.current,\n          pageSize = _sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current = void 0;\n      var pageSize = void 0;\n      var sPagination = this.sPagination;\n      // 如果没有分页的话，默认全部展示\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      }\n\n      // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n\n      var data = dataSource || [];\n      // 优化本地排序\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort([].concat(_toConsumableArray(data)), sorterFn);\n      }\n      // 筛选\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n\n      var custom = customRow ? customRow(record, index) : {};\n      return mergeProps(custom, {\n        props: {\n          prefixCls: prefixCls,\n          store: this.store,\n          rowKey: this.getRecordKey(record, index)\n        }\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n\n      var rowSelection = getRowSelection(this.$props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n\n      var table = this.$refs.vcTable;\n      if (getPopupContainer) {\n        return getPopupContainer;\n      }\n      // Use undefined to let rc component use default logic.\n      return scroll && table ? function () {\n        return table.getTableNode();\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.$refs.vcTable.getBodyTable();\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      var filters = _extends({}, this.sFilters, _defineProperty({}, getColumnKey(column), nextFilters));\n      // Remove filters not in current columns\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n      var filtersToSetState = _extends({}, filters);\n      // Remove filters which is controlled\n      getFilteredValueColumns({ columns: props.columns }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      }\n\n      // Controlled current prop will not respond user interaction\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n        _this5.store.selectionDirty = false;\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends({}, _this5.$data, {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this6.getRecordKey(row, i);\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        this.setState({ pivot: realIndex });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).props.disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked = void 0;\n      // handle default selection\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true;\n      // when select custom selection, callback selections[n].onSelect\n      var rowSelection = this.rowSelection;\n\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n      var pagination = _extends({}, this.sPagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(_toConsumableArray(otherArguments)));\n\n      var newState = {\n        sPagination: pagination\n      };\n      // Controlled current prop will not respond user interaction\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends({}, pagination, {\n          current: this.sPagination.current\n        });\n      }\n      this.setState(newState, this.scrollToFirstRow);\n\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n      this.setState({ sPagination: nextPagination }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn;\n      // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder = void 0;\n      // 切换另一列时，丢弃 sortOrder 的状态\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      };\n\n      // Controlled\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends({}, this.$data, newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n\n\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination);\n      // remove useless handle function in Table.onChange\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column = void 0;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _childrenColumnName = this.childrenColumnName,\n          childrenColumnName = _childrenColumnName === undefined ? 'children' : _childrenColumnName;\n\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this8.recursiveSort([].concat(_toConsumableArray(item[childrenColumnName])), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      var h = this.$createElement;\n\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return h(\n            LocaleReceiver,\n            {\n              attrs: { componentName: 'Table', defaultLocale: defaultLocale.Table }\n            },\n            [function (locale) {\n              var _classNames;\n\n              return h(TransButton, {\n                'class': classNames(prefixCls + '-row-expand-icon', (_classNames = {}, _defineProperty(_classNames, prefixCls + '-row-collapsed', !expanded), _defineProperty(_classNames, prefixCls + '-row-expanded', expanded), _classNames)),\n                on: {\n                  'click': function click(event) {\n                    onExpand(record, event);\n                  }\n                },\n                attrs: {\n                  'aria-label': expanded ? locale.collapse : locale.expand,\n                  noStyle: true\n                }\n              });\n            }]\n          );\n        }\n\n        if (needIndentSpaced) {\n          return h('span', { 'class': prefixCls + '-row-expand-icon ' + prefixCls + '-row-spaced' });\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      var h = this.$createElement;\n\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination['class'],\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = _objectWithoutProperties(pagination, ['class', 'style', 'onChange', 'onShowSizeChange']); // eslint-disable-line\n\n\n      var paginationProps = mergeProps({\n        key: 'pagination-' + paginationPosition,\n        'class': classNames(cls, prefixCls + '-pagination'),\n        props: _extends({}, restProps, {\n          total: total,\n          size: size,\n          current: this.getMaxCurrent(total)\n        }),\n        style: style,\n        on: {\n          change: this.handlePageChange,\n          showSizeChange: this.handleShowSizeChange\n        }\n      });\n      return total > 0 && (position === paginationPosition || position === 'both') ? h(Pagination, paginationProps) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n\n      return function (_, record, index) {\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n        var props = _this9.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n        var selectionBoxProps = mergeProps({\n          props: {\n            type: type,\n            store: _this9.store,\n            rowIndex: rowKey,\n            defaultSelection: _this9.getDefaultSelection()\n          },\n          on: {\n            change: handleChange\n          }\n        }, props);\n\n        return h(\n          'span',\n          {\n            on: {\n              'click': stopPropagation\n            }\n          },\n          [h(SelectionBox, selectionBoxProps)]\n        );\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref3) {\n      var _this10 = this;\n\n      var prefixCls = _ref3.prefixCls,\n          locale = _ref3.locale,\n          getPopupContainer = _ref3.getPopupContainer;\n      var h = this.$createElement;\n      var rowSelection = this.rowSelection;\n\n      var columns = this.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).props.disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(prefixCls + '-selection-column', _defineProperty({}, prefixCls + '-selection-column-custom', rowSelection.selections));\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          'class': prefixCls + '-selection-col'\n        });\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).props.disabled;\n          });\n          selectionColumn.title = selectionColumn.title || h(SelectionCheckboxAll, {\n            attrs: {\n              store: this.store,\n              locale: locale,\n              data: data,\n              getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n              getRecordKey: this.getRecordKey,\n              disabled: checkboxAllDisabled,\n              prefixCls: prefixCls,\n\n              selections: rowSelection.selections,\n              hideDefaultSelections: rowSelection.hideDefaultSelections,\n              getPopupContainer: this.generatePopupContainerFunc(getPopupContainer)\n            },\n            on: {\n              'select': this.handleSelectRow\n            }\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref4) {\n      var _this11 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          dropdownPrefixCls = _ref4.dropdownPrefixCls,\n          columns = _ref4.columns,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var h = this.$createElement;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown = void 0;\n        var sortButton = void 0;\n        var customHeaderCell = column.customHeaderCell;\n        var isSortColumn = _this11.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = h(FilterDropdown, {\n            attrs: {\n              _propsSymbol: Symbol(),\n              locale: locale,\n              column: column,\n              selectedKeys: colFilters,\n              confirmFilter: _this11.handleFilter,\n              prefixCls: prefixCls + '-filter',\n              dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n              getPopupContainer: _this11.generatePopupContainerFunc(getPopupContainer)\n            },\n            key: 'filter-dropdown'\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-up ' + (isAscend ? 'on' : 'off'),\n            attrs: { type: 'caret-up',\n              theme: 'filled'\n            },\n            key: 'caret-up'\n          });\n\n          var descend = sortDirections.indexOf('descend') !== -1 && h(Icon, {\n            'class': prefixCls + '-column-sorter-down ' + (isDescend ? 'on' : 'off'),\n            attrs: { type: 'caret-down',\n              theme: 'filled'\n            },\n            key: 'caret-down'\n          });\n\n          sortButton = h(\n            'div',\n            {\n              attrs: {\n                title: locale.sortTitle\n              },\n              'class': classNames(prefixCls + '-column-sorter-inner', ascend && descend && prefixCls + '-column-sorter-inner-full'),\n              key: 'sorter'\n            },\n            [ascend, descend]\n          );\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {};\n            // Get original first\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            }\n            colProps.on = colProps.on || {};\n            // Add sorter logic\n            var onHeaderCellClick = colProps.on.click;\n            colProps.on.click = function () {\n              _this11.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(undefined, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, prefixCls + '-column-has-actions', sortButton || filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-filters', filterDropdown), _defineProperty(_classNames3, prefixCls + '-column-has-sorters', sortButton), _defineProperty(_classNames3, prefixCls + '-column-sort', isSortColumn && sortOrder), _classNames3)),\n          title: [h(\n            'span',\n            { key: 'title', 'class': prefixCls + '-header-column' },\n            [h(\n              'div',\n              { 'class': sortButton ? prefixCls + '-column-sorters' : undefined },\n              [h(\n                'span',\n                { 'class': prefixCls + '-column-title' },\n                [_this11.renderColumnTitle(column.title)]\n              ), h(\n                'span',\n                { 'class': prefixCls + '-column-sorter' },\n                [sortButton]\n              )]\n            )]\n          ), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _$data = this.$data,\n          filters = _$data.sFilters,\n          sortOrder = _$data.sSortOrder,\n          sortColumn = _$data.sSortColumn;\n      // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n      return title;\n    },\n    renderTable: function renderTable(_ref5) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          renderEmpty = _ref5.renderEmpty,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          contextLocale = _ref5.contextLocale,\n          contextGetPopupContainer = _ref5.getPopupContainer,\n          transformCellText = _ref5.transformCellText;\n      var h = this.$createElement;\n\n      var _getOptionProps = getOptionProps(this),\n          showHeader = _getOptionProps.showHeader,\n          locale = _getOptionProps.locale,\n          getPopupContainer = _getOptionProps.getPopupContainer,\n          expandIcon = _getOptionProps.expandIcon,\n          restProps = _objectWithoutProperties(_getOptionProps, ['showHeader', 'locale', 'getPopupContainer', 'expandIcon']);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false;\n\n      // use props.getPopupContainer first\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer;\n\n      // Merge too locales\n      var mergedLocale = _extends({}, contextLocale, locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty(h, 'Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, prefixCls + '-' + this.size, true), _defineProperty(_classNames4, prefixCls + '-bordered', this.bordered), _defineProperty(_classNames4, prefixCls + '-empty', !data.length), _defineProperty(_classNames4, prefixCls + '-without-column-header', !showHeader), _classNames4));\n\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      var vcTableProps = {\n        key: 'table',\n        props: _extends({\n          expandIcon: expandIcon || this.renderExpandIcon(prefixCls)\n        }, restProps, {\n          customRow: function customRow(record, index) {\n            return _this12.onRow(prefixCls, record, index);\n          },\n          components: this.sComponents,\n          prefixCls: prefixCls,\n          data: data,\n          columns: columns,\n          showHeader: showHeader,\n          expandIconColumnIndex: expandIconColumnIndex,\n          expandIconAsCell: expandIconAsCell,\n          emptyText: mergedLocale.emptyText,\n          transformCellText: transformCellText\n        }),\n        on: getListeners(this),\n        'class': classString,\n        ref: 'vcTable'\n      };\n      return h(VcTable, vcTableProps);\n    }\n  },\n\n  render: function render() {\n    var _this13 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n\n    var data = this.getCurrentPageData();\n    var _configProvider = this.configProvider,\n        getContextPopupContainer = _configProvider.getPopupContainer,\n        tct = _configProvider.transformCellText;\n\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n    if (typeof loading === 'boolean') {\n      loading = {\n        props: {\n          spinning: loading\n        }\n      };\n    } else {\n      loading = {\n        props: _extends({}, loading)\n      };\n    }\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n    var table = h(LocaleReceiver, {\n      attrs: {\n        componentName: 'Table',\n        defaultLocale: defaultLocale.Table,\n        children: function children(locale) {\n          return _this13.renderTable({\n            prefixCls: prefixCls,\n            renderEmpty: renderEmpty,\n            dropdownPrefixCls: dropdownPrefixCls,\n            contextLocale: locale,\n            getPopupContainer: getPopupContainer,\n            transformCellText: transformCellText\n          });\n        }\n      }\n    });\n\n    // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? prefixCls + '-with-pagination' : prefixCls + '-without-pagination';\n    var spinProps = _extends({}, loading, {\n      'class': loading.props && loading.props.spinning ? paginationPatchClass + ' ' + prefixCls + '-spin-holder' : ''\n    });\n    return h(\n      'div',\n      { 'class': classNames(prefixCls + '-wrapper') },\n      [h(\n        Spin,\n        spinProps,\n        [this.renderPagination(prefixCls, 'top'), table, this.renderPagination(prefixCls, 'bottom')]\n      )]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}