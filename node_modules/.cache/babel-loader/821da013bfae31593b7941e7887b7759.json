{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport RcDropdown from '../vc-dropdown/src/index';\nimport DropdownButton from './dropdown-button';\nimport PropTypes from '../_util/vue-types';\nimport { cloneElement } from '../_util/vnode';\nimport { getOptionProps, getPropsData, getComponentFromProp, getListeners } from '../_util/props-util';\nimport getDropdownProps from './getDropdownProps';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Icon from '../icon';\nvar DropdownProps = getDropdownProps();\nvar Dropdown = {\n  name: 'ADropdown',\n  props: _extends({}, DropdownProps, {\n    prefixCls: PropTypes.string,\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    placement: DropdownProps.placement.def('bottomLeft')\n  }),\n  model: {\n    prop: 'visible',\n    event: 'visibleChange'\n  },\n  provide: function provide() {\n    return {\n      savePopupRef: this.savePopupRef\n    };\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  methods: {\n    savePopupRef: function savePopupRef(ref) {\n      this.popupRef = ref;\n    },\n    getTransitionName: function getTransitionName() {\n      var _$props = this.$props,\n          _$props$placement = _$props.placement,\n          placement = _$props$placement === undefined ? '' : _$props$placement,\n          transitionName = _$props.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n\n      return 'slide-up';\n    },\n    renderOverlay: function renderOverlay(prefixCls) {\n      var h = this.$createElement;\n      var overlay = getComponentFromProp(this, 'overlay');\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay; // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n\n      var overlayProps = overlayNode && getPropsData(overlayNode);\n\n      var _ref = overlayProps || {},\n          _ref$selectable = _ref.selectable,\n          selectable = _ref$selectable === undefined ? false : _ref$selectable,\n          _ref$focusable = _ref.focusable,\n          focusable = _ref$focusable === undefined ? true : _ref$focusable;\n\n      var expandIcon = h('span', {\n        'class': prefixCls + '-menu-submenu-arrow'\n      }, [h(Icon, {\n        attrs: {\n          type: 'right'\n        },\n        'class': prefixCls + '-menu-submenu-arrow-icon'\n      })]);\n      var fixedModeOverlay = overlayNode && overlayNode.componentOptions ? cloneElement(overlayNode, {\n        props: {\n          mode: 'vertical',\n          selectable: selectable,\n          focusable: focusable,\n          expandIcon: expandIcon\n        }\n      }) : overlay;\n      return fixedModeOverlay;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var $slots = this.$slots;\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        trigger = props.trigger,\n        disabled = props.disabled,\n        getPopupContainer = props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n    var dropdownTrigger = cloneElement($slots['default'], {\n      'class': prefixCls + '-trigger',\n      props: {\n        disabled: disabled\n      }\n    });\n    var triggerActions = disabled ? [] : trigger;\n    var alignPoint = void 0;\n\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\n      alignPoint = true;\n    }\n\n    var dropdownProps = {\n      props: _extends({\n        alignPoint: alignPoint\n      }, props, {\n        prefixCls: prefixCls,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        transitionName: this.getTransitionName(),\n        trigger: triggerActions\n      }),\n      on: getListeners(this)\n    };\n    return h(RcDropdown, dropdownProps, [dropdownTrigger, h('template', {\n      slot: 'overlay'\n    }, [this.renderOverlay(prefixCls)])]);\n  }\n};\nDropdown.Button = DropdownButton;\nexport default Dropdown;\nexport { DropdownProps };","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/dropdown/dropdown.js"],"names":["_extends","RcDropdown","DropdownButton","PropTypes","cloneElement","getOptionProps","getPropsData","getComponentFromProp","getListeners","getDropdownProps","ConfigConsumerProps","Icon","DropdownProps","Dropdown","name","props","prefixCls","string","mouseEnterDelay","number","def","mouseLeaveDelay","placement","model","prop","event","provide","savePopupRef","inject","configProvider","_default","methods","ref","popupRef","getTransitionName","_$props","$props","_$props$placement","undefined","transitionName","indexOf","renderOverlay","h","$createElement","overlay","overlayNode","Array","isArray","overlayProps","_ref","_ref$selectable","selectable","_ref$focusable","focusable","expandIcon","attrs","type","fixedModeOverlay","componentOptions","mode","render","arguments","$slots","customizePrefixCls","trigger","disabled","getPopupContainer","getContextPopupContainer","getPrefixCls","dropdownTrigger","triggerActions","alignPoint","dropdownProps","on","slot","Button"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,oBAAvC,EAA6DC,YAA7D,QAAiF,qBAAjF;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,IAAIC,aAAa,GAAGH,gBAAgB,EAApC;AACA,IAAII,QAAQ,GAAG;AACbC,EAAAA,IAAI,EAAE,WADO;AAEbC,EAAAA,KAAK,EAAEf,QAAQ,CAAC,EAAD,EAAKY,aAAL,EAAoB;AACjCI,IAAAA,SAAS,EAAEb,SAAS,CAACc,MADY;AAEjCC,IAAAA,eAAe,EAAEf,SAAS,CAACgB,MAAV,CAAiBC,GAAjB,CAAqB,IAArB,CAFgB;AAGjCC,IAAAA,eAAe,EAAElB,SAAS,CAACgB,MAAV,CAAiBC,GAAjB,CAAqB,GAArB,CAHgB;AAIjCE,IAAAA,SAAS,EAAEV,aAAa,CAACU,SAAd,CAAwBF,GAAxB,CAA4B,YAA5B;AAJsB,GAApB,CAFF;AAQbG,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,SADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GARM;AAYbC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,WAAO;AACLC,MAAAA,YAAY,EAAE,KAAKA;AADd,KAAP;AAGD,GAhBY;AAkBbC,EAAAA,MAAM,EAAE;AACNC,IAAAA,cAAc,EAAE;AAAE,iBAAW,SAASC,QAAT,GAAoB;AAC7C,eAAOpB,mBAAP;AACD;AAFa;AADV,GAlBK;AAuBbqB,EAAAA,OAAO,EAAE;AACPJ,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBK,GAAtB,EAA2B;AACvC,WAAKC,QAAL,GAAgBD,GAAhB;AACD,KAHM;AAIPE,IAAAA,iBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,UAAIC,OAAO,GAAG,KAAKC,MAAnB;AAAA,UACIC,iBAAiB,GAAGF,OAAO,CAACb,SADhC;AAAA,UAEIA,SAAS,GAAGe,iBAAiB,KAAKC,SAAtB,GAAkC,EAAlC,GAAuCD,iBAFvD;AAAA,UAGIE,cAAc,GAAGJ,OAAO,CAACI,cAH7B;;AAKA,UAAIA,cAAc,KAAKD,SAAvB,EAAkC;AAChC,eAAOC,cAAP;AACD;;AACD,UAAIjB,SAAS,CAACkB,OAAV,CAAkB,KAAlB,KAA4B,CAAhC,EAAmC;AACjC,eAAO,YAAP;AACD;;AACD,aAAO,UAAP;AACD,KAjBM;AAkBPC,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBzB,SAAvB,EAAkC;AAC/C,UAAI0B,CAAC,GAAG,KAAKC,cAAb;AAEA,UAAIC,OAAO,GAAGrC,oBAAoB,CAAC,IAAD,EAAO,SAAP,CAAlC;AACA,UAAIsC,WAAW,GAAGC,KAAK,CAACC,OAAN,CAAcH,OAAd,IAAyBA,OAAO,CAAC,CAAD,CAAhC,GAAsCA,OAAxD,CAJ+C,CAK/C;AACA;;AACA,UAAII,YAAY,GAAGH,WAAW,IAAIvC,YAAY,CAACuC,WAAD,CAA9C;;AAEA,UAAII,IAAI,GAAGD,YAAY,IAAI,EAA3B;AAAA,UACIE,eAAe,GAAGD,IAAI,CAACE,UAD3B;AAAA,UAEIA,UAAU,GAAGD,eAAe,KAAKZ,SAApB,GAAgC,KAAhC,GAAwCY,eAFzD;AAAA,UAGIE,cAAc,GAAGH,IAAI,CAACI,SAH1B;AAAA,UAIIA,SAAS,GAAGD,cAAc,KAAKd,SAAnB,GAA+B,IAA/B,GAAsCc,cAJtD;;AAMA,UAAIE,UAAU,GAAGZ,CAAC,CAChB,MADgB,EAEhB;AAAE,iBAAS1B,SAAS,GAAG;AAAvB,OAFgB,EAGhB,CAAC0B,CAAC,CAAC/B,IAAD,EAAO;AACP4C,QAAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADA;AAEP,iBAASxC,SAAS,GAAG;AAFd,OAAP,CAAF,CAHgB,CAAlB;AAQA,UAAIyC,gBAAgB,GAAGZ,WAAW,IAAIA,WAAW,CAACa,gBAA3B,GAA8CtD,YAAY,CAACyC,WAAD,EAAc;AAC7F9B,QAAAA,KAAK,EAAE;AACL4C,UAAAA,IAAI,EAAE,UADD;AAELR,UAAAA,UAAU,EAAEA,UAFP;AAGLE,UAAAA,SAAS,EAAEA,SAHN;AAILC,UAAAA,UAAU,EAAEA;AAJP;AADsF,OAAd,CAA1D,GAOlBV,OAPL;AAQA,aAAOa,gBAAP;AACD;AAlDM,GAvBI;AA4EbG,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIlB,CAAC,GAAGmB,SAAS,CAAC,CAAD,CAAjB;AACA,QAAIC,MAAM,GAAG,KAAKA,MAAlB;AAEA,QAAI/C,KAAK,GAAGV,cAAc,CAAC,IAAD,CAA1B;AACA,QAAI0D,kBAAkB,GAAGhD,KAAK,CAACC,SAA/B;AAAA,QACIgD,OAAO,GAAGjD,KAAK,CAACiD,OADpB;AAAA,QAEIC,QAAQ,GAAGlD,KAAK,CAACkD,QAFrB;AAAA,QAGIC,iBAAiB,GAAGnD,KAAK,CAACmD,iBAH9B;AAIA,QAAIC,wBAAwB,GAAG,KAAKtC,cAAL,CAAoBqC,iBAAnD;AAEA,QAAIE,YAAY,GAAG,KAAKvC,cAAL,CAAoBuC,YAAvC;AACA,QAAIpD,SAAS,GAAGoD,YAAY,CAAC,UAAD,EAAaL,kBAAb,CAA5B;AAEA,QAAIM,eAAe,GAAGjE,YAAY,CAAC0D,MAAM,CAAC,SAAD,CAAP,EAAoB;AACpD,eAAS9C,SAAS,GAAG,UAD+B;AAEpDD,MAAAA,KAAK,EAAE;AACLkD,QAAAA,QAAQ,EAAEA;AADL;AAF6C,KAApB,CAAlC;AAMA,QAAIK,cAAc,GAAGL,QAAQ,GAAG,EAAH,GAAQD,OAArC;AACA,QAAIO,UAAU,GAAG,KAAK,CAAtB;;AACA,QAAID,cAAc,IAAIA,cAAc,CAAC9B,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAAjE,EAAoE;AAClE+B,MAAAA,UAAU,GAAG,IAAb;AACD;;AACD,QAAIC,aAAa,GAAG;AAClBzD,MAAAA,KAAK,EAAEf,QAAQ,CAAC;AACduE,QAAAA,UAAU,EAAEA;AADE,OAAD,EAEZxD,KAFY,EAEL;AACRC,QAAAA,SAAS,EAAEA,SADH;AAERkD,QAAAA,iBAAiB,EAAEA,iBAAiB,IAAIC,wBAFhC;AAGR5B,QAAAA,cAAc,EAAE,KAAKL,iBAAL,EAHR;AAIR8B,QAAAA,OAAO,EAAEM;AAJD,OAFK,CADG;AASlBG,MAAAA,EAAE,EAAEjE,YAAY,CAAC,IAAD;AATE,KAApB;AAWA,WAAOkC,CAAC,CACNzC,UADM,EAENuE,aAFM,EAGN,CAACH,eAAD,EAAkB3B,CAAC,CACjB,UADiB,EAEjB;AAAEgC,MAAAA,IAAI,EAAE;AAAR,KAFiB,EAGjB,CAAC,KAAKjC,aAAL,CAAmBzB,SAAnB,CAAD,CAHiB,CAAnB,CAHM,CAAR;AASD;AAzHY,CAAf;AA4HAH,QAAQ,CAAC8D,MAAT,GAAkBzE,cAAlB;AACA,eAAeW,QAAf;AACA,SAASD,aAAT","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport RcDropdown from '../vc-dropdown/src/index';\nimport DropdownButton from './dropdown-button';\nimport PropTypes from '../_util/vue-types';\nimport { cloneElement } from '../_util/vnode';\nimport { getOptionProps, getPropsData, getComponentFromProp, getListeners } from '../_util/props-util';\nimport getDropdownProps from './getDropdownProps';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Icon from '../icon';\n\nvar DropdownProps = getDropdownProps();\nvar Dropdown = {\n  name: 'ADropdown',\n  props: _extends({}, DropdownProps, {\n    prefixCls: PropTypes.string,\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    placement: DropdownProps.placement.def('bottomLeft')\n  }),\n  model: {\n    prop: 'visible',\n    event: 'visibleChange'\n  },\n  provide: function provide() {\n    return {\n      savePopupRef: this.savePopupRef\n    };\n  },\n\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  methods: {\n    savePopupRef: function savePopupRef(ref) {\n      this.popupRef = ref;\n    },\n    getTransitionName: function getTransitionName() {\n      var _$props = this.$props,\n          _$props$placement = _$props.placement,\n          placement = _$props$placement === undefined ? '' : _$props$placement,\n          transitionName = _$props.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n      return 'slide-up';\n    },\n    renderOverlay: function renderOverlay(prefixCls) {\n      var h = this.$createElement;\n\n      var overlay = getComponentFromProp(this, 'overlay');\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay;\n      // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n      var overlayProps = overlayNode && getPropsData(overlayNode);\n\n      var _ref = overlayProps || {},\n          _ref$selectable = _ref.selectable,\n          selectable = _ref$selectable === undefined ? false : _ref$selectable,\n          _ref$focusable = _ref.focusable,\n          focusable = _ref$focusable === undefined ? true : _ref$focusable;\n\n      var expandIcon = h(\n        'span',\n        { 'class': prefixCls + '-menu-submenu-arrow' },\n        [h(Icon, {\n          attrs: { type: 'right' },\n          'class': prefixCls + '-menu-submenu-arrow-icon' })]\n      );\n\n      var fixedModeOverlay = overlayNode && overlayNode.componentOptions ? cloneElement(overlayNode, {\n        props: {\n          mode: 'vertical',\n          selectable: selectable,\n          focusable: focusable,\n          expandIcon: expandIcon\n        }\n      }) : overlay;\n      return fixedModeOverlay;\n    }\n  },\n\n  render: function render() {\n    var h = arguments[0];\n    var $slots = this.$slots;\n\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        trigger = props.trigger,\n        disabled = props.disabled,\n        getPopupContainer = props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n\n    var dropdownTrigger = cloneElement($slots['default'], {\n      'class': prefixCls + '-trigger',\n      props: {\n        disabled: disabled\n      }\n    });\n    var triggerActions = disabled ? [] : trigger;\n    var alignPoint = void 0;\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\n      alignPoint = true;\n    }\n    var dropdownProps = {\n      props: _extends({\n        alignPoint: alignPoint\n      }, props, {\n        prefixCls: prefixCls,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        transitionName: this.getTransitionName(),\n        trigger: triggerActions\n      }),\n      on: getListeners(this)\n    };\n    return h(\n      RcDropdown,\n      dropdownProps,\n      [dropdownTrigger, h(\n        'template',\n        { slot: 'overlay' },\n        [this.renderOverlay(prefixCls)]\n      )]\n    );\n  }\n};\n\nDropdown.Button = DropdownButton;\nexport default Dropdown;\nexport { DropdownProps };"]},"metadata":{},"sourceType":"module"}