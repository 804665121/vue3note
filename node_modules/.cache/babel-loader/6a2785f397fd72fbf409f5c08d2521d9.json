{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport omit from 'omit.js';\nimport BaseMixin from '../../_util/BaseMixin';\nimport PropTypes from '../../_util/vue-types';\nimport raf from 'raf';\nimport KeyCode from './KeyCode';\nimport { getOptionProps, getListeners, getValueByProp } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport Sentinel from './Sentinel';\nimport isValid from '../../_util/isValid';\n\nfunction getDefaultActiveKey(props) {\n  var activeKey = void 0;\n  var children = props.children;\n  children.forEach(function (child) {\n    if (child && !isValid(activeKey) && !child.disabled) {\n      activeKey = child.key;\n    }\n  });\n  return activeKey;\n}\n\nfunction activeKeyIsValid(props, key) {\n  var children = props.children;\n  var keys = children.map(function (child) {\n    return child && child.key;\n  });\n  return keys.indexOf(key) >= 0;\n}\n\nexport default {\n  name: 'Tabs',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'activeKey',\n    event: 'change'\n  },\n  props: {\n    destroyInactiveTabPane: PropTypes.bool,\n    renderTabBar: PropTypes.func.isRequired,\n    renderTabContent: PropTypes.func.isRequired,\n    navWrapper: PropTypes.func.def(function (arg) {\n      return arg;\n    }),\n    children: PropTypes.any.def([]),\n    prefixCls: PropTypes.string.def('ant-tabs'),\n    tabBarPosition: PropTypes.string.def('top'),\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    defaultActiveKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    __propsSymbol__: PropTypes.any,\n    direction: PropTypes.string.def('ltr'),\n    tabBarGutter: PropTypes.number\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    var activeKey = void 0;\n\n    if ('activeKey' in props) {\n      activeKey = props.activeKey;\n    } else if ('defaultActiveKey' in props) {\n      activeKey = props.defaultActiveKey;\n    } else {\n      activeKey = getDefaultActiveKey(props);\n    }\n\n    return {\n      _activeKey: activeKey\n    };\n  },\n  provide: function provide() {\n    return {\n      sentinelContext: this\n    };\n  },\n  watch: {\n    __propsSymbol__: function __propsSymbol__() {\n      var nextProps = getOptionProps(this);\n\n      if ('activeKey' in nextProps) {\n        this.setState({\n          _activeKey: nextProps.activeKey\n        });\n      } else if (!activeKeyIsValid(nextProps, this.$data._activeKey)) {\n        // https://github.com/ant-design/ant-design/issues/7093\n        this.setState({\n          _activeKey: getDefaultActiveKey(nextProps)\n        });\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroy = true;\n    raf.cancel(this.sentinelId);\n  },\n  methods: {\n    onTabClick: function onTabClick(activeKey, e) {\n      if (this.tabBar.componentOptions && this.tabBar.componentOptions.listeners && this.tabBar.componentOptions.listeners.tabClick) {\n        this.tabBar.componentOptions.listeners.tabClick(activeKey, e);\n      }\n\n      this.setActiveKey(activeKey);\n    },\n    onNavKeyDown: function onNavKeyDown(e) {\n      var eventKeyCode = e.keyCode;\n\n      if (eventKeyCode === KeyCode.RIGHT || eventKeyCode === KeyCode.DOWN) {\n        e.preventDefault();\n        var nextKey = this.getNextActiveKey(true);\n        this.onTabClick(nextKey);\n      } else if (eventKeyCode === KeyCode.LEFT || eventKeyCode === KeyCode.UP) {\n        e.preventDefault();\n        var previousKey = this.getNextActiveKey(false);\n        this.onTabClick(previousKey);\n      }\n    },\n    onScroll: function onScroll(_ref) {\n      var target = _ref.target,\n          currentTarget = _ref.currentTarget;\n\n      if (target === currentTarget && target.scrollLeft > 0) {\n        target.scrollLeft = 0;\n      }\n    },\n    // Sentinel for tab index\n    setSentinelStart: function setSentinelStart(node) {\n      this.sentinelStart = node;\n    },\n    setSentinelEnd: function setSentinelEnd(node) {\n      this.sentinelEnd = node;\n    },\n    setPanelSentinelStart: function setPanelSentinelStart(node) {\n      if (node !== this.panelSentinelStart) {\n        this.updateSentinelContext();\n      }\n\n      this.panelSentinelStart = node;\n    },\n    setPanelSentinelEnd: function setPanelSentinelEnd(node) {\n      if (node !== this.panelSentinelEnd) {\n        this.updateSentinelContext();\n      }\n\n      this.panelSentinelEnd = node;\n    },\n    setActiveKey: function setActiveKey(activeKey) {\n      if (this.$data._activeKey !== activeKey) {\n        var props = getOptionProps(this);\n\n        if (!('activeKey' in props)) {\n          this.setState({\n            _activeKey: activeKey\n          });\n        }\n\n        this.__emit('change', activeKey);\n      }\n    },\n    getNextActiveKey: function getNextActiveKey(next) {\n      var activeKey = this.$data._activeKey;\n      var children = [];\n      this.$props.children.forEach(function (c) {\n        var disabled = getValueByProp(c, 'disabled');\n\n        if (c && !disabled && disabled !== '') {\n          if (next) {\n            children.push(c);\n          } else {\n            children.unshift(c);\n          }\n        }\n      });\n      var length = children.length;\n      var ret = length && children[0].key;\n      children.forEach(function (child, i) {\n        if (child.key === activeKey) {\n          if (i === length - 1) {\n            ret = children[0].key;\n          } else {\n            ret = children[i + 1].key;\n          }\n        }\n      });\n      return ret;\n    },\n    updateSentinelContext: function updateSentinelContext() {\n      var _this = this;\n\n      if (this.destroy) return;\n      raf.cancel(this.sentinelId);\n      this.sentinelId = raf(function () {\n        if (_this.destroy) return;\n\n        _this.$forceUpdate();\n      });\n    }\n  },\n  render: function render() {\n    var _cls;\n\n    var h = arguments[0];\n    var props = this.$props;\n    var prefixCls = props.prefixCls,\n        navWrapper = props.navWrapper,\n        tabBarPosition = props.tabBarPosition,\n        renderTabContent = props.renderTabContent,\n        renderTabBar = props.renderTabBar,\n        destroyInactiveTabPane = props.destroyInactiveTabPane,\n        direction = props.direction,\n        tabBarGutter = props.tabBarGutter;\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls, 1), _defineProperty(_cls, prefixCls + '-' + tabBarPosition, 1), _defineProperty(_cls, prefixCls + '-rtl', direction === 'rtl'), _cls);\n    this.tabBar = renderTabBar();\n    var tabBar = cloneElement(this.tabBar, {\n      props: {\n        prefixCls: prefixCls,\n        navWrapper: navWrapper,\n        tabBarPosition: tabBarPosition,\n        panels: props.children,\n        activeKey: this.$data._activeKey,\n        direction: direction,\n        tabBarGutter: tabBarGutter\n      },\n      on: {\n        keydown: this.onNavKeyDown,\n        tabClick: this.onTabClick\n      },\n      key: 'tabBar'\n    });\n    var tabContent = cloneElement(renderTabContent(), {\n      props: {\n        prefixCls: prefixCls,\n        tabBarPosition: tabBarPosition,\n        activeKey: this.$data._activeKey,\n        destroyInactiveTabPane: destroyInactiveTabPane,\n        direction: direction\n      },\n      on: {\n        change: this.setActiveKey\n      },\n      children: props.children,\n      key: 'tabContent'\n    });\n    var sentinelStart = h(Sentinel, {\n      key: 'sentinelStart',\n      attrs: {\n        setRef: this.setSentinelStart,\n        nextElement: this.panelSentinelStart\n      }\n    });\n    var sentinelEnd = h(Sentinel, {\n      key: 'sentinelEnd',\n      attrs: {\n        setRef: this.setSentinelEnd,\n        prevElement: this.panelSentinelEnd\n      }\n    });\n    var contents = [];\n\n    if (tabBarPosition === 'bottom') {\n      contents.push(sentinelStart, tabContent, sentinelEnd, tabBar);\n    } else {\n      contents.push(tabBar, sentinelStart, tabContent, sentinelEnd);\n    }\n\n    var listeners = _extends({}, omit(getListeners(this), ['change']), {\n      scroll: this.onScroll\n    });\n\n    return h('div', {\n      on: listeners,\n      'class': cls\n    }, [contents]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-tabs/src/Tabs.js"],"names":["_extends","_defineProperty","omit","BaseMixin","PropTypes","raf","KeyCode","getOptionProps","getListeners","getValueByProp","cloneElement","Sentinel","isValid","getDefaultActiveKey","props","activeKey","children","forEach","child","disabled","key","activeKeyIsValid","keys","map","indexOf","name","mixins","model","prop","event","destroyInactiveTabPane","bool","renderTabBar","func","isRequired","renderTabContent","navWrapper","def","arg","any","prefixCls","string","tabBarPosition","oneOfType","number","defaultActiveKey","__propsSymbol__","direction","tabBarGutter","data","_activeKey","provide","sentinelContext","watch","nextProps","setState","$data","beforeDestroy","destroy","cancel","sentinelId","methods","onTabClick","e","tabBar","componentOptions","listeners","tabClick","setActiveKey","onNavKeyDown","eventKeyCode","keyCode","RIGHT","DOWN","preventDefault","nextKey","getNextActiveKey","LEFT","UP","previousKey","onScroll","_ref","target","currentTarget","scrollLeft","setSentinelStart","node","sentinelStart","setSentinelEnd","sentinelEnd","setPanelSentinelStart","panelSentinelStart","updateSentinelContext","setPanelSentinelEnd","panelSentinelEnd","__emit","next","$props","c","push","unshift","length","ret","i","_this","$forceUpdate","render","_cls","h","arguments","cls","panels","on","keydown","tabContent","change","attrs","setRef","nextElement","prevElement","contents","scroll"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport omit from 'omit.js';\nimport BaseMixin from '../../_util/BaseMixin';\nimport PropTypes from '../../_util/vue-types';\nimport raf from 'raf';\nimport KeyCode from './KeyCode';\nimport { getOptionProps, getListeners, getValueByProp } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport Sentinel from './Sentinel';\nimport isValid from '../../_util/isValid';\n\nfunction getDefaultActiveKey(props) {\n  var activeKey = void 0;\n  var children = props.children;\n  children.forEach(function (child) {\n    if (child && !isValid(activeKey) && !child.disabled) {\n      activeKey = child.key;\n    }\n  });\n  return activeKey;\n}\n\nfunction activeKeyIsValid(props, key) {\n  var children = props.children;\n  var keys = children.map(function (child) {\n    return child && child.key;\n  });\n  return keys.indexOf(key) >= 0;\n}\n\nexport default {\n  name: 'Tabs',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'activeKey',\n    event: 'change'\n  },\n  props: {\n    destroyInactiveTabPane: PropTypes.bool,\n    renderTabBar: PropTypes.func.isRequired,\n    renderTabContent: PropTypes.func.isRequired,\n    navWrapper: PropTypes.func.def(function (arg) {\n      return arg;\n    }),\n    children: PropTypes.any.def([]),\n    prefixCls: PropTypes.string.def('ant-tabs'),\n    tabBarPosition: PropTypes.string.def('top'),\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    defaultActiveKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    __propsSymbol__: PropTypes.any,\n    direction: PropTypes.string.def('ltr'),\n    tabBarGutter: PropTypes.number\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    var activeKey = void 0;\n    if ('activeKey' in props) {\n      activeKey = props.activeKey;\n    } else if ('defaultActiveKey' in props) {\n      activeKey = props.defaultActiveKey;\n    } else {\n      activeKey = getDefaultActiveKey(props);\n    }\n    return {\n      _activeKey: activeKey\n    };\n  },\n  provide: function provide() {\n    return {\n      sentinelContext: this\n    };\n  },\n\n  watch: {\n    __propsSymbol__: function __propsSymbol__() {\n      var nextProps = getOptionProps(this);\n      if ('activeKey' in nextProps) {\n        this.setState({\n          _activeKey: nextProps.activeKey\n        });\n      } else if (!activeKeyIsValid(nextProps, this.$data._activeKey)) {\n        // https://github.com/ant-design/ant-design/issues/7093\n        this.setState({\n          _activeKey: getDefaultActiveKey(nextProps)\n        });\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroy = true;\n    raf.cancel(this.sentinelId);\n  },\n\n  methods: {\n    onTabClick: function onTabClick(activeKey, e) {\n      if (this.tabBar.componentOptions && this.tabBar.componentOptions.listeners && this.tabBar.componentOptions.listeners.tabClick) {\n        this.tabBar.componentOptions.listeners.tabClick(activeKey, e);\n      }\n      this.setActiveKey(activeKey);\n    },\n    onNavKeyDown: function onNavKeyDown(e) {\n      var eventKeyCode = e.keyCode;\n      if (eventKeyCode === KeyCode.RIGHT || eventKeyCode === KeyCode.DOWN) {\n        e.preventDefault();\n        var nextKey = this.getNextActiveKey(true);\n        this.onTabClick(nextKey);\n      } else if (eventKeyCode === KeyCode.LEFT || eventKeyCode === KeyCode.UP) {\n        e.preventDefault();\n        var previousKey = this.getNextActiveKey(false);\n        this.onTabClick(previousKey);\n      }\n    },\n    onScroll: function onScroll(_ref) {\n      var target = _ref.target,\n          currentTarget = _ref.currentTarget;\n\n      if (target === currentTarget && target.scrollLeft > 0) {\n        target.scrollLeft = 0;\n      }\n    },\n\n\n    // Sentinel for tab index\n    setSentinelStart: function setSentinelStart(node) {\n      this.sentinelStart = node;\n    },\n    setSentinelEnd: function setSentinelEnd(node) {\n      this.sentinelEnd = node;\n    },\n    setPanelSentinelStart: function setPanelSentinelStart(node) {\n      if (node !== this.panelSentinelStart) {\n        this.updateSentinelContext();\n      }\n      this.panelSentinelStart = node;\n    },\n    setPanelSentinelEnd: function setPanelSentinelEnd(node) {\n      if (node !== this.panelSentinelEnd) {\n        this.updateSentinelContext();\n      }\n      this.panelSentinelEnd = node;\n    },\n    setActiveKey: function setActiveKey(activeKey) {\n      if (this.$data._activeKey !== activeKey) {\n        var props = getOptionProps(this);\n        if (!('activeKey' in props)) {\n          this.setState({\n            _activeKey: activeKey\n          });\n        }\n        this.__emit('change', activeKey);\n      }\n    },\n    getNextActiveKey: function getNextActiveKey(next) {\n      var activeKey = this.$data._activeKey;\n      var children = [];\n      this.$props.children.forEach(function (c) {\n        var disabled = getValueByProp(c, 'disabled');\n        if (c && !disabled && disabled !== '') {\n          if (next) {\n            children.push(c);\n          } else {\n            children.unshift(c);\n          }\n        }\n      });\n      var length = children.length;\n      var ret = length && children[0].key;\n      children.forEach(function (child, i) {\n        if (child.key === activeKey) {\n          if (i === length - 1) {\n            ret = children[0].key;\n          } else {\n            ret = children[i + 1].key;\n          }\n        }\n      });\n      return ret;\n    },\n    updateSentinelContext: function updateSentinelContext() {\n      var _this = this;\n\n      if (this.destroy) return;\n\n      raf.cancel(this.sentinelId);\n      this.sentinelId = raf(function () {\n        if (_this.destroy) return;\n        _this.$forceUpdate();\n      });\n    }\n  },\n  render: function render() {\n    var _cls;\n\n    var h = arguments[0];\n\n    var props = this.$props;\n    var prefixCls = props.prefixCls,\n        navWrapper = props.navWrapper,\n        tabBarPosition = props.tabBarPosition,\n        renderTabContent = props.renderTabContent,\n        renderTabBar = props.renderTabBar,\n        destroyInactiveTabPane = props.destroyInactiveTabPane,\n        direction = props.direction,\n        tabBarGutter = props.tabBarGutter;\n\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls, 1), _defineProperty(_cls, prefixCls + '-' + tabBarPosition, 1), _defineProperty(_cls, prefixCls + '-rtl', direction === 'rtl'), _cls);\n\n    this.tabBar = renderTabBar();\n    var tabBar = cloneElement(this.tabBar, {\n      props: {\n        prefixCls: prefixCls,\n        navWrapper: navWrapper,\n        tabBarPosition: tabBarPosition,\n        panels: props.children,\n        activeKey: this.$data._activeKey,\n        direction: direction,\n        tabBarGutter: tabBarGutter\n      },\n      on: {\n        keydown: this.onNavKeyDown,\n        tabClick: this.onTabClick\n      },\n      key: 'tabBar'\n    });\n    var tabContent = cloneElement(renderTabContent(), {\n      props: {\n        prefixCls: prefixCls,\n        tabBarPosition: tabBarPosition,\n        activeKey: this.$data._activeKey,\n        destroyInactiveTabPane: destroyInactiveTabPane,\n        direction: direction\n      },\n      on: {\n        change: this.setActiveKey\n      },\n      children: props.children,\n      key: 'tabContent'\n    });\n\n    var sentinelStart = h(Sentinel, {\n      key: 'sentinelStart',\n      attrs: { setRef: this.setSentinelStart,\n        nextElement: this.panelSentinelStart\n      }\n    });\n    var sentinelEnd = h(Sentinel, {\n      key: 'sentinelEnd',\n      attrs: { setRef: this.setSentinelEnd,\n        prevElement: this.panelSentinelEnd\n      }\n    });\n\n    var contents = [];\n\n    if (tabBarPosition === 'bottom') {\n      contents.push(sentinelStart, tabContent, sentinelEnd, tabBar);\n    } else {\n      contents.push(tabBar, sentinelStart, tabContent, sentinelEnd);\n    }\n    var listeners = _extends({}, omit(getListeners(this), ['change']), {\n      scroll: this.onScroll\n    });\n    return h(\n      'div',\n      { on: listeners, 'class': cls },\n      [contents]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}