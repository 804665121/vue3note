{"ast":null,"code":"import _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport Checkbox from './Checkbox';\nimport hasProp from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nfunction noop() {}\n\nexport default {\n  name: 'ACheckboxGroup',\n  model: {\n    prop: 'value'\n  },\n  props: {\n    name: PropTypes.string,\n    prefixCls: PropTypes.string,\n    defaultValue: PropTypes.array,\n    value: PropTypes.array,\n    options: PropTypes.array.def([]),\n    disabled: PropTypes.bool\n  },\n  provide: function provide() {\n    return {\n      checkboxGroupContext: this\n    };\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    var value = this.value,\n        defaultValue = this.defaultValue;\n    return {\n      sValue: value || defaultValue || [],\n      registeredValues: []\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.sValue = val || [];\n    }\n  },\n  methods: {\n    getOptions: function getOptions() {\n      var options = this.options,\n          $scopedSlots = this.$scopedSlots;\n      return options.map(function (option) {\n        if (typeof option === 'string') {\n          return {\n            label: option,\n            value: option\n          };\n        }\n\n        var label = option.label;\n\n        if (label === undefined && $scopedSlots.label) {\n          label = $scopedSlots.label(option);\n        }\n\n        return _extends({}, option, {\n          label: label\n        });\n      });\n    },\n    cancelValue: function cancelValue(value) {\n      this.registeredValues = this.registeredValues.filter(function (val) {\n        return val !== value;\n      });\n    },\n    registerValue: function registerValue(value) {\n      this.registeredValues = [].concat(_toConsumableArray(this.registeredValues), [value]);\n    },\n    toggleOption: function toggleOption(option) {\n      var registeredValues = this.registeredValues;\n      var optionIndex = this.sValue.indexOf(option.value);\n      var value = [].concat(_toConsumableArray(this.sValue));\n\n      if (optionIndex === -1) {\n        value.push(option.value);\n      } else {\n        value.splice(optionIndex, 1);\n      }\n\n      if (!hasProp(this, 'value')) {\n        this.sValue = value;\n      }\n\n      var options = this.getOptions();\n      var val = value.filter(function (val) {\n        return registeredValues.indexOf(val) !== -1;\n      }).sort(function (a, b) {\n        var indexA = options.findIndex(function (opt) {\n          return opt.value === a;\n        });\n        var indexB = options.findIndex(function (opt) {\n          return opt.value === b;\n        });\n        return indexA - indexB;\n      });\n      this.$emit('input', val);\n      this.$emit('change', val);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var props = this.$props,\n        state = this.$data,\n        $slots = this.$slots;\n    var customizePrefixCls = props.prefixCls,\n        options = props.options;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n    var children = $slots['default'];\n    var groupPrefixCls = prefixCls + '-group';\n\n    if (options && options.length > 0) {\n      children = this.getOptions().map(function (option) {\n        return h(Checkbox, {\n          attrs: {\n            prefixCls: prefixCls,\n            disabled: 'disabled' in option ? option.disabled : props.disabled,\n            indeterminate: option.indeterminate,\n            value: option.value,\n            checked: state.sValue.indexOf(option.value) !== -1\n          },\n          key: option.value.toString(),\n          on: {\n            'change': option.onChange || noop\n          },\n          'class': groupPrefixCls + '-item'\n        }, [option.label]);\n      });\n    }\n\n    return h('div', {\n      'class': groupPrefixCls\n    }, [children]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/checkbox/Group.js"],"names":["_toConsumableArray","_extends","PropTypes","Checkbox","hasProp","ConfigConsumerProps","noop","name","model","prop","props","string","prefixCls","defaultValue","array","value","options","def","disabled","bool","provide","checkboxGroupContext","inject","configProvider","_default","data","sValue","registeredValues","watch","val","methods","getOptions","$scopedSlots","map","option","label","undefined","cancelValue","filter","registerValue","concat","toggleOption","optionIndex","indexOf","push","splice","sort","a","b","indexA","findIndex","opt","indexB","$emit","render","h","arguments","$props","state","$data","$slots","customizePrefixCls","getPrefixCls","children","groupPrefixCls","length","attrs","indeterminate","checked","key","toString","on","onChange"],"mappings":"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","sourcesContent":["import _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport Checkbox from './Checkbox';\nimport hasProp from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nfunction noop() {}\nexport default {\n  name: 'ACheckboxGroup',\n  model: {\n    prop: 'value'\n  },\n  props: {\n    name: PropTypes.string,\n    prefixCls: PropTypes.string,\n    defaultValue: PropTypes.array,\n    value: PropTypes.array,\n    options: PropTypes.array.def([]),\n    disabled: PropTypes.bool\n  },\n  provide: function provide() {\n    return {\n      checkboxGroupContext: this\n    };\n  },\n\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    var value = this.value,\n        defaultValue = this.defaultValue;\n\n    return {\n      sValue: value || defaultValue || [],\n      registeredValues: []\n    };\n  },\n\n  watch: {\n    value: function value(val) {\n      this.sValue = val || [];\n    }\n  },\n  methods: {\n    getOptions: function getOptions() {\n      var options = this.options,\n          $scopedSlots = this.$scopedSlots;\n\n      return options.map(function (option) {\n        if (typeof option === 'string') {\n          return {\n            label: option,\n            value: option\n          };\n        }\n        var label = option.label;\n        if (label === undefined && $scopedSlots.label) {\n          label = $scopedSlots.label(option);\n        }\n        return _extends({}, option, { label: label });\n      });\n    },\n    cancelValue: function cancelValue(value) {\n      this.registeredValues = this.registeredValues.filter(function (val) {\n        return val !== value;\n      });\n    },\n    registerValue: function registerValue(value) {\n      this.registeredValues = [].concat(_toConsumableArray(this.registeredValues), [value]);\n    },\n    toggleOption: function toggleOption(option) {\n      var registeredValues = this.registeredValues;\n\n      var optionIndex = this.sValue.indexOf(option.value);\n      var value = [].concat(_toConsumableArray(this.sValue));\n      if (optionIndex === -1) {\n        value.push(option.value);\n      } else {\n        value.splice(optionIndex, 1);\n      }\n      if (!hasProp(this, 'value')) {\n        this.sValue = value;\n      }\n      var options = this.getOptions();\n      var val = value.filter(function (val) {\n        return registeredValues.indexOf(val) !== -1;\n      }).sort(function (a, b) {\n        var indexA = options.findIndex(function (opt) {\n          return opt.value === a;\n        });\n        var indexB = options.findIndex(function (opt) {\n          return opt.value === b;\n        });\n        return indexA - indexB;\n      });\n      this.$emit('input', val);\n      this.$emit('change', val);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var props = this.$props,\n        state = this.$data,\n        $slots = this.$slots;\n    var customizePrefixCls = props.prefixCls,\n        options = props.options;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n\n    var children = $slots['default'];\n    var groupPrefixCls = prefixCls + '-group';\n    if (options && options.length > 0) {\n      children = this.getOptions().map(function (option) {\n        return h(\n          Checkbox,\n          {\n            attrs: {\n              prefixCls: prefixCls,\n\n              disabled: 'disabled' in option ? option.disabled : props.disabled,\n              indeterminate: option.indeterminate,\n              value: option.value,\n              checked: state.sValue.indexOf(option.value) !== -1\n            },\n            key: option.value.toString(), on: {\n              'change': option.onChange || noop\n            },\n\n            'class': groupPrefixCls + '-item'\n          },\n          [option.label]\n        );\n      });\n    }\n    return h(\n      'div',\n      { 'class': groupPrefixCls },\n      [children]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}