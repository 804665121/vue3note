{"ast":null,"code":"import cssAnimation from './css-animation';\nimport raf from 'raf';\nimport Vue from 'vue';\n\nfunction animate(node, show, done) {\n  var height = void 0;\n  var requestAnimationFrameId = void 0;\n  var appearRequestAnimationFrameId = void 0;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (appearRequestAnimationFrameId) {\n        raf.cancel(appearRequestAnimationFrameId);\n      }\n\n      if (!show) {\n        node.style.height = node.offsetHeight + 'px';\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight; // not get offsetHeight when appear\n        // set it into raf get correct offsetHeight\n\n        if (height === 0) {\n          appearRequestAnimationFrameId = raf(function () {\n            height = node.offsetHeight;\n            node.style.height = '0px';\n            node.style.opacity = '0';\n          });\n        } else {\n          node.style.height = '0px';\n          node.style.opacity = '0';\n        }\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = raf(function () {\n        node.style.height = (show ? height : 0) + 'px';\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (appearRequestAnimationFrameId) {\n        raf.cancel(appearRequestAnimationFrameId);\n      }\n\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done && done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    Vue.nextTick(function () {\n      animate(node, true, done);\n    });\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  }\n};\nexport default animation;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/_util/openAnimation.js"],"names":["cssAnimation","raf","Vue","animate","node","show","done","height","requestAnimationFrameId","appearRequestAnimationFrameId","start","cancel","style","offsetHeight","opacity","active","end","animation","enter","nextTick","leave"],"mappings":"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","sourcesContent":["import cssAnimation from './css-animation';\nimport raf from 'raf';\nimport Vue from 'vue';\n\nfunction animate(node, show, done) {\n  var height = void 0;\n  var requestAnimationFrameId = void 0;\n  var appearRequestAnimationFrameId = void 0;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (appearRequestAnimationFrameId) {\n        raf.cancel(appearRequestAnimationFrameId);\n      }\n      if (!show) {\n        node.style.height = node.offsetHeight + 'px';\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight;\n        // not get offsetHeight when appear\n        // set it into raf get correct offsetHeight\n        if (height === 0) {\n          appearRequestAnimationFrameId = raf(function () {\n            height = node.offsetHeight;\n            node.style.height = '0px';\n            node.style.opacity = '0';\n          });\n        } else {\n          node.style.height = '0px';\n          node.style.opacity = '0';\n        }\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n      requestAnimationFrameId = raf(function () {\n        node.style.height = (show ? height : 0) + 'px';\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (appearRequestAnimationFrameId) {\n        raf.cancel(appearRequestAnimationFrameId);\n      }\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n      node.style.height = '';\n      node.style.opacity = '';\n      done && done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    Vue.nextTick(function () {\n      animate(node, true, done);\n    });\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  }\n};\n\nexport default animation;"]},"metadata":{},"sourceType":"module"}