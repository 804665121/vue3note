{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport { isMobile } from 'is-mobile';\nimport Input from './Input';\nimport Icon from '../icon';\nimport inputProps from './inputProps';\nimport Button from '../button';\nimport { cloneElement } from '../_util/vnode';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getComponentFromProp, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nexport default {\n  name: 'AInputSearch',\n  inheritAttrs: false,\n  model: {\n    prop: 'value',\n    event: 'change.value'\n  },\n  props: _extends({}, inputProps, {\n    // 不能设置默认值 https://github.com/vueComponent/ant-design-vue/issues/1916\n    enterButton: PropTypes.any\n  }),\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  methods: {\n    onChange: function onChange(e) {\n      if (e && e.target && e.type === 'click') {\n        this.$emit('search', e.target.value, e);\n      }\n\n      this.$emit('change', e);\n    },\n    onSearch: function onSearch(e) {\n      if (this.loading || this.disabled) {\n        return;\n      }\n\n      this.$emit('search', this.$refs.input.stateValue, e);\n\n      if (!isMobile({\n        tablet: true\n      })) {\n        this.$refs.input.focus();\n      }\n    },\n    focus: function focus() {\n      this.$refs.input.focus();\n    },\n    blur: function blur() {\n      this.$refs.input.blur();\n    },\n    renderLoading: function renderLoading(prefixCls) {\n      var h = this.$createElement;\n      var size = this.$props.size;\n      var enterButton = getComponentFromProp(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (enterButton) {\n        return h(Button, {\n          'class': prefixCls + '-button',\n          attrs: {\n            type: 'primary',\n            size: size\n          },\n          key: 'enterButton'\n        }, [h(Icon, {\n          attrs: {\n            type: 'loading'\n          }\n        })]);\n      }\n\n      return h(Icon, {\n        'class': prefixCls + '-icon',\n        attrs: {\n          type: 'loading'\n        },\n        key: 'loadingIcon'\n      });\n    },\n    renderSuffix: function renderSuffix(prefixCls) {\n      var h = this.$createElement;\n      var loading = this.loading;\n      var suffix = getComponentFromProp(this, 'suffix');\n      var enterButton = getComponentFromProp(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (loading && !enterButton) {\n        return [suffix, this.renderLoading(prefixCls)];\n      }\n\n      if (enterButton) return suffix;\n      var icon = h(Icon, {\n        'class': prefixCls + '-icon',\n        attrs: {\n          type: 'search'\n        },\n        key: 'searchIcon',\n        on: {\n          'click': this.onSearch\n        }\n      });\n\n      if (suffix) {\n        // let cloneSuffix = suffix;\n        // if (isValidElement(cloneSuffix) && !cloneSuffix.key) {\n        //   cloneSuffix = cloneElement(cloneSuffix, {\n        //     key: 'originSuffix',\n        //   });\n        // }\n        return [suffix, icon];\n      }\n\n      return icon;\n    },\n    renderAddonAfter: function renderAddonAfter(prefixCls) {\n      var h = this.$createElement;\n      var size = this.size,\n          disabled = this.disabled,\n          loading = this.loading;\n      var btnClassName = prefixCls + '-button';\n      var enterButton = getComponentFromProp(this, 'enterButton');\n      enterButton = enterButton || enterButton === '';\n      var addonAfter = getComponentFromProp(this, 'addonAfter');\n\n      if (loading && enterButton) {\n        return [this.renderLoading(prefixCls), addonAfter];\n      }\n\n      if (!enterButton) return addonAfter;\n      var enterButtonAsElement = Array.isArray(enterButton) ? enterButton[0] : enterButton;\n      var button = void 0;\n      var isAntdButton = enterButtonAsElement.componentOptions && enterButtonAsElement.componentOptions.Ctor.extendOptions.__ANT_BUTTON;\n\n      if (enterButtonAsElement.tag === 'button' || isAntdButton) {\n        button = cloneElement(enterButtonAsElement, {\n          key: 'enterButton',\n          'class': isAntdButton ? btnClassName : '',\n          props: isAntdButton ? {\n            size: size\n          } : {},\n          on: {\n            click: this.onSearch\n          }\n        });\n      } else {\n        button = h(Button, {\n          'class': btnClassName,\n          attrs: {\n            type: 'primary',\n            size: size,\n            disabled: disabled\n          },\n          key: 'enterButton',\n          on: {\n            'click': this.onSearch\n          }\n        }, [enterButton === true || enterButton === '' ? h(Icon, {\n          attrs: {\n            type: 'search'\n          }\n        }) : enterButton]);\n      }\n\n      if (addonAfter) {\n        return [button, addonAfter];\n      }\n\n      return button;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    var _getOptionProps = getOptionProps(this),\n        customizePrefixCls = _getOptionProps.prefixCls,\n        customizeInputPrefixCls = _getOptionProps.inputPrefixCls,\n        size = _getOptionProps.size,\n        loading = _getOptionProps.loading,\n        others = _objectWithoutProperties(_getOptionProps, ['prefixCls', 'inputPrefixCls', 'size', 'loading']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input-search', customizePrefixCls);\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n    var enterButton = getComponentFromProp(this, 'enterButton');\n    var addonBefore = getComponentFromProp(this, 'addonBefore');\n    enterButton = enterButton || enterButton === '';\n    var inputClassName = void 0;\n\n    if (enterButton) {\n      var _classNames;\n\n      inputClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-enter-button', !!enterButton), _defineProperty(_classNames, prefixCls + '-' + size, !!size), _classNames));\n    } else {\n      inputClassName = prefixCls;\n    }\n\n    var on = _extends({}, getListeners(this));\n\n    delete on.search;\n    var inputProps = {\n      props: _extends({}, others, {\n        prefixCls: inputPrefixCls,\n        size: size,\n        suffix: this.renderSuffix(prefixCls),\n        prefix: getComponentFromProp(this, 'prefix'),\n        addonAfter: this.renderAddonAfter(prefixCls),\n        addonBefore: addonBefore,\n        className: inputClassName\n      }),\n      attrs: this.$attrs,\n      ref: 'input',\n      on: _extends({\n        pressEnter: this.onSearch\n      }, on, {\n        change: this.onChange\n      })\n    };\n    return h(Input, inputProps);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/input/Search.js"],"names":["_defineProperty","_objectWithoutProperties","_extends","classNames","isMobile","Input","Icon","inputProps","Button","cloneElement","PropTypes","getOptionProps","getComponentFromProp","getListeners","ConfigConsumerProps","name","inheritAttrs","model","prop","event","props","enterButton","any","inject","configProvider","_default","methods","onChange","e","target","type","$emit","value","onSearch","loading","disabled","$refs","input","stateValue","tablet","focus","blur","renderLoading","prefixCls","h","$createElement","size","$props","attrs","key","renderSuffix","suffix","icon","on","renderAddonAfter","btnClassName","addonAfter","enterButtonAsElement","Array","isArray","button","isAntdButton","componentOptions","Ctor","extendOptions","__ANT_BUTTON","tag","click","render","arguments","_getOptionProps","customizePrefixCls","customizeInputPrefixCls","inputPrefixCls","others","getPrefixCls","addonBefore","inputClassName","_classNames","search","prefix","className","$attrs","ref","pressEnter","change"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,sCAA5B;AACA,OAAOC,wBAAP,MAAqC,+CAArC;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,QAAT,QAAyB,WAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,cAAT,EAAyBC,oBAAzB,EAA+CC,YAA/C,QAAmE,qBAAnE;AACA,SAASC,mBAAT,QAAoC,wCAApC;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,cADO;AAEbC,EAAAA,YAAY,EAAE,KAFD;AAGbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,OADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GAHM;AAObC,EAAAA,KAAK,EAAElB,QAAQ,CAAC,EAAD,EAAKK,UAAL,EAAiB;AAC9B;AACAc,IAAAA,WAAW,EAAEX,SAAS,CAACY;AAFO,GAAjB,CAPF;AAWbC,EAAAA,MAAM,EAAE;AACNC,IAAAA,cAAc,EAAE;AAAE,iBAAW,SAASC,QAAT,GAAoB;AAC7C,eAAOX,mBAAP;AACD;AAFa;AADV,GAXK;AAgBbY,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;AAC7B,UAAIA,CAAC,IAAIA,CAAC,CAACC,MAAP,IAAiBD,CAAC,CAACE,IAAF,KAAW,OAAhC,EAAyC;AACvC,aAAKC,KAAL,CAAW,QAAX,EAAqBH,CAAC,CAACC,MAAF,CAASG,KAA9B,EAAqCJ,CAArC;AACD;;AACD,WAAKG,KAAL,CAAW,QAAX,EAAqBH,CAArB;AACD,KANM;AAOPK,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBL,CAAlB,EAAqB;AAC7B,UAAI,KAAKM,OAAL,IAAgB,KAAKC,QAAzB,EAAmC;AACjC;AACD;;AACD,WAAKJ,KAAL,CAAW,QAAX,EAAqB,KAAKK,KAAL,CAAWC,KAAX,CAAiBC,UAAtC,EAAkDV,CAAlD;;AACA,UAAI,CAACxB,QAAQ,CAAC;AAAEmC,QAAAA,MAAM,EAAE;AAAV,OAAD,CAAb,EAAiC;AAC/B,aAAKH,KAAL,CAAWC,KAAX,CAAiBG,KAAjB;AACD;AACF,KAfM;AAgBPA,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,WAAKJ,KAAL,CAAWC,KAAX,CAAiBG,KAAjB;AACD,KAlBM;AAmBPC,IAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,WAAKL,KAAL,CAAWC,KAAX,CAAiBI,IAAjB;AACD,KArBM;AAsBPC,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBC,SAAvB,EAAkC;AAC/C,UAAIC,CAAC,GAAG,KAAKC,cAAb;AACA,UAAIC,IAAI,GAAG,KAAKC,MAAL,CAAYD,IAAvB;AAEA,UAAIzB,WAAW,GAAGT,oBAAoB,CAAC,IAAD,EAAO,aAAP,CAAtC,CAJ+C,CAK/C;;AACAS,MAAAA,WAAW,GAAGA,WAAW,IAAIA,WAAW,KAAK,EAA7C;;AACA,UAAIA,WAAJ,EAAiB;AACf,eAAOuB,CAAC,CACNpC,MADM,EAEN;AAAE,mBAASmC,SAAS,GAAG,SAAvB;AAAkCK,UAAAA,KAAK,EAAE;AAAElB,YAAAA,IAAI,EAAE,SAAR;AAAmBgB,YAAAA,IAAI,EAAEA;AAAzB,WAAzC;AACEG,UAAAA,GAAG,EAAE;AADP,SAFM,EAIN,CAACL,CAAC,CAACtC,IAAD,EAAO;AACP0C,UAAAA,KAAK,EAAE;AAAElB,YAAAA,IAAI,EAAE;AAAR;AADA,SAAP,CAAF,CAJM,CAAR;AAQD;;AACD,aAAOc,CAAC,CAACtC,IAAD,EAAO;AAAE,iBAASqC,SAAS,GAAG,OAAvB;AAAgCK,QAAAA,KAAK,EAAE;AAAElB,UAAAA,IAAI,EAAE;AAAR,SAAvC;AACbmB,QAAAA,GAAG,EAAE;AADQ,OAAP,CAAR;AAED,KAzCM;AA0CPC,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBP,SAAtB,EAAiC;AAC7C,UAAIC,CAAC,GAAG,KAAKC,cAAb;AACA,UAAIX,OAAO,GAAG,KAAKA,OAAnB;AAEA,UAAIiB,MAAM,GAAGvC,oBAAoB,CAAC,IAAD,EAAO,QAAP,CAAjC;AACA,UAAIS,WAAW,GAAGT,oBAAoB,CAAC,IAAD,EAAO,aAAP,CAAtC,CAL6C,CAM7C;;AACAS,MAAAA,WAAW,GAAGA,WAAW,IAAIA,WAAW,KAAK,EAA7C;;AACA,UAAIa,OAAO,IAAI,CAACb,WAAhB,EAA6B;AAC3B,eAAO,CAAC8B,MAAD,EAAS,KAAKT,aAAL,CAAmBC,SAAnB,CAAT,CAAP;AACD;;AAED,UAAItB,WAAJ,EAAiB,OAAO8B,MAAP;AAEjB,UAAIC,IAAI,GAAGR,CAAC,CAACtC,IAAD,EAAO;AAAE,iBAASqC,SAAS,GAAG,OAAvB;AAAgCK,QAAAA,KAAK,EAAE;AAAElB,UAAAA,IAAI,EAAE;AAAR,SAAvC;AACjBmB,QAAAA,GAAG,EAAE,YADY;AACEI,QAAAA,EAAE,EAAE;AACrB,mBAAS,KAAKpB;AADO;AADN,OAAP,CAAZ;;AAMA,UAAIkB,MAAJ,EAAY;AACV;AACA;AACA;AACA;AACA;AACA;AACA,eAAO,CAACA,MAAD,EAASC,IAAT,CAAP;AACD;;AAED,aAAOA,IAAP;AACD,KAzEM;AA0EPE,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BX,SAA1B,EAAqC;AACrD,UAAIC,CAAC,GAAG,KAAKC,cAAb;AACA,UAAIC,IAAI,GAAG,KAAKA,IAAhB;AAAA,UACIX,QAAQ,GAAG,KAAKA,QADpB;AAAA,UAEID,OAAO,GAAG,KAAKA,OAFnB;AAIA,UAAIqB,YAAY,GAAGZ,SAAS,GAAG,SAA/B;AACA,UAAItB,WAAW,GAAGT,oBAAoB,CAAC,IAAD,EAAO,aAAP,CAAtC;AACAS,MAAAA,WAAW,GAAGA,WAAW,IAAIA,WAAW,KAAK,EAA7C;AACA,UAAImC,UAAU,GAAG5C,oBAAoB,CAAC,IAAD,EAAO,YAAP,CAArC;;AACA,UAAIsB,OAAO,IAAIb,WAAf,EAA4B;AAC1B,eAAO,CAAC,KAAKqB,aAAL,CAAmBC,SAAnB,CAAD,EAAgCa,UAAhC,CAAP;AACD;;AACD,UAAI,CAACnC,WAAL,EAAkB,OAAOmC,UAAP;AAClB,UAAIC,oBAAoB,GAAGC,KAAK,CAACC,OAAN,CAActC,WAAd,IAA6BA,WAAW,CAAC,CAAD,CAAxC,GAA8CA,WAAzE;AACA,UAAIuC,MAAM,GAAG,KAAK,CAAlB;AACA,UAAIC,YAAY,GAAGJ,oBAAoB,CAACK,gBAArB,IAAyCL,oBAAoB,CAACK,gBAArB,CAAsCC,IAAtC,CAA2CC,aAA3C,CAAyDC,YAArH;;AACA,UAAIR,oBAAoB,CAACS,GAArB,KAA6B,QAA7B,IAAyCL,YAA7C,EAA2D;AACzDD,QAAAA,MAAM,GAAGnD,YAAY,CAACgD,oBAAD,EAAuB;AAC1CR,UAAAA,GAAG,EAAE,aADqC;AAE1C,mBAASY,YAAY,GAAGN,YAAH,GAAkB,EAFG;AAG1CnC,UAAAA,KAAK,EAAEyC,YAAY,GAAG;AAAEf,YAAAA,IAAI,EAAEA;AAAR,WAAH,GAAoB,EAHG;AAI1CO,UAAAA,EAAE,EAAE;AACFc,YAAAA,KAAK,EAAE,KAAKlC;AADV;AAJsC,SAAvB,CAArB;AAQD,OATD,MASO;AACL2B,QAAAA,MAAM,GAAGhB,CAAC,CACRpC,MADQ,EAER;AACE,mBAAS+C,YADX;AAEEP,UAAAA,KAAK,EAAE;AAAElB,YAAAA,IAAI,EAAE,SAAR;AACLgB,YAAAA,IAAI,EAAEA,IADD;AAELX,YAAAA,QAAQ,EAAEA;AAFL,WAFT;AAMEc,UAAAA,GAAG,EAAE,aANP;AAOEI,UAAAA,EAAE,EAAE;AACF,qBAAS,KAAKpB;AADZ;AAPN,SAFQ,EAaR,CAACZ,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,EAAxC,GAA6CuB,CAAC,CAACtC,IAAD,EAAO;AACpD0C,UAAAA,KAAK,EAAE;AAAElB,YAAAA,IAAI,EAAE;AAAR;AAD6C,SAAP,CAA9C,GAEIT,WAFL,CAbQ,CAAV;AAiBD;;AACD,UAAImC,UAAJ,EAAgB;AACd,eAAO,CAACI,MAAD,EAASJ,UAAT,CAAP;AACD;;AAED,aAAOI,MAAP;AACD;AA5HM,GAhBI;AA8IbQ,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIxB,CAAC,GAAGyB,SAAS,CAAC,CAAD,CAAjB;;AAEA,QAAIC,eAAe,GAAG3D,cAAc,CAAC,IAAD,CAApC;AAAA,QACI4D,kBAAkB,GAAGD,eAAe,CAAC3B,SADzC;AAAA,QAEI6B,uBAAuB,GAAGF,eAAe,CAACG,cAF9C;AAAA,QAGI3B,IAAI,GAAGwB,eAAe,CAACxB,IAH3B;AAAA,QAIIZ,OAAO,GAAGoC,eAAe,CAACpC,OAJ9B;AAAA,QAKIwC,MAAM,GAAGzE,wBAAwB,CAACqE,eAAD,EAAkB,CAAC,WAAD,EAAc,gBAAd,EAAgC,MAAhC,EAAwC,SAAxC,CAAlB,CALrC;;AAOA,QAAIK,YAAY,GAAG,KAAKnD,cAAL,CAAoBmD,YAAvC;AACA,QAAIhC,SAAS,GAAGgC,YAAY,CAAC,cAAD,EAAiBJ,kBAAjB,CAA5B;AACA,QAAIE,cAAc,GAAGE,YAAY,CAAC,OAAD,EAAUH,uBAAV,CAAjC;AAEA,QAAInD,WAAW,GAAGT,oBAAoB,CAAC,IAAD,EAAO,aAAP,CAAtC;AACA,QAAIgE,WAAW,GAAGhE,oBAAoB,CAAC,IAAD,EAAO,aAAP,CAAtC;AACAS,IAAAA,WAAW,GAAGA,WAAW,IAAIA,WAAW,KAAK,EAA7C;AACA,QAAIwD,cAAc,GAAG,KAAK,CAA1B;;AACA,QAAIxD,WAAJ,EAAiB;AACf,UAAIyD,WAAJ;;AAEAD,MAAAA,cAAc,GAAG1E,UAAU,CAACwC,SAAD,GAAamC,WAAW,GAAG,EAAd,EAAkB9E,eAAe,CAAC8E,WAAD,EAAcnC,SAAS,GAAG,eAA1B,EAA2C,CAAC,CAACtB,WAA7C,CAAjC,EAA4FrB,eAAe,CAAC8E,WAAD,EAAcnC,SAAS,GAAG,GAAZ,GAAkBG,IAAhC,EAAsC,CAAC,CAACA,IAAxC,CAA3G,EAA0JgC,WAAvK,EAA3B;AACD,KAJD,MAIO;AACLD,MAAAA,cAAc,GAAGlC,SAAjB;AACD;;AAED,QAAIU,EAAE,GAAGnD,QAAQ,CAAC,EAAD,EAAKW,YAAY,CAAC,IAAD,CAAjB,CAAjB;;AACA,WAAOwC,EAAE,CAAC0B,MAAV;AACA,QAAIxE,UAAU,GAAG;AACfa,MAAAA,KAAK,EAAElB,QAAQ,CAAC,EAAD,EAAKwE,MAAL,EAAa;AAC1B/B,QAAAA,SAAS,EAAE8B,cADe;AAE1B3B,QAAAA,IAAI,EAAEA,IAFoB;AAG1BK,QAAAA,MAAM,EAAE,KAAKD,YAAL,CAAkBP,SAAlB,CAHkB;AAI1BqC,QAAAA,MAAM,EAAEpE,oBAAoB,CAAC,IAAD,EAAO,QAAP,CAJF;AAK1B4C,QAAAA,UAAU,EAAE,KAAKF,gBAAL,CAAsBX,SAAtB,CALc;AAM1BiC,QAAAA,WAAW,EAAEA,WANa;AAO1BK,QAAAA,SAAS,EAAEJ;AAPe,OAAb,CADA;AAUf7B,MAAAA,KAAK,EAAE,KAAKkC,MAVG;AAWfC,MAAAA,GAAG,EAAE,OAXU;AAYf9B,MAAAA,EAAE,EAAEnD,QAAQ,CAAC;AACXkF,QAAAA,UAAU,EAAE,KAAKnD;AADN,OAAD,EAEToB,EAFS,EAEL;AACLgC,QAAAA,MAAM,EAAE,KAAK1D;AADR,OAFK;AAZG,KAAjB;AAkBA,WAAOiB,CAAC,CAACvC,KAAD,EAAQE,UAAR,CAAR;AACD;AA7LY,CAAf","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classNames from 'classnames';\nimport { isMobile } from 'is-mobile';\nimport Input from './Input';\nimport Icon from '../icon';\nimport inputProps from './inputProps';\nimport Button from '../button';\nimport { cloneElement } from '../_util/vnode';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getComponentFromProp, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\n\nexport default {\n  name: 'AInputSearch',\n  inheritAttrs: false,\n  model: {\n    prop: 'value',\n    event: 'change.value'\n  },\n  props: _extends({}, inputProps, {\n    // 不能设置默认值 https://github.com/vueComponent/ant-design-vue/issues/1916\n    enterButton: PropTypes.any\n  }),\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  methods: {\n    onChange: function onChange(e) {\n      if (e && e.target && e.type === 'click') {\n        this.$emit('search', e.target.value, e);\n      }\n      this.$emit('change', e);\n    },\n    onSearch: function onSearch(e) {\n      if (this.loading || this.disabled) {\n        return;\n      }\n      this.$emit('search', this.$refs.input.stateValue, e);\n      if (!isMobile({ tablet: true })) {\n        this.$refs.input.focus();\n      }\n    },\n    focus: function focus() {\n      this.$refs.input.focus();\n    },\n    blur: function blur() {\n      this.$refs.input.blur();\n    },\n    renderLoading: function renderLoading(prefixCls) {\n      var h = this.$createElement;\n      var size = this.$props.size;\n\n      var enterButton = getComponentFromProp(this, 'enterButton');\n      // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n      enterButton = enterButton || enterButton === '';\n      if (enterButton) {\n        return h(\n          Button,\n          { 'class': prefixCls + '-button', attrs: { type: 'primary', size: size },\n            key: 'enterButton' },\n          [h(Icon, {\n            attrs: { type: 'loading' }\n          })]\n        );\n      }\n      return h(Icon, { 'class': prefixCls + '-icon', attrs: { type: 'loading' },\n        key: 'loadingIcon' });\n    },\n    renderSuffix: function renderSuffix(prefixCls) {\n      var h = this.$createElement;\n      var loading = this.loading;\n\n      var suffix = getComponentFromProp(this, 'suffix');\n      var enterButton = getComponentFromProp(this, 'enterButton');\n      // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n      enterButton = enterButton || enterButton === '';\n      if (loading && !enterButton) {\n        return [suffix, this.renderLoading(prefixCls)];\n      }\n\n      if (enterButton) return suffix;\n\n      var icon = h(Icon, { 'class': prefixCls + '-icon', attrs: { type: 'search' },\n        key: 'searchIcon', on: {\n          'click': this.onSearch\n        }\n      });\n\n      if (suffix) {\n        // let cloneSuffix = suffix;\n        // if (isValidElement(cloneSuffix) && !cloneSuffix.key) {\n        //   cloneSuffix = cloneElement(cloneSuffix, {\n        //     key: 'originSuffix',\n        //   });\n        // }\n        return [suffix, icon];\n      }\n\n      return icon;\n    },\n    renderAddonAfter: function renderAddonAfter(prefixCls) {\n      var h = this.$createElement;\n      var size = this.size,\n          disabled = this.disabled,\n          loading = this.loading;\n\n      var btnClassName = prefixCls + '-button';\n      var enterButton = getComponentFromProp(this, 'enterButton');\n      enterButton = enterButton || enterButton === '';\n      var addonAfter = getComponentFromProp(this, 'addonAfter');\n      if (loading && enterButton) {\n        return [this.renderLoading(prefixCls), addonAfter];\n      }\n      if (!enterButton) return addonAfter;\n      var enterButtonAsElement = Array.isArray(enterButton) ? enterButton[0] : enterButton;\n      var button = void 0;\n      var isAntdButton = enterButtonAsElement.componentOptions && enterButtonAsElement.componentOptions.Ctor.extendOptions.__ANT_BUTTON;\n      if (enterButtonAsElement.tag === 'button' || isAntdButton) {\n        button = cloneElement(enterButtonAsElement, {\n          key: 'enterButton',\n          'class': isAntdButton ? btnClassName : '',\n          props: isAntdButton ? { size: size } : {},\n          on: {\n            click: this.onSearch\n          }\n        });\n      } else {\n        button = h(\n          Button,\n          {\n            'class': btnClassName,\n            attrs: { type: 'primary',\n              size: size,\n              disabled: disabled\n            },\n            key: 'enterButton',\n            on: {\n              'click': this.onSearch\n            }\n          },\n          [enterButton === true || enterButton === '' ? h(Icon, {\n            attrs: { type: 'search' }\n          }) : enterButton]\n        );\n      }\n      if (addonAfter) {\n        return [button, addonAfter];\n      }\n\n      return button;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    var _getOptionProps = getOptionProps(this),\n        customizePrefixCls = _getOptionProps.prefixCls,\n        customizeInputPrefixCls = _getOptionProps.inputPrefixCls,\n        size = _getOptionProps.size,\n        loading = _getOptionProps.loading,\n        others = _objectWithoutProperties(_getOptionProps, ['prefixCls', 'inputPrefixCls', 'size', 'loading']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input-search', customizePrefixCls);\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n\n    var enterButton = getComponentFromProp(this, 'enterButton');\n    var addonBefore = getComponentFromProp(this, 'addonBefore');\n    enterButton = enterButton || enterButton === '';\n    var inputClassName = void 0;\n    if (enterButton) {\n      var _classNames;\n\n      inputClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-enter-button', !!enterButton), _defineProperty(_classNames, prefixCls + '-' + size, !!size), _classNames));\n    } else {\n      inputClassName = prefixCls;\n    }\n\n    var on = _extends({}, getListeners(this));\n    delete on.search;\n    var inputProps = {\n      props: _extends({}, others, {\n        prefixCls: inputPrefixCls,\n        size: size,\n        suffix: this.renderSuffix(prefixCls),\n        prefix: getComponentFromProp(this, 'prefix'),\n        addonAfter: this.renderAddonAfter(prefixCls),\n        addonBefore: addonBefore,\n        className: inputClassName\n      }),\n      attrs: this.$attrs,\n      ref: 'input',\n      on: _extends({\n        pressEnter: this.onSearch\n      }, on, {\n        change: this.onChange\n      })\n    };\n    return h(Input, inputProps);\n  }\n};"]},"metadata":{},"sourceType":"module"}