{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTreeSelect, { TreeNode, SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from '../vc-tree-select';\nimport classNames from 'classnames';\nimport { TreeSelectProps } from './interface';\nimport warning from '../_util/warning';\nimport { initDefaultProps, getOptionProps, getComponentFromProp, filterEmpty, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\nexport { TreeData, TreeSelectProps } from './interface';\nimport Icon from '../icon';\nimport omit from 'omit.js';\nvar TreeSelect = {\n  TreeNode: _extends({}, TreeNode, {\n    name: 'ATreeSelectNode'\n  }),\n  SHOW_ALL: SHOW_ALL,\n  SHOW_PARENT: SHOW_PARENT,\n  SHOW_CHILD: SHOW_CHILD,\n  name: 'ATreeSelect',\n  props: initDefaultProps(TreeSelectProps(), {\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n    showSearch: false\n  }),\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  created: function created() {\n    warning(this.multiple !== false || !this.treeCheckable, 'TreeSelect', '`multiple` will alway be `true` when `treeCheckable` is true');\n  },\n  methods: {\n    focus: function focus() {\n      this.$refs.vcTreeSelect.focus();\n    },\n    blur: function blur() {\n      this.$refs.vcTreeSelect.blur();\n    },\n    renderSwitcherIcon: function renderSwitcherIcon(prefixCls, _ref) {\n      var isLeaf = _ref.isLeaf,\n          loading = _ref.loading;\n      var h = this.$createElement;\n\n      if (loading) {\n        return h(Icon, {\n          attrs: {\n            type: 'loading'\n          },\n          'class': prefixCls + '-switcher-loading-icon'\n        });\n      }\n\n      if (isLeaf) {\n        return null;\n      }\n\n      return h(Icon, {\n        attrs: {\n          type: 'caret-down'\n        },\n        'class': prefixCls + '-switcher-icon'\n      });\n    },\n    onChange: function onChange() {\n      this.$emit.apply(this, ['change'].concat(Array.prototype.slice.call(arguments)));\n    },\n    updateTreeData: function updateTreeData(treeData) {\n      var _this = this;\n\n      var $scopedSlots = this.$scopedSlots;\n      var defaultFields = {\n        children: 'children',\n        title: 'title',\n        key: 'key',\n        label: 'label',\n        value: 'value'\n      };\n\n      var replaceFields = _extends({}, defaultFields, this.$props.replaceFields);\n\n      return treeData.map(function (item) {\n        var _item$scopedSlots = item.scopedSlots,\n            scopedSlots = _item$scopedSlots === undefined ? {} : _item$scopedSlots;\n        var label = item[replaceFields.label];\n        var title = item[replaceFields.title];\n        var value = item[replaceFields.value];\n        var key = item[replaceFields.key];\n        var children = item[replaceFields.children];\n        var newLabel = typeof label === 'function' ? label(_this.$createElement) : label;\n        var newTitle = typeof title === 'function' ? title(_this.$createElement) : title;\n\n        if (!newLabel && scopedSlots.label && $scopedSlots[scopedSlots.label]) {\n          newLabel = $scopedSlots[scopedSlots.label](item);\n        }\n\n        if (!newTitle && scopedSlots.title && $scopedSlots[scopedSlots.title]) {\n          newTitle = $scopedSlots[scopedSlots.title](item);\n        }\n\n        var treeNodeProps = _extends({}, item, {\n          title: newTitle || newLabel,\n          value: value,\n          dataRef: item,\n          key: key\n        });\n\n        if (children) {\n          return _extends({}, treeNodeProps, {\n            children: _this.updateTreeData(children)\n          });\n        }\n\n        return treeNodeProps;\n      });\n    }\n  },\n  render: function render(h) {\n    var _cls,\n        _this2 = this;\n\n    var props = getOptionProps(this);\n\n    var customizePrefixCls = props.prefixCls,\n        size = props.size,\n        dropdownStyle = props.dropdownStyle,\n        dropdownClassName = props.dropdownClassName,\n        getPopupContainer = props.getPopupContainer,\n        restProps = _objectWithoutProperties(props, ['prefixCls', 'size', 'dropdownStyle', 'dropdownClassName', 'getPopupContainer']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('select', customizePrefixCls);\n    var renderEmpty = this.configProvider.renderEmpty;\n    var notFoundContent = getComponentFromProp(this, 'notFoundContent');\n    var removeIcon = getComponentFromProp(this, 'removeIcon');\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var rest = omit(restProps, ['inputIcon', 'removeIcon', 'clearIcon', 'switcherIcon', 'suffixIcon']);\n    var suffixIcon = getComponentFromProp(this, 'suffixIcon');\n    suffixIcon = Array.isArray(suffixIcon) ? suffixIcon[0] : suffixIcon;\n    var treeData = props.treeData;\n\n    if (treeData) {\n      treeData = this.updateTreeData(treeData);\n    }\n\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-lg', size === 'large'), _defineProperty(_cls, prefixCls + '-sm', size === 'small'), _cls); // showSearch: single - false, multiple - true\n\n    var showSearch = restProps.showSearch;\n\n    if (!('showSearch' in restProps)) {\n      showSearch = !!(restProps.multiple || restProps.treeCheckable);\n    }\n\n    var checkable = getComponentFromProp(this, 'treeCheckable');\n\n    if (checkable) {\n      checkable = h('span', {\n        'class': prefixCls + '-tree-checkbox-inner'\n      });\n    }\n\n    var inputIcon = suffixIcon || h(Icon, {\n      attrs: {\n        type: 'down'\n      },\n      'class': prefixCls + '-arrow-icon'\n    });\n    var finalRemoveIcon = removeIcon || h(Icon, {\n      attrs: {\n        type: 'close'\n      },\n      'class': prefixCls + '-remove-icon'\n    });\n    var finalClearIcon = clearIcon || h(Icon, {\n      attrs: {\n        type: 'close-circle',\n        theme: 'filled'\n      },\n      'class': prefixCls + '-clear-icon'\n    });\n    var VcTreeSelectProps = {\n      props: _extends(_extends({\n        switcherIcon: function switcherIcon(nodeProps) {\n          return _this2.renderSwitcherIcon(prefixCls, nodeProps);\n        },\n        inputIcon: inputIcon,\n        removeIcon: finalRemoveIcon,\n        clearIcon: finalClearIcon\n      }, rest, {\n        showSearch: showSearch,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        dropdownClassName: classNames(dropdownClassName, prefixCls + '-tree-dropdown'),\n        prefixCls: prefixCls,\n        dropdownStyle: _extends({\n          maxHeight: '100vh',\n          overflow: 'auto'\n        }, dropdownStyle),\n        treeCheckable: checkable,\n        notFoundContent: notFoundContent || renderEmpty(h, 'Select'),\n        __propsSymbol__: Symbol()\n      }), treeData ? {\n        treeData: treeData\n      } : {}),\n      'class': cls,\n      on: _extends({}, getListeners(this), {\n        change: this.onChange\n      }),\n      ref: 'vcTreeSelect',\n      scopedSlots: this.$scopedSlots\n    };\n    return h(VcTreeSelect, VcTreeSelectProps, [filterEmpty(this.$slots['default'])]);\n  }\n};\n/* istanbul ignore next */\n\nTreeSelect.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(TreeSelect.name, TreeSelect);\n  Vue.component(TreeSelect.TreeNode.name, TreeSelect.TreeNode);\n};\n\nexport default TreeSelect;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/tree-select/index.js"],"names":["_defineProperty","_objectWithoutProperties","_extends","VcTreeSelect","TreeNode","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","classNames","TreeSelectProps","warning","initDefaultProps","getOptionProps","getComponentFromProp","filterEmpty","getListeners","ConfigConsumerProps","Base","TreeData","Icon","omit","TreeSelect","name","props","transitionName","choiceTransitionName","showSearch","model","prop","event","inject","configProvider","_default","created","multiple","treeCheckable","methods","focus","$refs","vcTreeSelect","blur","renderSwitcherIcon","prefixCls","_ref","isLeaf","loading","h","$createElement","attrs","type","onChange","$emit","apply","concat","Array","prototype","slice","call","arguments","updateTreeData","treeData","_this","$scopedSlots","defaultFields","children","title","key","label","value","replaceFields","$props","map","item","_item$scopedSlots","scopedSlots","undefined","newLabel","newTitle","treeNodeProps","dataRef","render","_cls","_this2","customizePrefixCls","size","dropdownStyle","dropdownClassName","getPopupContainer","restProps","getPrefixCls","renderEmpty","notFoundContent","removeIcon","clearIcon","getContextPopupContainer","rest","suffixIcon","isArray","cls","checkable","inputIcon","finalRemoveIcon","finalClearIcon","theme","VcTreeSelectProps","switcherIcon","nodeProps","maxHeight","overflow","__propsSymbol__","Symbol","on","change","ref","$slots","install","Vue","use","component"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,sCAA5B;AACA,OAAOC,wBAAP,MAAqC,+CAArC;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,YAAP,IAAuBC,QAAvB,EAAiCC,QAAjC,EAA2CC,WAA3C,EAAwDC,UAAxD,QAA0E,mBAA1E;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,eAAT,QAAgC,aAAhC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,gBAAT,EAA2BC,cAA3B,EAA2CC,oBAA3C,EAAiEC,WAAjE,EAA8EC,YAA9E,QAAkG,qBAAlG;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,SAASC,QAAT,EAAmBT,eAAnB,QAA0C,aAA1C;AACA,OAAOU,IAAP,MAAiB,SAAjB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,IAAIC,UAAU,GAAG;AACfjB,EAAAA,QAAQ,EAAEF,QAAQ,CAAC,EAAD,EAAKE,QAAL,EAAe;AAAEkB,IAAAA,IAAI,EAAE;AAAR,GAAf,CADH;AAEfjB,EAAAA,QAAQ,EAAEA,QAFK;AAGfC,EAAAA,WAAW,EAAEA,WAHE;AAIfC,EAAAA,UAAU,EAAEA,UAJG;AAKfe,EAAAA,IAAI,EAAE,aALS;AAMfC,EAAAA,KAAK,EAAEZ,gBAAgB,CAACF,eAAe,EAAhB,EAAoB;AACzCe,IAAAA,cAAc,EAAE,UADyB;AAEzCC,IAAAA,oBAAoB,EAAE,MAFmB;AAGzCC,IAAAA,UAAU,EAAE;AAH6B,GAApB,CANR;AAWfC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,OADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GAXQ;AAefC,EAAAA,MAAM,EAAE;AACNC,IAAAA,cAAc,EAAE;AAAE,iBAAW,SAASC,QAAT,GAAoB;AAC7C,eAAOhB,mBAAP;AACD;AAFa;AADV,GAfO;AAoBfiB,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1BvB,IAAAA,OAAO,CAAC,KAAKwB,QAAL,KAAkB,KAAlB,IAA2B,CAAC,KAAKC,aAAlC,EAAiD,YAAjD,EAA+D,8DAA/D,CAAP;AACD,GAtBc;AAwBfC,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,WAAKC,KAAL,CAAWC,YAAX,CAAwBF,KAAxB;AACD,KAHM;AAIPG,IAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,WAAKF,KAAL,CAAWC,YAAX,CAAwBC,IAAxB;AACD,KANM;AAOPC,IAAAA,kBAAkB,EAAE,SAASA,kBAAT,CAA4BC,SAA5B,EAAuCC,IAAvC,EAA6C;AAC/D,UAAIC,MAAM,GAAGD,IAAI,CAACC,MAAlB;AAAA,UACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;AAEA,UAAIC,CAAC,GAAG,KAAKC,cAAb;;AAEA,UAAIF,OAAJ,EAAa;AACX,eAAOC,CAAC,CAAC3B,IAAD,EAAO;AACb6B,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAE;AAAR,WADM;AAEb,mBAASP,SAAS,GAAG;AAFR,SAAP,CAAR;AAGD;;AACD,UAAIE,MAAJ,EAAY;AACV,eAAO,IAAP;AACD;;AACD,aAAOE,CAAC,CAAC3B,IAAD,EAAO;AACb6B,QAAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADM;AAEb,iBAASP,SAAS,GAAG;AAFR,OAAP,CAAR;AAGD,KAvBM;AAwBPQ,IAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,WAAKC,KAAL,CAAWC,KAAX,CAAiB,IAAjB,EAAuB,CAAC,QAAD,EAAWC,MAAX,CAAkBC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAlB,CAAvB;AACD,KA1BM;AA2BPC,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBC,QAAxB,EAAkC;AAChD,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIC,YAAY,GAAG,KAAKA,YAAxB;AAEA,UAAIC,aAAa,GAAG;AAClBC,QAAAA,QAAQ,EAAE,UADQ;AAElBC,QAAAA,KAAK,EAAE,OAFW;AAGlBC,QAAAA,GAAG,EAAE,KAHa;AAIlBC,QAAAA,KAAK,EAAE,OAJW;AAKlBC,QAAAA,KAAK,EAAE;AALW,OAApB;;AAOA,UAAIC,aAAa,GAAGnE,QAAQ,CAAC,EAAD,EAAK6D,aAAL,EAAoB,KAAKO,MAAL,CAAYD,aAAhC,CAA5B;;AACA,aAAOT,QAAQ,CAACW,GAAT,CAAa,UAAUC,IAAV,EAAgB;AAClC,YAAIC,iBAAiB,GAAGD,IAAI,CAACE,WAA7B;AAAA,YACIA,WAAW,GAAGD,iBAAiB,KAAKE,SAAtB,GAAkC,EAAlC,GAAuCF,iBADzD;AAGA,YAAIN,KAAK,GAAGK,IAAI,CAACH,aAAa,CAACF,KAAf,CAAhB;AACA,YAAIF,KAAK,GAAGO,IAAI,CAACH,aAAa,CAACJ,KAAf,CAAhB;AACA,YAAIG,KAAK,GAAGI,IAAI,CAACH,aAAa,CAACD,KAAf,CAAhB;AACA,YAAIF,GAAG,GAAGM,IAAI,CAACH,aAAa,CAACH,GAAf,CAAd;AACA,YAAIF,QAAQ,GAAGQ,IAAI,CAACH,aAAa,CAACL,QAAf,CAAnB;AACA,YAAIY,QAAQ,GAAG,OAAOT,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,CAACN,KAAK,CAACd,cAAP,CAAnC,GAA4DoB,KAA3E;AACA,YAAIU,QAAQ,GAAG,OAAOZ,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,CAACJ,KAAK,CAACd,cAAP,CAAnC,GAA4DkB,KAA3E;;AACA,YAAI,CAACW,QAAD,IAAaF,WAAW,CAACP,KAAzB,IAAkCL,YAAY,CAACY,WAAW,CAACP,KAAb,CAAlD,EAAuE;AACrES,UAAAA,QAAQ,GAAGd,YAAY,CAACY,WAAW,CAACP,KAAb,CAAZ,CAAgCK,IAAhC,CAAX;AACD;;AACD,YAAI,CAACK,QAAD,IAAaH,WAAW,CAACT,KAAzB,IAAkCH,YAAY,CAACY,WAAW,CAACT,KAAb,CAAlD,EAAuE;AACrEY,UAAAA,QAAQ,GAAGf,YAAY,CAACY,WAAW,CAACT,KAAb,CAAZ,CAAgCO,IAAhC,CAAX;AACD;;AACD,YAAIM,aAAa,GAAG5E,QAAQ,CAAC,EAAD,EAAKsE,IAAL,EAAW;AACrCP,UAAAA,KAAK,EAAEY,QAAQ,IAAID,QADkB;AAErCR,UAAAA,KAAK,EAAEA,KAF8B;AAGrCW,UAAAA,OAAO,EAAEP,IAH4B;AAIrCN,UAAAA,GAAG,EAAEA;AAJgC,SAAX,CAA5B;;AAMA,YAAIF,QAAJ,EAAc;AACZ,iBAAO9D,QAAQ,CAAC,EAAD,EAAK4E,aAAL,EAAoB;AAAEd,YAAAA,QAAQ,EAAEH,KAAK,CAACF,cAAN,CAAqBK,QAArB;AAAZ,WAApB,CAAf;AACD;;AACD,eAAOc,aAAP;AACD,OA3BM,CAAP;AA4BD;AApEM,GAxBM;AA+FfE,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBlC,CAAhB,EAAmB;AACzB,QAAImC,IAAJ;AAAA,QACIC,MAAM,GAAG,IADb;;AAGA,QAAI3D,KAAK,GAAGX,cAAc,CAAC,IAAD,CAA1B;;AAEA,QAAIuE,kBAAkB,GAAG5D,KAAK,CAACmB,SAA/B;AAAA,QACI0C,IAAI,GAAG7D,KAAK,CAAC6D,IADjB;AAAA,QAEIC,aAAa,GAAG9D,KAAK,CAAC8D,aAF1B;AAAA,QAGIC,iBAAiB,GAAG/D,KAAK,CAAC+D,iBAH9B;AAAA,QAIIC,iBAAiB,GAAGhE,KAAK,CAACgE,iBAJ9B;AAAA,QAKIC,SAAS,GAAGvF,wBAAwB,CAACsB,KAAD,EAAQ,CAAC,WAAD,EAAc,MAAd,EAAsB,eAAtB,EAAuC,mBAAvC,EAA4D,mBAA5D,CAAR,CALxC;;AAOA,QAAIkE,YAAY,GAAG,KAAK1D,cAAL,CAAoB0D,YAAvC;AACA,QAAI/C,SAAS,GAAG+C,YAAY,CAAC,QAAD,EAAWN,kBAAX,CAA5B;AAEA,QAAIO,WAAW,GAAG,KAAK3D,cAAL,CAAoB2D,WAAtC;AACA,QAAIC,eAAe,GAAG9E,oBAAoB,CAAC,IAAD,EAAO,iBAAP,CAA1C;AACA,QAAI+E,UAAU,GAAG/E,oBAAoB,CAAC,IAAD,EAAO,YAAP,CAArC;AACA,QAAIgF,SAAS,GAAGhF,oBAAoB,CAAC,IAAD,EAAO,WAAP,CAApC;AACA,QAAIiF,wBAAwB,GAAG,KAAK/D,cAAL,CAAoBwD,iBAAnD;AAEA,QAAIQ,IAAI,GAAG3E,IAAI,CAACoE,SAAD,EAAY,CAAC,WAAD,EAAc,YAAd,EAA4B,WAA5B,EAAyC,cAAzC,EAAyD,YAAzD,CAAZ,CAAf;AACA,QAAIQ,UAAU,GAAGnF,oBAAoB,CAAC,IAAD,EAAO,YAAP,CAArC;AACAmF,IAAAA,UAAU,GAAG1C,KAAK,CAAC2C,OAAN,CAAcD,UAAd,IAA4BA,UAAU,CAAC,CAAD,CAAtC,GAA4CA,UAAzD;AACA,QAAIpC,QAAQ,GAAGrC,KAAK,CAACqC,QAArB;;AACA,QAAIA,QAAJ,EAAc;AACZA,MAAAA,QAAQ,GAAG,KAAKD,cAAL,CAAoBC,QAApB,CAAX;AACD;;AACD,QAAIsC,GAAG,IAAIjB,IAAI,GAAG,EAAP,EAAWjF,eAAe,CAACiF,IAAD,EAAOvC,SAAS,GAAG,KAAnB,EAA0B0C,IAAI,KAAK,OAAnC,CAA1B,EAAuEpF,eAAe,CAACiF,IAAD,EAAOvC,SAAS,GAAG,KAAnB,EAA0B0C,IAAI,KAAK,OAAnC,CAAtF,EAAmIH,IAAvI,CAAP,CA7ByB,CA+BzB;;AACA,QAAIvD,UAAU,GAAG8D,SAAS,CAAC9D,UAA3B;;AAEA,QAAI,EAAE,gBAAgB8D,SAAlB,CAAJ,EAAkC;AAChC9D,MAAAA,UAAU,GAAG,CAAC,EAAE8D,SAAS,CAACtD,QAAV,IAAsBsD,SAAS,CAACrD,aAAlC,CAAd;AACD;;AAED,QAAIgE,SAAS,GAAGtF,oBAAoB,CAAC,IAAD,EAAO,eAAP,CAApC;;AACA,QAAIsF,SAAJ,EAAe;AACbA,MAAAA,SAAS,GAAGrD,CAAC,CAAC,MAAD,EAAS;AAAE,iBAASJ,SAAS,GAAG;AAAvB,OAAT,CAAb;AACD;;AAED,QAAI0D,SAAS,GAAGJ,UAAU,IAAIlD,CAAC,CAAC3B,IAAD,EAAO;AACpC6B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAD6B;AAEpC,eAASP,SAAS,GAAG;AAFe,KAAP,CAA/B;AAIA,QAAI2D,eAAe,GAAGT,UAAU,IAAI9C,CAAC,CAAC3B,IAAD,EAAO;AAC1C6B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OADmC;AAE1C,eAASP,SAAS,GAAG;AAFqB,KAAP,CAArC;AAIA,QAAI4D,cAAc,GAAGT,SAAS,IAAI/C,CAAC,CAAC3B,IAAD,EAAO;AACxC6B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,IAAI,EAAE,cAAR;AAAwBsD,QAAAA,KAAK,EAAE;AAA/B,OADiC;AAExC,eAAS7D,SAAS,GAAG;AAFmB,KAAP,CAAnC;AAGA,QAAI8D,iBAAiB,GAAG;AACtBjF,MAAAA,KAAK,EAAErB,QAAQ,CAACA,QAAQ,CAAC;AACvBuG,QAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,SAAtB,EAAiC;AAC7C,iBAAOxB,MAAM,CAACzC,kBAAP,CAA0BC,SAA1B,EAAqCgE,SAArC,CAAP;AACD,SAHsB;AAIvBN,QAAAA,SAAS,EAAEA,SAJY;AAKvBR,QAAAA,UAAU,EAAES,eALW;AAMvBR,QAAAA,SAAS,EAAES;AANY,OAAD,EAOrBP,IAPqB,EAOf;AACPrE,QAAAA,UAAU,EAAEA,UADL;AAEP6D,QAAAA,iBAAiB,EAAEA,iBAAiB,IAAIO,wBAFjC;AAGPR,QAAAA,iBAAiB,EAAE9E,UAAU,CAAC8E,iBAAD,EAAoB5C,SAAS,GAAG,gBAAhC,CAHtB;AAIPA,QAAAA,SAAS,EAAEA,SAJJ;AAKP2C,QAAAA,aAAa,EAAEnF,QAAQ,CAAC;AAAEyG,UAAAA,SAAS,EAAE,OAAb;AAAsBC,UAAAA,QAAQ,EAAE;AAAhC,SAAD,EAA2CvB,aAA3C,CALhB;AAMPlD,QAAAA,aAAa,EAAEgE,SANR;AAOPR,QAAAA,eAAe,EAAEA,eAAe,IAAID,WAAW,CAAC5C,CAAD,EAAI,QAAJ,CAPxC;AAQP+D,QAAAA,eAAe,EAAEC,MAAM;AARhB,OAPe,CAAT,EAgBXlD,QAAQ,GAAG;AAAEA,QAAAA,QAAQ,EAAEA;AAAZ,OAAH,GAA4B,EAhBzB,CADO;AAkBtB,eAASsC,GAlBa;AAmBtBa,MAAAA,EAAE,EAAE7G,QAAQ,CAAC,EAAD,EAAKa,YAAY,CAAC,IAAD,CAAjB,EAAyB;AAAEiG,QAAAA,MAAM,EAAE,KAAK9D;AAAf,OAAzB,CAnBU;AAoBtB+D,MAAAA,GAAG,EAAE,cApBiB;AAqBtBvC,MAAAA,WAAW,EAAE,KAAKZ;AArBI,KAAxB;AAuBA,WAAOhB,CAAC,CACN3C,YADM,EAENqG,iBAFM,EAGN,CAAC1F,WAAW,CAAC,KAAKoG,MAAL,CAAY,SAAZ,CAAD,CAAZ,CAHM,CAAR;AAKD;AAjLc,CAAjB;AAoLA;;AACA7F,UAAU,CAAC8F,OAAX,GAAqB,UAAUC,GAAV,EAAe;AAClCA,EAAAA,GAAG,CAACC,GAAJ,CAAQpG,IAAR;AACAmG,EAAAA,GAAG,CAACE,SAAJ,CAAcjG,UAAU,CAACC,IAAzB,EAA+BD,UAA/B;AACA+F,EAAAA,GAAG,CAACE,SAAJ,CAAcjG,UAAU,CAACjB,QAAX,CAAoBkB,IAAlC,EAAwCD,UAAU,CAACjB,QAAnD;AACD,CAJD;;AAMA,eAAeiB,UAAf","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport VcTreeSelect, { TreeNode, SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from '../vc-tree-select';\nimport classNames from 'classnames';\nimport { TreeSelectProps } from './interface';\nimport warning from '../_util/warning';\nimport { initDefaultProps, getOptionProps, getComponentFromProp, filterEmpty, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\n\nexport { TreeData, TreeSelectProps } from './interface';\nimport Icon from '../icon';\nimport omit from 'omit.js';\n\nvar TreeSelect = {\n  TreeNode: _extends({}, TreeNode, { name: 'ATreeSelectNode' }),\n  SHOW_ALL: SHOW_ALL,\n  SHOW_PARENT: SHOW_PARENT,\n  SHOW_CHILD: SHOW_CHILD,\n  name: 'ATreeSelect',\n  props: initDefaultProps(TreeSelectProps(), {\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n    showSearch: false\n  }),\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  created: function created() {\n    warning(this.multiple !== false || !this.treeCheckable, 'TreeSelect', '`multiple` will alway be `true` when `treeCheckable` is true');\n  },\n\n  methods: {\n    focus: function focus() {\n      this.$refs.vcTreeSelect.focus();\n    },\n    blur: function blur() {\n      this.$refs.vcTreeSelect.blur();\n    },\n    renderSwitcherIcon: function renderSwitcherIcon(prefixCls, _ref) {\n      var isLeaf = _ref.isLeaf,\n          loading = _ref.loading;\n      var h = this.$createElement;\n\n      if (loading) {\n        return h(Icon, {\n          attrs: { type: 'loading' },\n          'class': prefixCls + '-switcher-loading-icon' });\n      }\n      if (isLeaf) {\n        return null;\n      }\n      return h(Icon, {\n        attrs: { type: 'caret-down' },\n        'class': prefixCls + '-switcher-icon' });\n    },\n    onChange: function onChange() {\n      this.$emit.apply(this, ['change'].concat(Array.prototype.slice.call(arguments)));\n    },\n    updateTreeData: function updateTreeData(treeData) {\n      var _this = this;\n\n      var $scopedSlots = this.$scopedSlots;\n\n      var defaultFields = {\n        children: 'children',\n        title: 'title',\n        key: 'key',\n        label: 'label',\n        value: 'value'\n      };\n      var replaceFields = _extends({}, defaultFields, this.$props.replaceFields);\n      return treeData.map(function (item) {\n        var _item$scopedSlots = item.scopedSlots,\n            scopedSlots = _item$scopedSlots === undefined ? {} : _item$scopedSlots;\n\n        var label = item[replaceFields.label];\n        var title = item[replaceFields.title];\n        var value = item[replaceFields.value];\n        var key = item[replaceFields.key];\n        var children = item[replaceFields.children];\n        var newLabel = typeof label === 'function' ? label(_this.$createElement) : label;\n        var newTitle = typeof title === 'function' ? title(_this.$createElement) : title;\n        if (!newLabel && scopedSlots.label && $scopedSlots[scopedSlots.label]) {\n          newLabel = $scopedSlots[scopedSlots.label](item);\n        }\n        if (!newTitle && scopedSlots.title && $scopedSlots[scopedSlots.title]) {\n          newTitle = $scopedSlots[scopedSlots.title](item);\n        }\n        var treeNodeProps = _extends({}, item, {\n          title: newTitle || newLabel,\n          value: value,\n          dataRef: item,\n          key: key\n        });\n        if (children) {\n          return _extends({}, treeNodeProps, { children: _this.updateTreeData(children) });\n        }\n        return treeNodeProps;\n      });\n    }\n  },\n\n  render: function render(h) {\n    var _cls,\n        _this2 = this;\n\n    var props = getOptionProps(this);\n\n    var customizePrefixCls = props.prefixCls,\n        size = props.size,\n        dropdownStyle = props.dropdownStyle,\n        dropdownClassName = props.dropdownClassName,\n        getPopupContainer = props.getPopupContainer,\n        restProps = _objectWithoutProperties(props, ['prefixCls', 'size', 'dropdownStyle', 'dropdownClassName', 'getPopupContainer']);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('select', customizePrefixCls);\n\n    var renderEmpty = this.configProvider.renderEmpty;\n    var notFoundContent = getComponentFromProp(this, 'notFoundContent');\n    var removeIcon = getComponentFromProp(this, 'removeIcon');\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n\n    var rest = omit(restProps, ['inputIcon', 'removeIcon', 'clearIcon', 'switcherIcon', 'suffixIcon']);\n    var suffixIcon = getComponentFromProp(this, 'suffixIcon');\n    suffixIcon = Array.isArray(suffixIcon) ? suffixIcon[0] : suffixIcon;\n    var treeData = props.treeData;\n    if (treeData) {\n      treeData = this.updateTreeData(treeData);\n    }\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-lg', size === 'large'), _defineProperty(_cls, prefixCls + '-sm', size === 'small'), _cls);\n\n    // showSearch: single - false, multiple - true\n    var showSearch = restProps.showSearch;\n\n    if (!('showSearch' in restProps)) {\n      showSearch = !!(restProps.multiple || restProps.treeCheckable);\n    }\n\n    var checkable = getComponentFromProp(this, 'treeCheckable');\n    if (checkable) {\n      checkable = h('span', { 'class': prefixCls + '-tree-checkbox-inner' });\n    }\n\n    var inputIcon = suffixIcon || h(Icon, {\n      attrs: { type: 'down' },\n      'class': prefixCls + '-arrow-icon' });\n\n    var finalRemoveIcon = removeIcon || h(Icon, {\n      attrs: { type: 'close' },\n      'class': prefixCls + '-remove-icon' });\n\n    var finalClearIcon = clearIcon || h(Icon, {\n      attrs: { type: 'close-circle', theme: 'filled' },\n      'class': prefixCls + '-clear-icon' });\n    var VcTreeSelectProps = {\n      props: _extends(_extends({\n        switcherIcon: function switcherIcon(nodeProps) {\n          return _this2.renderSwitcherIcon(prefixCls, nodeProps);\n        },\n        inputIcon: inputIcon,\n        removeIcon: finalRemoveIcon,\n        clearIcon: finalClearIcon\n      }, rest, {\n        showSearch: showSearch,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        dropdownClassName: classNames(dropdownClassName, prefixCls + '-tree-dropdown'),\n        prefixCls: prefixCls,\n        dropdownStyle: _extends({ maxHeight: '100vh', overflow: 'auto' }, dropdownStyle),\n        treeCheckable: checkable,\n        notFoundContent: notFoundContent || renderEmpty(h, 'Select'),\n        __propsSymbol__: Symbol()\n      }), treeData ? { treeData: treeData } : {}),\n      'class': cls,\n      on: _extends({}, getListeners(this), { change: this.onChange }),\n      ref: 'vcTreeSelect',\n      scopedSlots: this.$scopedSlots\n    };\n    return h(\n      VcTreeSelect,\n      VcTreeSelectProps,\n      [filterEmpty(this.$slots['default'])]\n    );\n  }\n};\n\n/* istanbul ignore next */\nTreeSelect.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(TreeSelect.name, TreeSelect);\n  Vue.component(TreeSelect.TreeNode.name, TreeSelect.TreeNode);\n};\n\nexport default TreeSelect;"]},"metadata":{},"sourceType":"module"}