{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport classNames from 'classnames';\nimport { ColProps } from '../grid/Col';\nimport Vue from 'vue';\nimport isRegExp from 'lodash/isRegExp';\nimport warning from '../_util/warning';\nimport createDOMForm from '../vc-form/src/createDOMForm';\nimport createFormField from '../vc-form/src/createFormField';\nimport FormItem from './FormItem';\nimport { FIELD_META_PROP, FIELD_DATA_PROP } from './constants';\nimport { initDefaultProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\nexport var FormCreateOption = {\n  onFieldsChange: PropTypes.func,\n  onValuesChange: PropTypes.func,\n  mapPropsToFields: PropTypes.func,\n  validateMessages: PropTypes.any,\n  withRef: PropTypes.bool,\n  name: PropTypes.string\n}; // function create\n\nexport var WrappedFormUtils = {\n  /** 获取一组输入控件的值，如不传入参数，则获取全部组件的值 */\n  getFieldsValue: PropTypes.func,\n\n  /** 获取一个输入控件的值*/\n  getFieldValue: PropTypes.func,\n\n  /** 设置一组输入控件的值*/\n  setFieldsValue: PropTypes.func,\n\n  /** 设置一组输入控件的值*/\n  setFields: PropTypes.func,\n\n  /** 校验并获取一组输入域的值与 Error */\n  validateFields: PropTypes.func,\n  // validateFields(fieldNames: Array<string>, options: Object, callback: ValidateCallback): void;\n  // validateFields(fieldNames: Array<string>, callback: ValidateCallback): void;\n  // validateFields(options: Object, callback: ValidateCallback): void;\n  // validateFields(callback: ValidateCallback): void;\n  // validateFields(): void;\n\n  /** 与 `validateFields` 相似，但校验完后，如果校验不通过的菜单域不在可见范围内，则自动滚动进可见范围 */\n  validateFieldsAndScroll: PropTypes.func,\n  // validateFieldsAndScroll(fieldNames?: Array<string>, options?: Object, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(fieldNames?: Array<string>, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(options?: Object, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(): void;\n\n  /** 获取某个输入控件的 Error */\n  getFieldError: PropTypes.func,\n  getFieldsError: PropTypes.func,\n\n  /** 判断一个输入控件是否在校验状态*/\n  isFieldValidating: PropTypes.func,\n  isFieldTouched: PropTypes.func,\n  isFieldsTouched: PropTypes.func,\n\n  /** 重置一组输入控件的值与状态，如不传入参数，则重置所有组件 */\n  resetFields: PropTypes.func,\n  getFieldDecorator: PropTypes.func\n};\nexport var FormProps = {\n  layout: PropTypes.oneOf(['horizontal', 'inline', 'vertical']),\n  labelCol: PropTypes.shape(ColProps).loose,\n  wrapperCol: PropTypes.shape(ColProps).loose,\n  colon: PropTypes.bool,\n  labelAlign: PropTypes.oneOf(['left', 'right']),\n  form: PropTypes.object,\n  // onSubmit: React.FormEventHandler<any>;\n  prefixCls: PropTypes.string,\n  hideRequiredMark: PropTypes.bool,\n  autoFormCreate: PropTypes.func,\n  options: PropTypes.object,\n  selfUpdate: PropTypes.bool\n};\nexport var ValidationRule = {\n  /** validation error message */\n  message: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** built-in validation type, available options: https://github.com/yiminghe/async-validator#type */\n  type: PropTypes.string,\n\n  /** indicates whether field is required */\n  required: PropTypes.boolean,\n\n  /** treat required fields that only contain whitespace as errors */\n  whitespace: PropTypes.boolean,\n\n  /** validate the exact length of a field */\n  len: PropTypes.number,\n\n  /** validate the min length of a field */\n  min: PropTypes.number,\n\n  /** validate the max length of a field */\n  max: PropTypes.number,\n\n  /** validate the value from a list of possible values */\n  'enum': PropTypes.oneOfType([String, PropTypes.arrayOf(String)]),\n\n  /** validate from a regular expression */\n  pattern: PropTypes.custom(isRegExp),\n\n  /** transform a value before validation */\n  transform: PropTypes.func,\n\n  /** custom validate function (Note: callback must be called) */\n  validator: PropTypes.func\n}; // export type ValidateCallback = (errors: any, values: any) => void;\n// export type GetFieldDecoratorOptions = {\n//   /** 子节点的值的属性，如 Checkbox 的是 'checked' */\n//   valuePropName?: string;\n//   /** 子节点的初始值，类型、可选值均由子节点决定 */\n//   initialValue?: any;\n//   /** 收集子节点的值的时机 */\n//   trigger?: string;\n//   /** 可以把 onChange 的参数转化为控件的值，例如 DatePicker 可设为：(date, dateString) => dateString */\n//   getValueFromEvent?: (...args: any[]) => any;\n//   /** Get the component props according to field value. */\n//   getValueProps?: (value: any) => any;\n//   /** 校验子节点值的时机 */\n//   validateTrigger?: string | string[];\n//   /** 校验规则，参见 [async-validator](https://github.com/yiminghe/async-validator) */\n//   rules?: ValidationRule[];\n//   /** 是否和其他控件互斥，特别用于 Radio 单选控件 */\n//   exclusive?: boolean;\n//   /** Normalize value to form component */\n//   normalize?: (value: any, prevValue: any, allValues: any) => any;\n//   /** Whether stop validate on first rule of error for this field.  */\n//   validateFirst?: boolean;\n//   /** 是否一直保留子节点的信息 */\n//   preserve?: boolean;\n// };\n\nvar Form = {\n  name: 'AForm',\n  props: initDefaultProps(FormProps, {\n    layout: 'horizontal',\n    hideRequiredMark: false,\n    colon: true\n  }),\n  Item: FormItem,\n  createFormField: createFormField,\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return createDOMForm(_extends({\n      fieldNameProp: 'id'\n    }, options, {\n      fieldMetaProp: FIELD_META_PROP,\n      fieldDataProp: FIELD_DATA_PROP\n    }));\n  },\n  createForm: function createForm(context) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var V = Base.Vue || Vue;\n    return new V(Form.create(_extends({}, options, {\n      templateContext: context\n    }))());\n  },\n  created: function created() {\n    this.formItemContexts = new Map();\n  },\n  provide: function provide() {\n    var _this = this;\n\n    return {\n      FormContext: this,\n      // https://github.com/vueComponent/ant-design-vue/issues/446\n      collectFormItemContext: this.form && this.form.templateContext ? function (c) {\n        var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n        var formItemContexts = _this.formItemContexts;\n        var number = formItemContexts.get(c) || 0;\n\n        if (type === 'delete') {\n          if (number <= 1) {\n            formItemContexts['delete'](c);\n          } else {\n            formItemContexts.set(c, number - 1);\n          }\n        } else {\n          if (c !== _this.form.templateContext) {\n            formItemContexts.set(c, number + 1);\n          }\n        }\n      } : function () {}\n    };\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  watch: {\n    form: function form() {\n      this.$forceUpdate();\n    }\n  },\n  computed: {\n    vertical: function vertical() {\n      return this.layout === 'vertical';\n    }\n  },\n  beforeUpdate: function beforeUpdate() {\n    this.formItemContexts.forEach(function (number, c) {\n      if (c.$forceUpdate) {\n        c.$forceUpdate();\n      }\n    });\n  },\n  updated: function updated() {\n    if (this.form && this.form.cleanUpUselessFields) {\n      this.form.cleanUpUselessFields();\n    }\n  },\n  methods: {\n    onSubmit: function onSubmit(e) {\n      if (!getListeners(this).submit) {\n        e.preventDefault();\n      } else {\n        this.$emit('submit', e);\n      }\n    }\n  },\n  render: function render() {\n    var _classNames,\n        _this2 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        hideRequiredMark = this.hideRequiredMark,\n        layout = this.layout,\n        onSubmit = this.onSubmit,\n        $slots = this.$slots,\n        autoFormCreate = this.autoFormCreate,\n        _options = this.options,\n        options = _options === undefined ? {} : _options;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('form', customizePrefixCls);\n    var formClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-horizontal', layout === 'horizontal'), _defineProperty(_classNames, prefixCls + '-vertical', layout === 'vertical'), _defineProperty(_classNames, prefixCls + '-inline', layout === 'inline'), _defineProperty(_classNames, prefixCls + '-hide-required-mark', hideRequiredMark), _classNames));\n\n    if (autoFormCreate) {\n      warning(false, 'Form', '`autoFormCreate` is deprecated. please use `form` instead.');\n      var DomForm = this.DomForm || createDOMForm(_extends({\n        fieldNameProp: 'id'\n      }, options, {\n        fieldMetaProp: FIELD_META_PROP,\n        fieldDataProp: FIELD_DATA_PROP,\n        templateContext: this.$vnode.context\n      }))({\n        provide: function provide() {\n          return {\n            decoratorFormProps: this.$props\n          };\n        },\n        data: function data() {\n          return {\n            children: $slots['default'],\n            formClassName: formClassName,\n            submit: onSubmit\n          };\n        },\n        created: function created() {\n          autoFormCreate(this.form);\n        },\n        render: function render() {\n          var h = arguments[0];\n          var children = this.children,\n              formClassName = this.formClassName,\n              submit = this.submit;\n          return h('form', {\n            on: {\n              'submit': submit\n            },\n            'class': formClassName\n          }, [children]);\n        }\n      });\n\n      if (this.domForm) {\n        this.domForm.children = $slots['default'];\n        this.domForm.submit = onSubmit;\n        this.domForm.formClassName = formClassName;\n      }\n\n      this.DomForm = DomForm;\n      return h(DomForm, {\n        attrs: {\n          wrappedComponentRef: function wrappedComponentRef(inst) {\n            _this2.domForm = inst;\n          }\n        }\n      });\n    }\n\n    return h('form', {\n      on: {\n        'submit': onSubmit\n      },\n      'class': formClassName\n    }, [$slots['default']]);\n  }\n};\nexport default Form;","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/form/Form.js"],"names":["_defineProperty","_extends","PropTypes","classNames","ColProps","Vue","isRegExp","warning","createDOMForm","createFormField","FormItem","FIELD_META_PROP","FIELD_DATA_PROP","initDefaultProps","getListeners","ConfigConsumerProps","Base","FormCreateOption","onFieldsChange","func","onValuesChange","mapPropsToFields","validateMessages","any","withRef","bool","name","string","WrappedFormUtils","getFieldsValue","getFieldValue","setFieldsValue","setFields","validateFields","validateFieldsAndScroll","getFieldError","getFieldsError","isFieldValidating","isFieldTouched","isFieldsTouched","resetFields","getFieldDecorator","FormProps","layout","oneOf","labelCol","shape","loose","wrapperCol","colon","labelAlign","form","object","prefixCls","hideRequiredMark","autoFormCreate","options","selfUpdate","ValidationRule","message","oneOfType","type","required","boolean","whitespace","len","number","min","max","String","arrayOf","pattern","custom","transform","validator","Form","props","Item","create","arguments","length","undefined","fieldNameProp","fieldMetaProp","fieldDataProp","createForm","context","V","templateContext","created","formItemContexts","Map","provide","_this","FormContext","collectFormItemContext","c","get","set","inject","configProvider","_default","watch","$forceUpdate","computed","vertical","beforeUpdate","forEach","updated","cleanUpUselessFields","methods","onSubmit","e","submit","preventDefault","$emit","render","_classNames","_this2","h","customizePrefixCls","$slots","_options","getPrefixCls","formClassName","DomForm","$vnode","decoratorFormProps","$props","data","children","on","domForm","attrs","wrappedComponentRef","inst"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport classNames from 'classnames';\nimport { ColProps } from '../grid/Col';\nimport Vue from 'vue';\nimport isRegExp from 'lodash/isRegExp';\nimport warning from '../_util/warning';\nimport createDOMForm from '../vc-form/src/createDOMForm';\nimport createFormField from '../vc-form/src/createFormField';\nimport FormItem from './FormItem';\nimport { FIELD_META_PROP, FIELD_DATA_PROP } from './constants';\nimport { initDefaultProps, getListeners } from '../_util/props-util';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\n\nexport var FormCreateOption = {\n  onFieldsChange: PropTypes.func,\n  onValuesChange: PropTypes.func,\n  mapPropsToFields: PropTypes.func,\n  validateMessages: PropTypes.any,\n  withRef: PropTypes.bool,\n  name: PropTypes.string\n};\n\n// function create\nexport var WrappedFormUtils = {\n  /** 获取一组输入控件的值，如不传入参数，则获取全部组件的值 */\n  getFieldsValue: PropTypes.func,\n  /** 获取一个输入控件的值*/\n  getFieldValue: PropTypes.func,\n  /** 设置一组输入控件的值*/\n  setFieldsValue: PropTypes.func,\n  /** 设置一组输入控件的值*/\n  setFields: PropTypes.func,\n  /** 校验并获取一组输入域的值与 Error */\n  validateFields: PropTypes.func,\n  // validateFields(fieldNames: Array<string>, options: Object, callback: ValidateCallback): void;\n  // validateFields(fieldNames: Array<string>, callback: ValidateCallback): void;\n  // validateFields(options: Object, callback: ValidateCallback): void;\n  // validateFields(callback: ValidateCallback): void;\n  // validateFields(): void;\n  /** 与 `validateFields` 相似，但校验完后，如果校验不通过的菜单域不在可见范围内，则自动滚动进可见范围 */\n  validateFieldsAndScroll: PropTypes.func,\n  // validateFieldsAndScroll(fieldNames?: Array<string>, options?: Object, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(fieldNames?: Array<string>, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(options?: Object, callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(callback?: ValidateCallback): void;\n  // validateFieldsAndScroll(): void;\n  /** 获取某个输入控件的 Error */\n  getFieldError: PropTypes.func,\n  getFieldsError: PropTypes.func,\n  /** 判断一个输入控件是否在校验状态*/\n  isFieldValidating: PropTypes.func,\n  isFieldTouched: PropTypes.func,\n  isFieldsTouched: PropTypes.func,\n  /** 重置一组输入控件的值与状态，如不传入参数，则重置所有组件 */\n  resetFields: PropTypes.func,\n\n  getFieldDecorator: PropTypes.func\n};\n\nexport var FormProps = {\n  layout: PropTypes.oneOf(['horizontal', 'inline', 'vertical']),\n  labelCol: PropTypes.shape(ColProps).loose,\n  wrapperCol: PropTypes.shape(ColProps).loose,\n  colon: PropTypes.bool,\n  labelAlign: PropTypes.oneOf(['left', 'right']),\n  form: PropTypes.object,\n  // onSubmit: React.FormEventHandler<any>;\n  prefixCls: PropTypes.string,\n  hideRequiredMark: PropTypes.bool,\n  autoFormCreate: PropTypes.func,\n  options: PropTypes.object,\n  selfUpdate: PropTypes.bool\n};\n\nexport var ValidationRule = {\n  /** validation error message */\n  message: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /** built-in validation type, available options: https://github.com/yiminghe/async-validator#type */\n  type: PropTypes.string,\n  /** indicates whether field is required */\n  required: PropTypes.boolean,\n  /** treat required fields that only contain whitespace as errors */\n  whitespace: PropTypes.boolean,\n  /** validate the exact length of a field */\n  len: PropTypes.number,\n  /** validate the min length of a field */\n  min: PropTypes.number,\n  /** validate the max length of a field */\n  max: PropTypes.number,\n  /** validate the value from a list of possible values */\n  'enum': PropTypes.oneOfType([String, PropTypes.arrayOf(String)]),\n  /** validate from a regular expression */\n  pattern: PropTypes.custom(isRegExp),\n  /** transform a value before validation */\n  transform: PropTypes.func,\n  /** custom validate function (Note: callback must be called) */\n  validator: PropTypes.func\n};\n\n// export type ValidateCallback = (errors: any, values: any) => void;\n\n// export type GetFieldDecoratorOptions = {\n//   /** 子节点的值的属性，如 Checkbox 的是 'checked' */\n//   valuePropName?: string;\n//   /** 子节点的初始值，类型、可选值均由子节点决定 */\n//   initialValue?: any;\n//   /** 收集子节点的值的时机 */\n//   trigger?: string;\n//   /** 可以把 onChange 的参数转化为控件的值，例如 DatePicker 可设为：(date, dateString) => dateString */\n//   getValueFromEvent?: (...args: any[]) => any;\n//   /** Get the component props according to field value. */\n//   getValueProps?: (value: any) => any;\n//   /** 校验子节点值的时机 */\n//   validateTrigger?: string | string[];\n//   /** 校验规则，参见 [async-validator](https://github.com/yiminghe/async-validator) */\n//   rules?: ValidationRule[];\n//   /** 是否和其他控件互斥，特别用于 Radio 单选控件 */\n//   exclusive?: boolean;\n//   /** Normalize value to form component */\n//   normalize?: (value: any, prevValue: any, allValues: any) => any;\n//   /** Whether stop validate on first rule of error for this field.  */\n//   validateFirst?: boolean;\n//   /** 是否一直保留子节点的信息 */\n//   preserve?: boolean;\n// };\n\nvar Form = {\n  name: 'AForm',\n  props: initDefaultProps(FormProps, {\n    layout: 'horizontal',\n    hideRequiredMark: false,\n    colon: true\n  }),\n  Item: FormItem,\n  createFormField: createFormField,\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return createDOMForm(_extends({\n      fieldNameProp: 'id'\n    }, options, {\n      fieldMetaProp: FIELD_META_PROP,\n      fieldDataProp: FIELD_DATA_PROP\n    }));\n  },\n  createForm: function createForm(context) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var V = Base.Vue || Vue;\n    return new V(Form.create(_extends({}, options, { templateContext: context }))());\n  },\n  created: function created() {\n    this.formItemContexts = new Map();\n  },\n  provide: function provide() {\n    var _this = this;\n\n    return {\n      FormContext: this,\n      // https://github.com/vueComponent/ant-design-vue/issues/446\n      collectFormItemContext: this.form && this.form.templateContext ? function (c) {\n        var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n        var formItemContexts = _this.formItemContexts;\n        var number = formItemContexts.get(c) || 0;\n        if (type === 'delete') {\n          if (number <= 1) {\n            formItemContexts['delete'](c);\n          } else {\n            formItemContexts.set(c, number - 1);\n          }\n        } else {\n          if (c !== _this.form.templateContext) {\n            formItemContexts.set(c, number + 1);\n          }\n        }\n      } : function () {}\n    };\n  },\n\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  watch: {\n    form: function form() {\n      this.$forceUpdate();\n    }\n  },\n  computed: {\n    vertical: function vertical() {\n      return this.layout === 'vertical';\n    }\n  },\n  beforeUpdate: function beforeUpdate() {\n    this.formItemContexts.forEach(function (number, c) {\n      if (c.$forceUpdate) {\n        c.$forceUpdate();\n      }\n    });\n  },\n  updated: function updated() {\n    if (this.form && this.form.cleanUpUselessFields) {\n      this.form.cleanUpUselessFields();\n    }\n  },\n\n  methods: {\n    onSubmit: function onSubmit(e) {\n      if (!getListeners(this).submit) {\n        e.preventDefault();\n      } else {\n        this.$emit('submit', e);\n      }\n    }\n  },\n\n  render: function render() {\n    var _classNames,\n        _this2 = this;\n\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        hideRequiredMark = this.hideRequiredMark,\n        layout = this.layout,\n        onSubmit = this.onSubmit,\n        $slots = this.$slots,\n        autoFormCreate = this.autoFormCreate,\n        _options = this.options,\n        options = _options === undefined ? {} : _options;\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('form', customizePrefixCls);\n\n    var formClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-horizontal', layout === 'horizontal'), _defineProperty(_classNames, prefixCls + '-vertical', layout === 'vertical'), _defineProperty(_classNames, prefixCls + '-inline', layout === 'inline'), _defineProperty(_classNames, prefixCls + '-hide-required-mark', hideRequiredMark), _classNames));\n    if (autoFormCreate) {\n      warning(false, 'Form', '`autoFormCreate` is deprecated. please use `form` instead.');\n      var DomForm = this.DomForm || createDOMForm(_extends({\n        fieldNameProp: 'id'\n      }, options, {\n        fieldMetaProp: FIELD_META_PROP,\n        fieldDataProp: FIELD_DATA_PROP,\n        templateContext: this.$vnode.context\n      }))({\n        provide: function provide() {\n          return {\n            decoratorFormProps: this.$props\n          };\n        },\n        data: function data() {\n          return {\n            children: $slots['default'],\n            formClassName: formClassName,\n            submit: onSubmit\n          };\n        },\n        created: function created() {\n          autoFormCreate(this.form);\n        },\n        render: function render() {\n          var h = arguments[0];\n          var children = this.children,\n              formClassName = this.formClassName,\n              submit = this.submit;\n\n          return h(\n            'form',\n            {\n              on: {\n                'submit': submit\n              },\n              'class': formClassName },\n            [children]\n          );\n        }\n      });\n      if (this.domForm) {\n        this.domForm.children = $slots['default'];\n        this.domForm.submit = onSubmit;\n        this.domForm.formClassName = formClassName;\n      }\n      this.DomForm = DomForm;\n\n      return h(DomForm, {\n        attrs: {\n          wrappedComponentRef: function wrappedComponentRef(inst) {\n            _this2.domForm = inst;\n          }\n        }\n      });\n    }\n    return h(\n      'form',\n      {\n        on: {\n          'submit': onSubmit\n        },\n        'class': formClassName },\n      [$slots['default']]\n    );\n  }\n};\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}