{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport KeyCode from '../_util/KeyCode';\nimport PropTypes from '../_util/vue-types';\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from '../vc-menu';\nimport warning from 'warning';\nimport Vue from 'vue';\nimport Option from './Option';\nimport OptGroup from './OptGroup';\nimport { hasProp, getSlotOptions, getPropsData, getValueByProp as getValue, getComponentFromProp, getEvents, getClass, getStyle, getAttrs, getOptionProps, getSlots, getListeners } from '../_util/props-util';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport { cloneElement } from '../_util/vnode';\nimport BaseMixin from '../_util/BaseMixin';\nimport proxyComponent from '../_util/proxyComponent';\nimport ref from 'vue-ref';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nimport { SelectPropTypes } from './PropTypes';\nimport contains from '../vc-util/Dom/contains';\nimport { isIE, isEdge } from '../_util/env';\nVue.use(ref, {\n  name: 'ant-ref'\n});\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n}; // Where el is the DOM element you'd like to test for visibility\n\n\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    } // eslint-disable-line\n    // eslint-disable-line\n\n\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\n\nvar Select = {\n  inheritAttrs: false,\n  Option: Option,\n  OptGroup: OptGroup,\n  name: 'Select',\n  mixins: [BaseMixin],\n  props: _extends({}, SelectPropTypes, {\n    prefixCls: SelectPropTypes.prefixCls.def('rc-select'),\n    defaultOpen: PropTypes.bool.def(false),\n    labelInValue: SelectPropTypes.labelInValue.def(false),\n    defaultActiveFirstOption: SelectPropTypes.defaultActiveFirstOption.def(true),\n    showSearch: SelectPropTypes.showSearch.def(true),\n    allowClear: SelectPropTypes.allowClear.def(false),\n    placeholder: SelectPropTypes.placeholder.def(''),\n    // showArrow: SelectPropTypes.showArrow.def(true),\n    dropdownMatchSelectWidth: PropTypes.bool.def(true),\n    dropdownStyle: SelectPropTypes.dropdownStyle.def(function () {\n      return {};\n    }),\n    dropdownMenuStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    optionFilterProp: SelectPropTypes.optionFilterProp.def('value'),\n    optionLabelProp: SelectPropTypes.optionLabelProp.def('value'),\n    notFoundContent: PropTypes.any.def('Not Found'),\n    backfill: PropTypes.bool.def(false),\n    showAction: SelectPropTypes.showAction.def(['click']),\n    combobox: PropTypes.bool.def(false),\n    tokenSeparators: PropTypes.arrayOf(PropTypes.string).def([]),\n    autoClearSearchValue: PropTypes.bool.def(true),\n    tabIndex: PropTypes.any.def(0),\n    dropdownRender: PropTypes.func.def(function (menu) {\n      return menu;\n    }) // onChange: noop,\n    // onFocus: noop,\n    // onBlur: noop,\n    // onSelect: noop,\n    // onSearch: noop,\n    // onDeselect: noop,\n    // onInputKeydown: noop,\n\n  }),\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  created: function created() {\n    this.saveInputRef = saveRef(this, 'inputRef');\n    this.saveInputMirrorRef = saveRef(this, 'inputMirrorRef');\n    this.saveTopCtrlRef = saveRef(this, 'topCtrlRef');\n    this.saveSelectTriggerRef = saveRef(this, 'selectTriggerRef');\n    this.saveRootRef = saveRef(this, 'rootRef');\n    this.saveSelectionRef = saveRef(this, 'selectionRef');\n    this._focused = false;\n    this._mouseDown = false;\n    this._options = [];\n    this._empty = false;\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    var optionsInfo = this.getOptionsInfoFromProps(props);\n    warning(this.__propsSymbol__, 'Replace slots.default with props.children and pass props.__propsSymbol__');\n\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n\n    var state = {\n      _value: this.getValueFromProps(props, true),\n      // true: use default value\n      _inputValue: props.combobox ? this.getInputValueForCombobox(props, optionsInfo, true // use default value\n      ) : '',\n      _open: props.defaultOpen,\n      _optionsInfo: optionsInfo,\n      _backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      _skipBuildOptionsInfo: true,\n      _ariaId: generateUUID()\n    };\n    return _extends({}, state, {\n      _mirrorInputValue: state._inputValue\n    }, this.getDerivedState(props, state));\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (_this.autoFocus || _this._open) {\n        _this.focus();\n      } // this.setState({\n      //   _ariaId: generateUUID(),\n      // });\n\n    });\n  },\n  watch: {\n    __propsSymbol__: function __propsSymbol__() {\n      _extends(this.$data, this.getDerivedState(getOptionProps(this), this.$data));\n    },\n    '$data._inputValue': function $data_inputValue(val) {\n      this.$data._mirrorInputValue = val;\n    }\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      if (isMultipleOrTags(_this2.$props)) {\n        var inputNode = _this2.getInputDOMNode();\n\n        var mirrorNode = _this2.getInputMirrorDOMNode();\n\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = mirrorNode.clientWidth + 10 + 'px';\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n\n      _this2.forcePopupAlign();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearFocusTime();\n    this.clearBlurTime();\n    this.clearComboboxTime();\n\n    if (this.dropdownContainer) {\n      document.body.removeChild(this.dropdownContainer);\n      this.dropdownContainer = null;\n    }\n  },\n  methods: {\n    getDerivedState: function getDerivedState(nextProps, prevState) {\n      var optionsInfo = prevState._skipBuildOptionsInfo ? prevState._optionsInfo : this.getOptionsInfoFromProps(nextProps, prevState);\n      var newState = {\n        _optionsInfo: optionsInfo,\n        _skipBuildOptionsInfo: false\n      };\n\n      if ('open' in nextProps) {\n        newState._open = nextProps.open;\n      }\n\n      if ('value' in nextProps) {\n        var value = this.getValueFromProps(nextProps);\n        newState._value = value;\n\n        if (nextProps.combobox) {\n          newState._inputValue = this.getInputValueForCombobox(nextProps, optionsInfo);\n        }\n      }\n\n      return newState;\n    },\n    getOptionsFromChildren: function getOptionsFromChildren() {\n      var _this3 = this;\n\n      var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      children.forEach(function (child) {\n        if (!child.data || child.data.slot !== undefined) {\n          return;\n        }\n\n        if (getSlotOptions(child).isSelectOptGroup) {\n          _this3.getOptionsFromChildren(child.componentOptions.children, options);\n        } else {\n          options.push(child);\n        }\n      });\n      return options;\n    },\n    getInputValueForCombobox: function getInputValueForCombobox(props, optionsInfo, useDefaultValue) {\n      var value = [];\n\n      if ('value' in props && !useDefaultValue) {\n        value = toArray(props.value);\n      }\n\n      if ('defaultValue' in props && useDefaultValue) {\n        value = toArray(props.defaultValue);\n      }\n\n      if (value.length) {\n        value = value[0];\n      } else {\n        return '';\n      }\n\n      var label = value;\n\n      if (props.labelInValue) {\n        label = value.label;\n      } else if (optionsInfo[getMapKey(value)]) {\n        label = optionsInfo[getMapKey(value)].label;\n      }\n\n      if (label === undefined) {\n        label = '';\n      }\n\n      return label;\n    },\n    getLabelFromOption: function getLabelFromOption(props, option) {\n      return getPropValue(option, props.optionLabelProp);\n    },\n    getOptionsInfoFromProps: function getOptionsInfoFromProps(props, preState) {\n      var _this4 = this;\n\n      var options = this.getOptionsFromChildren(this.$props.children);\n      var optionsInfo = {};\n      options.forEach(function (option) {\n        var singleValue = getValuePropValue(option);\n        optionsInfo[getMapKey(singleValue)] = {\n          option: option,\n          value: singleValue,\n          label: _this4.getLabelFromOption(props, option),\n          title: getValue(option, 'title'),\n          disabled: getValue(option, 'disabled')\n        };\n      });\n\n      if (preState) {\n        // keep option info in pre state value.\n        var oldOptionsInfo = preState._optionsInfo;\n        var value = preState._value;\n\n        if (value) {\n          value.forEach(function (v) {\n            var key = getMapKey(v);\n\n            if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n              optionsInfo[key] = oldOptionsInfo[key];\n            }\n          });\n        }\n      }\n\n      return optionsInfo;\n    },\n    getValueFromProps: function getValueFromProps(props, useDefaultValue) {\n      var value = [];\n\n      if ('value' in props && !useDefaultValue) {\n        value = toArray(props.value);\n      }\n\n      if ('defaultValue' in props && useDefaultValue) {\n        value = toArray(props.defaultValue);\n      }\n\n      if (props.labelInValue) {\n        value = value.map(function (v) {\n          return v.key;\n        });\n      }\n\n      return value;\n    },\n    onInputChange: function onInputChange(e) {\n      var _e$target = e.target,\n          val = _e$target.value,\n          composing = _e$target.composing;\n\n      var _$data$_inputValue = this.$data._inputValue,\n          _inputValue = _$data$_inputValue === undefined ? '' : _$data$_inputValue;\n\n      if (e.isComposing || composing || _inputValue === val) {\n        this.setState({\n          _mirrorInputValue: val\n        });\n        return;\n      }\n\n      var tokenSeparators = this.$props.tokenSeparators;\n\n      if (isMultipleOrTags(this.$props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = this.getValueByInput(val);\n\n        if (nextValue !== undefined) {\n          this.fireChange(nextValue);\n        }\n\n        this.setOpenState(false, {\n          needFocus: true\n        });\n        this.setInputValue('', false);\n        return;\n      }\n\n      this.setInputValue(val);\n      this.setState({\n        _open: true\n      });\n\n      if (isCombobox(this.$props)) {\n        this.fireChange([val]);\n      }\n    },\n    onDropdownVisibleChange: function onDropdownVisibleChange(open) {\n      if (open && !this._focused) {\n        this.clearBlurTime();\n        this.timeoutFocus();\n        this._focused = true;\n        this.updateFocusClassName();\n      }\n\n      this.setOpenState(open);\n    },\n    // combobox ignore\n    onKeyDown: function onKeyDown(event) {\n      var open = this.$data._open;\n      var disabled = this.$props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (open && !this.getInputDOMNode()) {\n        this.onInputKeydown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        // vue state是同步更新，onKeyDown在onMenuSelect后会再次调用，单选时不在调用setOpenState\n        // https://github.com/vueComponent/ant-design-vue/issues/1142\n        if (keyCode === KeyCode.ENTER && !isMultipleOrTags(this.$props)) {\n          this.maybeFocus(true);\n        } else if (!open) {\n          this.setOpenState(true);\n        }\n\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          this.setOpenState(true);\n          event.preventDefault();\n        }\n      }\n    },\n    onInputKeydown: function onInputKeydown(event) {\n      var _this5 = this;\n\n      var _$props = this.$props,\n          disabled = _$props.disabled,\n          combobox = _$props.combobox,\n          defaultActiveFirstOption = _$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n\n      var state = this.$data;\n      var isRealOpen = this.getRealOpenState(state);\n      var keyCode = event.keyCode;\n\n      if (isMultipleOrTags(this.$props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state._value;\n\n        if (value.length) {\n          this.removeSelected(value[value.length - 1]);\n        }\n\n        return;\n      }\n\n      if (keyCode === KeyCode.DOWN) {\n        if (!state._open) {\n          this.openIfHasChildren();\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state._open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        } // Hard close popup to avoid lock of non option in combobox mode\n\n\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          this.comboboxTimer = setTimeout(function () {\n            _this5.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state._open) {\n          this.setOpenState(false);\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (isRealOpen && this.selectTriggerRef) {\n        var menu = this.selectTriggerRef.getInnerMenu();\n\n        if (menu && menu.onKeyDown(event, this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    },\n    onMenuSelect: function onMenuSelect(_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n\n      var value = this.$data._value;\n      var props = this.$props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== this.$data._backfillValue) {\n          this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n          this.setOpenState(false, {\n            needFocus: true,\n            fireSearch: false\n          });\n        }\n      }\n\n      if (!skipTrigger) {\n        this.fireChange(value);\n      }\n\n      if (!skipTrigger) {\n        this.fireSelect(selectedValue);\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          this.setInputValue(inputValue, false);\n        }\n      }\n    },\n    onMenuDeselect: function onMenuDeselect(_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = item.$el; // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n\n        if (!isHidden(menuItemDomNode)) {\n          this.removeSelected(getValuePropValue(item));\n        }\n\n        return;\n      }\n\n      if (domEvent.type === 'click') {\n        this.removeSelected(getValuePropValue(item));\n      }\n\n      if (this.autoClearSearchValue) {\n        this.setInputValue('');\n      }\n    },\n    onArrowClick: function onArrowClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.clearBlurTime();\n\n      if (!this.disabled) {\n        this.setOpenState(!this.$data._open, {\n          needFocus: !this.$data._open\n        });\n      }\n    },\n    onPlaceholderClick: function onPlaceholderClick() {\n      if (this.getInputDOMNode() && this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    },\n    onPopupFocus: function onPopupFocus() {\n      // fix ie scrollbar, focus element again\n      this.maybeFocus(true, true);\n    },\n    onClearSelection: function onClearSelection(event) {\n      var props = this.$props;\n      var state = this.$data;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var inputValue = state._inputValue,\n          value = state._value;\n      event.stopPropagation();\n\n      if (inputValue || value.length) {\n        if (value.length) {\n          this.fireChange([]);\n        }\n\n        this.setOpenState(false, {\n          needFocus: true\n        });\n\n        if (inputValue) {\n          this.setInputValue('');\n        }\n      }\n    },\n    onChoiceAnimationLeave: function onChoiceAnimationLeave() {\n      this.forcePopupAlign();\n    },\n    getOptionInfoBySingleValue: function getOptionInfoBySingleValue(value, optionsInfo) {\n      var h = this.$createElement;\n      var info = void 0;\n      optionsInfo = optionsInfo || this.$data._optionsInfo;\n\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n\n      if (info) {\n        return info;\n      }\n\n      var defaultLabel = value;\n\n      if (this.$props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(this.$props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(this.$props.defaultValue, value);\n\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n\n      var defaultInfo = {\n        option: h(Option, {\n          attrs: {\n            value: value\n          },\n          key: value\n        }, [value]),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    },\n    getOptionBySingleValue: function getOptionBySingleValue(value) {\n      var _getOptionInfoBySingl = this.getOptionInfoBySingleValue(value),\n          option = _getOptionInfoBySingl.option;\n\n      return option;\n    },\n    getOptionsBySingleValue: function getOptionsBySingleValue(values) {\n      var _this6 = this;\n\n      return values.map(function (value) {\n        return _this6.getOptionBySingleValue(value);\n      });\n    },\n    getValueByLabel: function getValueByLabel(label) {\n      var _this7 = this;\n\n      if (label === undefined) {\n        return null;\n      }\n\n      var value = null;\n      Object.keys(this.$data._optionsInfo).forEach(function (key) {\n        var info = _this7.$data._optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n\n        var oldLable = toArray(info.label);\n\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    },\n    getVLBySingleValue: function getVLBySingleValue(value) {\n      if (this.$props.labelInValue) {\n        return {\n          key: value,\n          label: this.getLabelBySingleValue(value)\n        };\n      }\n\n      return value;\n    },\n    getVLForOnChange: function getVLForOnChange(vlsS) {\n      var _this8 = this;\n\n      var vls = vlsS;\n\n      if (vls !== undefined) {\n        if (!this.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this8.getLabelBySingleValue(vl)\n            };\n          });\n        }\n\n        return isMultipleOrTags(this.$props) ? vls : vls[0];\n      }\n\n      return vls;\n    },\n    getLabelBySingleValue: function getLabelBySingleValue(value, optionsInfo) {\n      var _getOptionInfoBySingl2 = this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _getOptionInfoBySingl2.label;\n\n      return label;\n    },\n    getDropdownContainer: function getDropdownContainer() {\n      if (!this.dropdownContainer) {\n        this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(this.dropdownContainer);\n      }\n\n      return this.dropdownContainer;\n    },\n    getPlaceholderElement: function getPlaceholderElement() {\n      var h = this.$createElement;\n      var props = this.$props,\n          state = this.$data;\n      var hidden = false;\n\n      if (state._mirrorInputValue) {\n        hidden = true;\n      }\n\n      var value = state._value;\n\n      if (value.length) {\n        hidden = true;\n      }\n\n      if (!state._mirrorInputValue && isCombobox(props) && value.length === 1 && state._value && !state._value[0]) {\n        hidden = false;\n      }\n\n      var placeholder = props.placeholder;\n\n      if (placeholder) {\n        var p = {\n          on: {\n            mousedown: preventDefaultEvent,\n            click: this.onPlaceholderClick\n          },\n          attrs: UNSELECTABLE_ATTRIBUTE,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE),\n          'class': props.prefixCls + '-selection__placeholder'\n        };\n        return h('div', p, [placeholder]);\n      }\n\n      return null;\n    },\n    inputClick: function inputClick(e) {\n      if (this.$data._open) {\n        this.clearBlurTime();\n        e.stopPropagation();\n      } else {\n        this._focused = false;\n      }\n    },\n    inputBlur: function inputBlur(e) {\n      var _this9 = this;\n\n      var target = e.relatedTarget || document.activeElement; // https://github.com/vueComponent/ant-design-vue/issues/999\n      // https://github.com/vueComponent/ant-design-vue/issues/1223\n\n      if ((isIE || isEdge) && (e.relatedTarget === this.$refs.arrow || target && this.selectTriggerRef && this.selectTriggerRef.getInnerMenu() && this.selectTriggerRef.getInnerMenu().$el === target || contains(e.target, target))) {\n        e.target.focus();\n        e.preventDefault();\n        return;\n      }\n\n      this.clearBlurTime();\n\n      if (this.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      this.blurTimer = setTimeout(function () {\n        _this9._focused = false;\n\n        _this9.updateFocusClassName();\n\n        var props = _this9.$props;\n        var value = _this9.$data._value;\n        var inputValue = _this9.$data._inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this9._options || [];\n\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n\n              _this9.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this9._mouseDown) {\n            // need update dropmenu when not blur\n            _this9.setInputValue('');\n          } else {\n            // why not use setState?\n            _this9.$data._inputValue = '';\n\n            if (_this9.getInputDOMNode && _this9.getInputDOMNode()) {\n              _this9.getInputDOMNode().value = '';\n            }\n          }\n\n          var tmpValue = _this9.getValueByInput(inputValue);\n\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n\n            _this9.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n\n        if (isMultipleOrTags(props) && _this9._mouseDown) {\n          _this9.maybeFocus(true, true);\n\n          _this9._mouseDown = false;\n          return;\n        }\n\n        _this9.setOpenState(false);\n\n        _this9.$emit('blur', _this9.getVLForOnChange(value));\n      }, 200);\n    },\n    inputFocus: function inputFocus(e) {\n      if (this.$props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      this.clearBlurTime(); // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n\n      var inputNode = this.getInputDOMNode();\n\n      if (inputNode && e.target === this.rootRef) {\n        return;\n      }\n\n      if (!isMultipleOrTagsOrCombobox(this.$props) && e.target === inputNode) {\n        return;\n      }\n\n      if (this._focused) {\n        return;\n      }\n\n      this._focused = true;\n      this.updateFocusClassName(); // only effect multiple or tag mode\n\n      if (!isMultipleOrTags(this.$props) || !this._mouseDown) {\n        this.timeoutFocus();\n      }\n    },\n    _getInputElement: function _getInputElement() {\n      var h = this.$createElement;\n      var props = this.$props;\n      var _$data = this.$data,\n          inputValue = _$data._inputValue,\n          _mirrorInputValue = _$data._mirrorInputValue;\n      var attrs = getAttrs(this);\n      var defaultInput = h('input', {\n        attrs: {\n          id: attrs.id,\n          autoComplete: 'off'\n        }\n      });\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(getClass(inputElement), _defineProperty({}, props.prefixCls + '-search__field', true));\n      var inputEvents = getEvents(inputElement); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      inputElement.data = inputElement.data || {};\n      return h('div', {\n        'class': props.prefixCls + '-search__field__wrap',\n        on: {\n          'click': this.inputClick\n        }\n      }, [cloneElement(inputElement, {\n        props: {\n          disabled: props.disabled,\n          value: inputValue\n        },\n        attrs: _extends({}, inputElement.data.attrs || {}, {\n          disabled: props.disabled,\n          value: inputValue\n        }),\n        domProps: {\n          value: inputValue\n        },\n        'class': inputCls,\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveInputRef\n        }, {\n          name: 'ant-input'\n        }],\n        on: {\n          input: this.onInputChange,\n          keydown: chaining(this.onInputKeydown, inputEvents.keydown, getListeners(this).inputKeydown),\n          focus: chaining(this.inputFocus, inputEvents.focus),\n          blur: chaining(this.inputBlur, inputEvents.blur)\n        }\n      }), h('span', _mergeJSXProps([{\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveInputMirrorRef\n        }]\n      }, {\n        // ref='inputMirrorRef'\n        'class': props.prefixCls + '-search__field__mirror'\n      }]), [_mirrorInputValue, '\\xA0'])]);\n    },\n    getInputDOMNode: function getInputDOMNode() {\n      return this.topCtrlRef ? this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : this.inputRef;\n    },\n    getInputMirrorDOMNode: function getInputMirrorDOMNode() {\n      return this.inputMirrorRef;\n    },\n    getPopupDOMNode: function getPopupDOMNode() {\n      if (this.selectTriggerRef) {\n        return this.selectTriggerRef.getPopupDOMNode();\n      }\n    },\n    getPopupMenuComponent: function getPopupMenuComponent() {\n      if (this.selectTriggerRef) {\n        return this.selectTriggerRef.getInnerMenu();\n      }\n    },\n    setOpenState: function setOpenState(open) {\n      var _this10 = this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var props = this.$props,\n          state = this.$data;\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n\n      if (state._open === open) {\n        this.maybeFocus(open, !!needFocus);\n        return;\n      }\n\n      this.__emit('dropdownVisibleChange', open);\n\n      var nextState = {\n        _open: open,\n        _backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        this.setInputValue('', fireSearch);\n      }\n\n      if (!open) {\n        this.maybeFocus(open, !!needFocus);\n      }\n\n      this.setState(nextState, function () {\n        if (open) {\n          _this10.maybeFocus(open, !!needFocus);\n        }\n      });\n    },\n    setInputValue: function setInputValue(inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (inputValue !== this.$data._inputValue) {\n        this.setState({\n          _inputValue: inputValue\n        }, this.forcePopupAlign);\n\n        if (fireSearch) {\n          this.$emit('search', inputValue);\n        }\n      }\n    },\n    getValueByInput: function getValueByInput(str) {\n      var _this11 = this;\n\n      var _$props2 = this.$props,\n          multiple = _$props2.multiple,\n          tokenSeparators = _$props2.tokenSeparators;\n      var nextValue = this.$data._value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n\n        if (multiple) {\n          var value = _this11.getValueByLabel(label);\n\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n\n            _this11.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n\n          _this11.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    },\n    getRealOpenState: function getRealOpenState(state) {\n      var _open = this.$props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || this.$data)._open;\n      var options = this._options || [];\n\n      if (isMultipleOrTagsOrCombobox(this.$props) || !this.$props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n\n      return open;\n    },\n    focus: function focus() {\n      if (isSingleMode(this.$props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    },\n    blur: function blur() {\n      if (isSingleMode(this.$props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    },\n    markMouseDown: function markMouseDown() {\n      this._mouseDown = true;\n    },\n    markMouseLeave: function markMouseLeave() {\n      this._mouseDown = false;\n    },\n    handleBackfill: function handleBackfill(item) {\n      if (!this.backfill || !(isSingleMode(this.$props) || isCombobox(this.$props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(this.$props)) {\n        this.setInputValue(key, false);\n      }\n\n      this.setState({\n        _value: [key],\n        _backfillValue: key\n      });\n    },\n    _filterOption: function _filterOption(input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var _$data2 = this.$data,\n          value = _$data2._value,\n          backfillValue = _$data2._backfillValue;\n      var lastValue = value[value.length - 1];\n\n      if (!input || lastValue && lastValue === backfillValue) {\n        return true;\n      }\n\n      var filterFn = this.$props.filterOption;\n\n      if (hasProp(this, 'filterOption')) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(this);\n        }\n      } else {\n        filterFn = defaultFilter.bind(this);\n      }\n\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(this, input, child);\n      } else if (getValue(child, 'disabled')) {\n        return false;\n      }\n\n      return true;\n    },\n    timeoutFocus: function timeoutFocus() {\n      var _this12 = this;\n\n      if (this.focusTimer) {\n        this.clearFocusTime();\n      }\n\n      this.focusTimer = window.setTimeout(function () {\n        // this._focused = true\n        // this.updateFocusClassName()\n        _this12.$emit('focus');\n      }, 10);\n    },\n    clearFocusTime: function clearFocusTime() {\n      if (this.focusTimer) {\n        clearTimeout(this.focusTimer);\n        this.focusTimer = null;\n      }\n    },\n    clearBlurTime: function clearBlurTime() {\n      if (this.blurTimer) {\n        clearTimeout(this.blurTimer);\n        this.blurTimer = null;\n      }\n    },\n    clearComboboxTime: function clearComboboxTime() {\n      if (this.comboboxTimer) {\n        clearTimeout(this.comboboxTimer);\n        this.comboboxTimer = null;\n      }\n    },\n    updateFocusClassName: function updateFocusClassName() {\n      var rootRef = this.rootRef,\n          prefixCls = this.prefixCls; // avoid setState and its side effect\n\n      if (this._focused) {\n        classes(rootRef).add(prefixCls + '-focused');\n      } else {\n        classes(rootRef).remove(prefixCls + '-focused');\n      }\n    },\n    maybeFocus: function maybeFocus(open, needFocus) {\n      if (needFocus || open) {\n        var input = this.getInputDOMNode();\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(this.$props))) {\n          if (activeElement !== input) {\n            input.focus();\n            this._focused = true;\n          }\n        } else if (activeElement !== this.selectionRef && this.selectionRef) {\n          this.selectionRef.focus();\n          this._focused = true;\n        }\n      }\n    },\n    removeSelected: function removeSelected(selectedKey, e) {\n      var props = this.$props;\n\n      if (props.disabled || this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n\n      var oldValue = this.$data._value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: this.getLabelBySingleValue(selectedKey)\n          };\n        }\n\n        this.$emit('deselect', event, this.getOptionBySingleValue(selectedKey));\n      }\n\n      this.fireChange(value);\n    },\n    openIfHasChildren: function openIfHasChildren() {\n      var $props = this.$props;\n\n      if ($props.children && $props.children.length || isSingleMode($props)) {\n        this.setOpenState(true);\n      }\n    },\n    fireSelect: function fireSelect(value) {\n      this.$emit('select', this.getVLBySingleValue(value), this.getOptionBySingleValue(value));\n    },\n    fireChange: function fireChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          _value: value\n        }, this.forcePopupAlign);\n      }\n\n      var vls = this.getVLForOnChange(value);\n      var options = this.getOptionsBySingleValue(value);\n      this._valueOptions = options;\n      this.$emit('change', vls, isMultipleOrTags(this.$props) ? options : options[0]);\n    },\n    isChildDisabled: function isChildDisabled(key) {\n      return (this.$props.children || []).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && getValue(child, 'disabled');\n      });\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (!this.$data._open) {\n        return;\n      }\n\n      if (this.selectTriggerRef && this.selectTriggerRef.triggerRef) {\n        this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    },\n    renderFilterOptions: function renderFilterOptions() {\n      var h = this.$createElement;\n      var inputValue = this.$data._inputValue;\n      var _$props3 = this.$props,\n          children = _$props3.children,\n          tags = _$props3.tags,\n          notFoundContent = _$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n      var options = this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n\n      if (tags) {\n        // tags value must be string\n        var value = this.$data._value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n\n          var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n            role: 'option'\n          });\n\n          var menuItem = h(MenuItem, _mergeJSXProps([{\n            style: UNSELECTABLE_STYLE\n          }, {\n            attrs: attrs\n          }, {\n            attrs: {\n              value: key\n            },\n            key: key\n          }]), [key]);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          var p = {\n            attrs: UNSELECTABLE_ATTRIBUTE,\n            key: inputValue,\n            props: {\n              value: inputValue,\n              role: 'option'\n            },\n            style: UNSELECTABLE_STYLE\n          };\n          options.unshift(h(MenuItem, p, [inputValue]));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        var _p = {\n          attrs: UNSELECTABLE_ATTRIBUTE,\n          key: 'NOT_FOUND',\n          props: {\n            value: 'NOT_FOUND',\n            disabled: true,\n            role: 'option'\n          },\n          style: UNSELECTABLE_STYLE\n        };\n        options = [h(MenuItem, _p, [notFoundContent])];\n      }\n\n      return {\n        empty: empty,\n        options: options\n      };\n    },\n    renderFilterOptionsFromChildren: function renderFilterOptionsFromChildren() {\n      var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var _this13 = this;\n\n      var childrenKeys = arguments[1];\n      var menuItems = arguments[2];\n      var h = this.$createElement;\n      var sel = [];\n      var props = this.$props;\n      var inputValue = this.$data._inputValue;\n      var tags = props.tags;\n      children.forEach(function (child) {\n        if (!child.data || child.data.slot !== undefined) {\n          return;\n        }\n\n        if (getSlotOptions(child).isSelectOptGroup) {\n          var label = getComponentFromProp(child, 'label');\n          var key = child.key;\n\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          }\n\n          var childChildren = getSlots(child)['default'];\n          childChildren = typeof childChildren === 'function' ? childChildren() : childChildren; // Match option group label\n\n          if (inputValue && _this13._filterOption(inputValue, child)) {\n            var innerItems = childChildren.map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return h(MenuItem, _mergeJSXProps([{\n                key: childValueSub,\n                attrs: {\n                  value: childValueSub\n                }\n              }, subChild.data]), [subChild.componentOptions.children]);\n            });\n            sel.push(h(MenuItemGroup, {\n              key: key,\n              attrs: {\n                title: label\n              },\n              'class': getClass(child)\n            }, [innerItems])); // Not match\n          } else {\n            var _innerItems = _this13.renderFilterOptionsFromChildren(childChildren, childrenKeys, menuItems);\n\n            if (_innerItems.length) {\n              sel.push(h(MenuItemGroup, _mergeJSXProps([{\n                key: key,\n                attrs: {\n                  title: label\n                }\n              }, child.data]), [_innerItems]));\n            }\n          }\n\n          return;\n        }\n\n        warning(getSlotOptions(child).isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + ('instead of `' + (getSlotOptions(child).name || getSlotOptions(child)) + '`.'));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this13.$props);\n\n        if (_this13._filterOption(inputValue, child)) {\n          var p = {\n            attrs: _extends({}, UNSELECTABLE_ATTRIBUTE, getAttrs(child)),\n            key: childValue,\n            props: _extends({\n              value: childValue\n            }, getPropsData(child), {\n              role: 'option'\n            }),\n            style: UNSELECTABLE_STYLE,\n            on: getEvents(child),\n            'class': getClass(child)\n          };\n          var menuItem = h(MenuItem, p, [child.componentOptions.children]);\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    },\n    renderTopControlNode: function renderTopControlNode() {\n      var _this14 = this;\n\n      var h = this.$createElement;\n      var props = this.$props;\n      var _$data3 = this.$data,\n          value = _$data3._value,\n          inputValue = _$data3._inputValue,\n          open = _$data3._open;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          maxTagPlaceholder = props.maxTagPlaceholder,\n          showSearch = props.showSearch;\n      var removeIcon = getComponentFromProp(this, 'removeIcon');\n      var className = prefixCls + '-selection__rendered'; // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n\n          var singleValue = value[0];\n\n          var _getOptionInfoBySingl3 = this.getOptionInfoBySingleValue(singleValue),\n              label = _getOptionInfoBySingl3.label,\n              title = _getOptionInfoBySingl3.title;\n\n          selectedValue = h('div', {\n            key: 'value',\n            'class': prefixCls + '-selection-selected-value',\n            attrs: {\n              title: toTitle(title || label)\n            },\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, [label]);\n        }\n\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, h('div', {\n            'class': prefixCls + '-search ' + prefixCls + '-search--inline',\n            key: 'input',\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, [this._getInputElement()])];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl = void 0;\n\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n          var omittedValues = this.getVLForOnChange(value.slice(maxTagCount, value.length));\n          var content = '+ ' + (value.length - maxTagCount) + ' ...';\n\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n\n          var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n            role: 'presentation',\n            title: toTitle(content)\n          });\n\n          maxTagPlaceholderEl = h('li', _mergeJSXProps([{\n            style: UNSELECTABLE_STYLE\n          }, {\n            attrs: attrs\n          }, {\n            on: {\n              'mousedown': preventDefaultEvent\n            },\n            'class': prefixCls + '-selection__choice ' + prefixCls + '-selection__choice__disabled',\n            key: 'maxTagPlaceholder'\n          }]), [h('div', {\n            'class': prefixCls + '-selection__choice__content'\n          }, [content])]);\n        }\n\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this14.getOptionInfoBySingleValue(singleValue);\n\n            var content = info.label;\n            var title = info.title || content;\n\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = content.slice(0, maxTagTextLength) + '...';\n            }\n\n            var disabled = _this14.isChildDisabled(singleValue);\n\n            var choiceClassName = disabled ? prefixCls + '-selection__choice ' + prefixCls + '-selection__choice__disabled' : prefixCls + '-selection__choice'; // attrs 放在一起，避免动态title混乱问题，很奇怪的问题 https://github.com/vueComponent/ant-design-vue/issues/588\n\n            var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n              role: 'presentation',\n              title: toTitle(title)\n            });\n\n            return h('li', _mergeJSXProps([{\n              style: UNSELECTABLE_STYLE\n            }, {\n              attrs: attrs\n            }, {\n              on: {\n                'mousedown': preventDefaultEvent\n              },\n              'class': choiceClassName,\n              key: singleValue || SELECT_EMPTY_VALUE_KEY\n            }]), [h('div', {\n              'class': prefixCls + '-selection__choice__content'\n            }, [content]), disabled ? null : h('span', {\n              on: {\n                'click': function click(event) {\n                  _this14.removeSelected(singleValue, event);\n                }\n              },\n              'class': prefixCls + '-selection__choice__remove'\n            }, [removeIcon || h('i', {\n              'class': prefixCls + '-selection__choice__remove-icon'\n            }, ['\\xD7'])])]);\n          });\n        }\n\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n\n        selectedValueNodes.push(h('li', {\n          'class': prefixCls + '-search ' + prefixCls + '-search--inline',\n          key: '__input'\n        }, [this._getInputElement()]));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          var transitionProps = getTransitionProps(choiceTransitionName, {\n            tag: 'ul',\n            afterLeave: this.onChoiceAnimationLeave\n          });\n          innerNode = h('transition-group', transitionProps, [selectedValueNodes]);\n        } else {\n          innerNode = h('ul', [selectedValueNodes]);\n        }\n      }\n\n      return h('div', _mergeJSXProps([{\n        'class': className\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveTopCtrlRef\n        }]\n      }, {\n        on: {\n          'click': this.topCtrlContainerClick\n        }\n      }]), [this.getPlaceholderElement(), innerNode]);\n    },\n    renderArrow: function renderArrow(multiple) {\n      var h = this.$createElement; // showArrow : Set to true if not multiple by default but keep set value.\n\n      var _$props4 = this.$props,\n          _$props4$showArrow = _$props4.showArrow,\n          showArrow = _$props4$showArrow === undefined ? !multiple : _$props4$showArrow,\n          loading = _$props4.loading,\n          prefixCls = _$props4.prefixCls;\n      var inputIcon = getComponentFromProp(this, 'inputIcon');\n\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n\n      var defaultIcon = loading ? h('i', {\n        'class': prefixCls + '-arrow-loading'\n      }) : h('i', {\n        'class': prefixCls + '-arrow-icon'\n      });\n      return h('span', _mergeJSXProps([{\n        key: 'arrow',\n        'class': prefixCls + '-arrow',\n        style: UNSELECTABLE_STYLE\n      }, {\n        attrs: UNSELECTABLE_ATTRIBUTE\n      }, {\n        on: {\n          'click': this.onArrowClick\n        },\n        ref: 'arrow'\n      }]), [inputIcon || defaultIcon]);\n    },\n    topCtrlContainerClick: function topCtrlContainerClick(e) {\n      if (this.$data._open && !isSingleMode(this.$props)) {\n        e.stopPropagation();\n      }\n    },\n    renderClear: function renderClear() {\n      var h = this.$createElement;\n      var _$props5 = this.$props,\n          prefixCls = _$props5.prefixCls,\n          allowClear = _$props5.allowClear;\n      var _$data4 = this.$data,\n          value = _$data4._value,\n          inputValue = _$data4._inputValue;\n      var clearIcon = getComponentFromProp(this, 'clearIcon');\n      var clear = h('span', _mergeJSXProps([{\n        key: 'clear',\n        'class': prefixCls + '-selection__clear',\n        on: {\n          'mousedown': preventDefaultEvent\n        },\n        style: UNSELECTABLE_STYLE\n      }, {\n        attrs: UNSELECTABLE_ATTRIBUTE\n      }, {\n        on: {\n          'click': this.onClearSelection\n        }\n      }]), [clearIcon || h('i', {\n        'class': prefixCls + '-selection__clear-icon'\n      }, ['\\xD7'])]);\n\n      if (!allowClear) {\n        return null;\n      }\n\n      if (isCombobox(this.$props)) {\n        if (inputValue) {\n          return clear;\n        }\n\n        return null;\n      }\n\n      if (inputValue || value.length) {\n        return clear;\n      }\n\n      return null;\n    },\n    selectionRefClick: function selectionRefClick() {\n      //e.stopPropagation();\n      if (!this.disabled) {\n        var input = this.getInputDOMNode();\n\n        if (this._focused && this.$data._open) {\n          // this._focused = false;\n          this.setOpenState(false, false);\n          input && input.blur();\n        } else {\n          this.clearBlurTime(); //this._focused = true;\n\n          this.setOpenState(true, true);\n          input && input.focus();\n        }\n      }\n    },\n    selectionRefFocus: function selectionRefFocus(e) {\n      if (this._focused || this.disabled || isMultipleOrTagsOrCombobox(this.$props)) {\n        e.preventDefault();\n        return;\n      }\n\n      this._focused = true;\n      this.updateFocusClassName();\n      this.$emit('focus');\n    },\n    selectionRefBlur: function selectionRefBlur(e) {\n      if (isMultipleOrTagsOrCombobox(this.$props)) {\n        e.preventDefault();\n        return;\n      }\n\n      this.inputBlur(e);\n    }\n  },\n  render: function render() {\n    var _rootCls;\n\n    var h = arguments[0];\n    var props = this.$props;\n    var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n    var _props$showArrow = props.showArrow,\n        showArrow = _props$showArrow === undefined ? true : _props$showArrow;\n    var state = this.$data;\n    var disabled = props.disabled,\n        prefixCls = props.prefixCls,\n        loading = props.loading;\n    var ctrlNode = this.renderTopControlNode();\n    var _$data5 = this.$data,\n        open = _$data5._open,\n        inputValue = _$data5._inputValue,\n        value = _$data5._value;\n\n    if (open) {\n      var filterOptions = this.renderFilterOptions();\n      this._empty = filterOptions.empty;\n      this._options = filterOptions.options;\n    }\n\n    var realOpen = this.getRealOpenState();\n    var empty = this._empty;\n    var options = this._options || [];\n\n    var _getListeners = getListeners(this),\n        _getListeners$mouseen = _getListeners.mouseenter,\n        mouseenter = _getListeners$mouseen === undefined ? noop : _getListeners$mouseen,\n        _getListeners$mousele = _getListeners.mouseleave,\n        mouseleave = _getListeners$mousele === undefined ? noop : _getListeners$mousele,\n        _getListeners$popupSc = _getListeners.popupScroll,\n        popupScroll = _getListeners$popupSc === undefined ? noop : _getListeners$popupSc;\n\n    var selectionProps = {\n      props: {},\n      attrs: {\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-haspopup': 'true',\n        'aria-expanded': realOpen,\n        'aria-controls': this.$data._ariaId\n      },\n      on: {// click: this.selectionRefClick,\n      },\n      'class': prefixCls + '-selection ' + prefixCls + '-selection--' + (multiple ? 'multiple' : 'single'),\n      // directives: [\n      //   {\n      //     name: 'ant-ref',\n      //     value: this.saveSelectionRef,\n      //   },\n      // ],\n      key: 'selection'\n    }; //if (!isMultipleOrTagsOrCombobox(props)) {\n    // selectionProps.on.keydown = this.onKeyDown;\n    // selectionProps.on.focus = this.selectionRefFocus;\n    // selectionProps.on.blur = this.selectionRefBlur;\n    // selectionProps.attrs.tabIndex = props.disabled ? -1 : props.tabIndex;\n    //}\n\n    var extraSelectionProps = {\n      attrs: {\n        tabIndex: -1\n      }\n    };\n\n    if (!isMultipleOrTagsOrCombobox(props)) {\n      extraSelectionProps.attrs.tabIndex = props.disabled ? -1 : props.tabIndex;\n    }\n\n    var rootCls = (_rootCls = {}, _defineProperty(_rootCls, prefixCls, true), _defineProperty(_rootCls, prefixCls + '-open', open), _defineProperty(_rootCls, prefixCls + '-focused', open || !!this._focused), _defineProperty(_rootCls, prefixCls + '-combobox', isCombobox(props)), _defineProperty(_rootCls, prefixCls + '-disabled', disabled), _defineProperty(_rootCls, prefixCls + '-enabled', !disabled), _defineProperty(_rootCls, prefixCls + '-allow-clear', !!props.allowClear), _defineProperty(_rootCls, prefixCls + '-no-arrow', !showArrow), _defineProperty(_rootCls, prefixCls + '-loading', !!loading), _rootCls);\n    return h(SelectTrigger, _mergeJSXProps([{\n      attrs: {\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: inputValue,\n        value: value,\n        backfillValue: state._backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        getPopupContainer: props.getPopupContainer,\n        showAction: props.showAction,\n        menuItemSelectedIcon: getComponentFromProp(this, 'menuItemSelectedIcon')\n      },\n      on: {\n        'dropdownVisibleChange': this.onDropdownVisibleChange,\n        'menuSelect': this.onMenuSelect,\n        'menuDeselect': this.onMenuDeselect,\n        'popupScroll': popupScroll,\n        'popupFocus': this.onPopupFocus,\n        'mouseenter': mouseenter,\n        'mouseleave': mouseleave\n      }\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: this.saveSelectTriggerRef\n      }]\n    }, {\n      attrs: {\n        dropdownRender: props.dropdownRender,\n        ariaId: this.$data._ariaId\n      }\n    }]), [h('div', _mergeJSXProps([{\n      directives: [{\n        name: 'ant-ref',\n        value: chaining(this.saveRootRef, this.saveSelectionRef)\n      }]\n    }, {\n      style: getStyle(this),\n      'class': classnames(rootCls),\n      on: {\n        'mousedown': this.markMouseDown,\n        'mouseup': this.markMouseLeave,\n        'mouseout': this.markMouseLeave\n      }\n    }, extraSelectionProps, {\n      on: {\n        'blur': this.selectionRefBlur,\n        'focus': this.selectionRefFocus,\n        'click': this.selectionRefClick,\n        'keydown': isMultipleOrTagsOrCombobox(props) ? noop : this.onKeyDown\n      }\n    }]), [h('div', selectionProps, [ctrlNode, this.renderClear(), this.renderArrow(!!multiple)])])]);\n  }\n};\nexport { Select };\nexport default proxyComponent(Select);","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-select/Select.js"],"names":["_mergeJSXProps","_defineProperty","_extends","KeyCode","PropTypes","classnames","classes","Item","MenuItem","ItemGroup","MenuItemGroup","warning","Vue","Option","OptGroup","hasProp","getSlotOptions","getPropsData","getValueByProp","getValue","getComponentFromProp","getEvents","getClass","getStyle","getAttrs","getOptionProps","getSlots","getListeners","getTransitionProps","cloneElement","BaseMixin","proxyComponent","ref","SelectTrigger","defaultFilterFn","findFirstMenuItem","findIndexInValueBySingleValue","generateUUID","getLabelFromPropsValue","getMapKey","getPropValue","getValuePropValue","includesSeparators","isCombobox","isMultipleOrTags","isMultipleOrTagsOrCombobox","isSingleMode","preventDefaultEvent","saveRef","splitBySeparators","toArray","toTitle","UNSELECTABLE_ATTRIBUTE","UNSELECTABLE_STYLE","validateOptionValue","SelectPropTypes","contains","isIE","isEdge","use","name","SELECT_EMPTY_VALUE_KEY","noop","isHidden","node","offsetParent","chaining","_len","arguments","length","fns","Array","_key","_len2","args","_key2","i","apply","Select","inheritAttrs","mixins","props","prefixCls","def","defaultOpen","bool","labelInValue","defaultActiveFirstOption","showSearch","allowClear","placeholder","dropdownMatchSelectWidth","dropdownStyle","dropdownMenuStyle","object","optionFilterProp","optionLabelProp","notFoundContent","any","backfill","showAction","combobox","tokenSeparators","arrayOf","string","autoClearSearchValue","tabIndex","dropdownRender","func","menu","model","prop","event","created","saveInputRef","saveInputMirrorRef","saveTopCtrlRef","saveSelectTriggerRef","saveRootRef","saveSelectionRef","_focused","_mouseDown","_options","_empty","data","optionsInfo","getOptionsInfoFromProps","__propsSymbol__","tags","filterOption","isDisabledExist","Object","keys","some","key","disabled","state","_value","getValueFromProps","_inputValue","getInputValueForCombobox","_open","_optionsInfo","_backfillValue","_skipBuildOptionsInfo","_ariaId","_mirrorInputValue","getDerivedState","mounted","_this","$nextTick","autoFocus","focus","watch","$data","$data_inputValue","val","updated","_this2","$props","inputNode","getInputDOMNode","mirrorNode","getInputMirrorDOMNode","value","style","width","clientWidth","forcePopupAlign","beforeDestroy","clearFocusTime","clearBlurTime","clearComboboxTime","dropdownContainer","document","body","removeChild","methods","nextProps","prevState","newState","open","getOptionsFromChildren","_this3","children","undefined","options","forEach","child","slot","isSelectOptGroup","componentOptions","push","useDefaultValue","defaultValue","label","getLabelFromOption","option","preState","_this4","singleValue","title","oldOptionsInfo","v","map","onInputChange","e","_e$target","target","composing","_$data$_inputValue","isComposing","setState","nextValue","getValueByInput","fireChange","setOpenState","needFocus","setInputValue","onDropdownVisibleChange","timeoutFocus","updateFocusClassName","onKeyDown","keyCode","onInputKeydown","ENTER","DOWN","maybeFocus","preventDefault","SPACE","_this5","_$props","isRealOpen","getRealOpenState","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","comboboxTimer","setTimeout","ESC","selectTriggerRef","getInnerMenu","handleBackfill","onMenuSelect","_ref","item","selectedValue","lastValue","skipTrigger","concat","fireSearch","fireSelect","inputValue","onMenuDeselect","_ref2","domEvent","type","menuItemDomNode","$el","onArrowClick","onPlaceholderClick","onPopupFocus","onClearSelection","onChoiceAnimationLeave","getOptionInfoBySingleValue","h","$createElement","info","defaultLabel","valueLabel","defaultValueLabel","defaultInfo","attrs","getOptionBySingleValue","_getOptionInfoBySingl","getOptionsBySingleValue","values","_this6","getValueByLabel","_this7","oldLable","join","getVLBySingleValue","getLabelBySingleValue","getVLForOnChange","vlsS","_this8","vls","vl","_getOptionInfoBySingl2","getDropdownContainer","createElement","appendChild","getPlaceholderElement","hidden","p","on","mousedown","click","display","inputClick","inputBlur","_this9","relatedTarget","activeElement","$refs","arrow","blurTimer","firstOption","tmpValue","$emit","inputFocus","rootRef","_getInputElement","_$data","defaultInput","id","autoComplete","inputElement","getInputElement","inputCls","inputEvents","domProps","directives","input","keydown","inputKeydown","blur","topCtrlRef","querySelector","inputRef","inputMirrorRef","getPopupDOMNode","getPopupMenuComponent","_this10","config","__emit","nextState","str","_this11","_$props2","multiple","hasNewValue","selectionRef","markMouseDown","markMouseLeave","_filterOption","defaultFilter","_$data2","backfillValue","filterFn","bind","call","_this12","focusTimer","window","clearTimeout","add","remove","_document","selectedKey","isChildDisabled","oldValue","filter","canMultiple","_valueOptions","childValue","triggerRef","renderFilterOptions","_$props3","menuItems","childrenKeys","empty","renderFilterOptionsFromChildren","indexOf","String","sort","val1","val2","role","menuItem","every","unshift","_p","_this13","sel","childChildren","innerItems","subChild","childValueSub","_innerItems","isSelectOption","renderTopControlNode","_this14","_$data3","choiceTransitionName","maxTagTextLength","maxTagCount","maxTagPlaceholder","removeIcon","className","innerNode","showSelectedValue","opacity","_getOptionInfoBySingl3","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","transitionProps","tag","afterLeave","topCtrlContainerClick","renderArrow","_$props4","_$props4$showArrow","showArrow","loading","inputIcon","defaultIcon","renderClear","_$props5","_$data4","clearIcon","clear","selectionRefClick","selectionRefFocus","selectionRefBlur","render","_rootCls","_props$showArrow","ctrlNode","_$data5","filterOptions","realOpen","_getListeners","_getListeners$mouseen","mouseenter","_getListeners$mousele","mouseleave","_getListeners$popupSc","popupScroll","selectionProps","extraSelectionProps","rootCls","dropdownAlign","dropdownClassName","transitionName","animation","visible","firstActiveValue","getPopupContainer","menuItemSelectedIcon","ariaId"],"mappings":"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","sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport KeyCode from '../_util/KeyCode';\nimport PropTypes from '../_util/vue-types';\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from '../vc-menu';\nimport warning from 'warning';\nimport Vue from 'vue';\nimport Option from './Option';\nimport OptGroup from './OptGroup';\nimport { hasProp, getSlotOptions, getPropsData, getValueByProp as getValue, getComponentFromProp, getEvents, getClass, getStyle, getAttrs, getOptionProps, getSlots, getListeners } from '../_util/props-util';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport { cloneElement } from '../_util/vnode';\nimport BaseMixin from '../_util/BaseMixin';\nimport proxyComponent from '../_util/proxyComponent';\nimport ref from 'vue-ref';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nimport { SelectPropTypes } from './PropTypes';\nimport contains from '../vc-util/Dom/contains';\nimport { isIE, isEdge } from '../_util/env';\n\nVue.use(ref, { name: 'ant-ref' });\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\n\nvar noop = function noop() {\n  return null;\n};\n\n// Where el is the DOM element you'd like to test for visibility\nfunction isHidden(node) {\n  return !node || node.offsetParent === null;\n}\n\nfunction chaining() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // eslint-disable-line\n    // eslint-disable-line\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\nvar Select = {\n  inheritAttrs: false,\n  Option: Option,\n  OptGroup: OptGroup,\n  name: 'Select',\n  mixins: [BaseMixin],\n  props: _extends({}, SelectPropTypes, {\n    prefixCls: SelectPropTypes.prefixCls.def('rc-select'),\n    defaultOpen: PropTypes.bool.def(false),\n    labelInValue: SelectPropTypes.labelInValue.def(false),\n    defaultActiveFirstOption: SelectPropTypes.defaultActiveFirstOption.def(true),\n    showSearch: SelectPropTypes.showSearch.def(true),\n    allowClear: SelectPropTypes.allowClear.def(false),\n    placeholder: SelectPropTypes.placeholder.def(''),\n    // showArrow: SelectPropTypes.showArrow.def(true),\n    dropdownMatchSelectWidth: PropTypes.bool.def(true),\n    dropdownStyle: SelectPropTypes.dropdownStyle.def(function () {\n      return {};\n    }),\n    dropdownMenuStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    optionFilterProp: SelectPropTypes.optionFilterProp.def('value'),\n    optionLabelProp: SelectPropTypes.optionLabelProp.def('value'),\n    notFoundContent: PropTypes.any.def('Not Found'),\n    backfill: PropTypes.bool.def(false),\n    showAction: SelectPropTypes.showAction.def(['click']),\n    combobox: PropTypes.bool.def(false),\n    tokenSeparators: PropTypes.arrayOf(PropTypes.string).def([]),\n    autoClearSearchValue: PropTypes.bool.def(true),\n    tabIndex: PropTypes.any.def(0),\n    dropdownRender: PropTypes.func.def(function (menu) {\n      return menu;\n    })\n    // onChange: noop,\n    // onFocus: noop,\n    // onBlur: noop,\n    // onSelect: noop,\n    // onSearch: noop,\n    // onDeselect: noop,\n    // onInputKeydown: noop,\n  }),\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  created: function created() {\n    this.saveInputRef = saveRef(this, 'inputRef');\n    this.saveInputMirrorRef = saveRef(this, 'inputMirrorRef');\n    this.saveTopCtrlRef = saveRef(this, 'topCtrlRef');\n    this.saveSelectTriggerRef = saveRef(this, 'selectTriggerRef');\n    this.saveRootRef = saveRef(this, 'rootRef');\n    this.saveSelectionRef = saveRef(this, 'selectionRef');\n    this._focused = false;\n    this._mouseDown = false;\n    this._options = [];\n    this._empty = false;\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    var optionsInfo = this.getOptionsInfoFromProps(props);\n    warning(this.__propsSymbol__, 'Replace slots.default with props.children and pass props.__propsSymbol__');\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n    var state = {\n      _value: this.getValueFromProps(props, true), // true: use default value\n      _inputValue: props.combobox ? this.getInputValueForCombobox(props, optionsInfo, true // use default value\n      ) : '',\n      _open: props.defaultOpen,\n      _optionsInfo: optionsInfo,\n      _backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      _skipBuildOptionsInfo: true,\n      _ariaId: generateUUID()\n    };\n    return _extends({}, state, {\n      _mirrorInputValue: state._inputValue }, this.getDerivedState(props, state));\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (_this.autoFocus || _this._open) {\n        _this.focus();\n      }\n      // this.setState({\n      //   _ariaId: generateUUID(),\n      // });\n    });\n  },\n\n  watch: {\n    __propsSymbol__: function __propsSymbol__() {\n      _extends(this.$data, this.getDerivedState(getOptionProps(this), this.$data));\n    },\n    '$data._inputValue': function $data_inputValue(val) {\n      this.$data._mirrorInputValue = val;\n    }\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      if (isMultipleOrTags(_this2.$props)) {\n        var inputNode = _this2.getInputDOMNode();\n        var mirrorNode = _this2.getInputMirrorDOMNode();\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = mirrorNode.clientWidth + 10 + 'px';\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n      _this2.forcePopupAlign();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearFocusTime();\n    this.clearBlurTime();\n    this.clearComboboxTime();\n    if (this.dropdownContainer) {\n      document.body.removeChild(this.dropdownContainer);\n      this.dropdownContainer = null;\n    }\n  },\n\n  methods: {\n    getDerivedState: function getDerivedState(nextProps, prevState) {\n      var optionsInfo = prevState._skipBuildOptionsInfo ? prevState._optionsInfo : this.getOptionsInfoFromProps(nextProps, prevState);\n\n      var newState = {\n        _optionsInfo: optionsInfo,\n        _skipBuildOptionsInfo: false\n      };\n\n      if ('open' in nextProps) {\n        newState._open = nextProps.open;\n      }\n\n      if ('value' in nextProps) {\n        var value = this.getValueFromProps(nextProps);\n        newState._value = value;\n        if (nextProps.combobox) {\n          newState._inputValue = this.getInputValueForCombobox(nextProps, optionsInfo);\n        }\n      }\n      return newState;\n    },\n    getOptionsFromChildren: function getOptionsFromChildren() {\n      var _this3 = this;\n\n      var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      children.forEach(function (child) {\n        if (!child.data || child.data.slot !== undefined) {\n          return;\n        }\n        if (getSlotOptions(child).isSelectOptGroup) {\n          _this3.getOptionsFromChildren(child.componentOptions.children, options);\n        } else {\n          options.push(child);\n        }\n      });\n      return options;\n    },\n    getInputValueForCombobox: function getInputValueForCombobox(props, optionsInfo, useDefaultValue) {\n      var value = [];\n      if ('value' in props && !useDefaultValue) {\n        value = toArray(props.value);\n      }\n      if ('defaultValue' in props && useDefaultValue) {\n        value = toArray(props.defaultValue);\n      }\n      if (value.length) {\n        value = value[0];\n      } else {\n        return '';\n      }\n      var label = value;\n      if (props.labelInValue) {\n        label = value.label;\n      } else if (optionsInfo[getMapKey(value)]) {\n        label = optionsInfo[getMapKey(value)].label;\n      }\n      if (label === undefined) {\n        label = '';\n      }\n      return label;\n    },\n    getLabelFromOption: function getLabelFromOption(props, option) {\n      return getPropValue(option, props.optionLabelProp);\n    },\n    getOptionsInfoFromProps: function getOptionsInfoFromProps(props, preState) {\n      var _this4 = this;\n\n      var options = this.getOptionsFromChildren(this.$props.children);\n      var optionsInfo = {};\n      options.forEach(function (option) {\n        var singleValue = getValuePropValue(option);\n        optionsInfo[getMapKey(singleValue)] = {\n          option: option,\n          value: singleValue,\n          label: _this4.getLabelFromOption(props, option),\n          title: getValue(option, 'title'),\n          disabled: getValue(option, 'disabled')\n        };\n      });\n      if (preState) {\n        // keep option info in pre state value.\n        var oldOptionsInfo = preState._optionsInfo;\n        var value = preState._value;\n        if (value) {\n          value.forEach(function (v) {\n            var key = getMapKey(v);\n            if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n              optionsInfo[key] = oldOptionsInfo[key];\n            }\n          });\n        }\n      }\n      return optionsInfo;\n    },\n    getValueFromProps: function getValueFromProps(props, useDefaultValue) {\n      var value = [];\n      if ('value' in props && !useDefaultValue) {\n        value = toArray(props.value);\n      }\n      if ('defaultValue' in props && useDefaultValue) {\n        value = toArray(props.defaultValue);\n      }\n      if (props.labelInValue) {\n        value = value.map(function (v) {\n          return v.key;\n        });\n      }\n      return value;\n    },\n    onInputChange: function onInputChange(e) {\n      var _e$target = e.target,\n          val = _e$target.value,\n          composing = _e$target.composing;\n\n      var _$data$_inputValue = this.$data._inputValue,\n          _inputValue = _$data$_inputValue === undefined ? '' : _$data$_inputValue;\n\n      if (e.isComposing || composing || _inputValue === val) {\n        this.setState({\n          _mirrorInputValue: val\n        });\n        return;\n      }\n      var tokenSeparators = this.$props.tokenSeparators;\n\n      if (isMultipleOrTags(this.$props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = this.getValueByInput(val);\n        if (nextValue !== undefined) {\n          this.fireChange(nextValue);\n        }\n        this.setOpenState(false, { needFocus: true });\n        this.setInputValue('', false);\n        return;\n      }\n      this.setInputValue(val);\n      this.setState({\n        _open: true\n      });\n      if (isCombobox(this.$props)) {\n        this.fireChange([val]);\n      }\n    },\n    onDropdownVisibleChange: function onDropdownVisibleChange(open) {\n      if (open && !this._focused) {\n        this.clearBlurTime();\n        this.timeoutFocus();\n        this._focused = true;\n        this.updateFocusClassName();\n      }\n      this.setOpenState(open);\n    },\n\n\n    // combobox ignore\n    onKeyDown: function onKeyDown(event) {\n      var open = this.$data._open;\n      var disabled = this.$props.disabled;\n\n      if (disabled) {\n        return;\n      }\n      var keyCode = event.keyCode;\n      if (open && !this.getInputDOMNode()) {\n        this.onInputKeydown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        // vue state是同步更新，onKeyDown在onMenuSelect后会再次调用，单选时不在调用setOpenState\n        // https://github.com/vueComponent/ant-design-vue/issues/1142\n        if (keyCode === KeyCode.ENTER && !isMultipleOrTags(this.$props)) {\n          this.maybeFocus(true);\n        } else if (!open) {\n          this.setOpenState(true);\n        }\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          this.setOpenState(true);\n          event.preventDefault();\n        }\n      }\n    },\n    onInputKeydown: function onInputKeydown(event) {\n      var _this5 = this;\n\n      var _$props = this.$props,\n          disabled = _$props.disabled,\n          combobox = _$props.combobox,\n          defaultActiveFirstOption = _$props.defaultActiveFirstOption;\n\n      if (disabled) {\n        return;\n      }\n      var state = this.$data;\n      var isRealOpen = this.getRealOpenState(state);\n      var keyCode = event.keyCode;\n      if (isMultipleOrTags(this.$props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state._value;\n\n        if (value.length) {\n          this.removeSelected(value[value.length - 1]);\n        }\n        return;\n      }\n      if (keyCode === KeyCode.DOWN) {\n        if (!state._open) {\n          this.openIfHasChildren();\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state._open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        }\n        // Hard close popup to avoid lock of non option in combobox mode\n        if (isRealOpen && combobox && defaultActiveFirstOption === false) {\n          this.comboboxTimer = setTimeout(function () {\n            _this5.setOpenState(false);\n          });\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state._open) {\n          this.setOpenState(false);\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        return;\n      }\n\n      if (isRealOpen && this.selectTriggerRef) {\n        var menu = this.selectTriggerRef.getInnerMenu();\n        if (menu && menu.onKeyDown(event, this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    },\n    onMenuSelect: function onMenuSelect(_ref) {\n      var item = _ref.item;\n\n      if (!item) {\n        return;\n      }\n      var value = this.$data._value;\n      var props = this.$props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      var skipTrigger = false;\n\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          skipTrigger = true;\n        } else {\n          value = value.concat([selectedValue]);\n        }\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== this.$data._backfillValue) {\n          this.setOpenState(false, { needFocus: true, fireSearch: false });\n          skipTrigger = true;\n        } else {\n          value = [selectedValue];\n          this.setOpenState(false, { needFocus: true, fireSearch: false });\n        }\n      }\n      if (!skipTrigger) {\n        this.fireChange(value);\n      }\n      if (!skipTrigger) {\n        this.fireSelect(selectedValue);\n        var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n\n        if (props.autoClearSearchValue) {\n          this.setInputValue(inputValue, false);\n        }\n      }\n    },\n    onMenuDeselect: function onMenuDeselect(_ref2) {\n      var item = _ref2.item,\n          domEvent = _ref2.domEvent;\n\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        var menuItemDomNode = item.$el;\n        // https://github.com/ant-design/ant-design/issues/20465#issuecomment-569033796\n        if (!isHidden(menuItemDomNode)) {\n          this.removeSelected(getValuePropValue(item));\n        }\n        return;\n      }\n      if (domEvent.type === 'click') {\n        this.removeSelected(getValuePropValue(item));\n      }\n      if (this.autoClearSearchValue) {\n        this.setInputValue('');\n      }\n    },\n    onArrowClick: function onArrowClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.clearBlurTime();\n      if (!this.disabled) {\n        this.setOpenState(!this.$data._open, { needFocus: !this.$data._open });\n      }\n    },\n    onPlaceholderClick: function onPlaceholderClick() {\n      if (this.getInputDOMNode() && this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    },\n    onPopupFocus: function onPopupFocus() {\n      // fix ie scrollbar, focus element again\n      this.maybeFocus(true, true);\n    },\n    onClearSelection: function onClearSelection(event) {\n      var props = this.$props;\n      var state = this.$data;\n      if (props.disabled) {\n        return;\n      }\n      var inputValue = state._inputValue,\n          value = state._value;\n\n      event.stopPropagation();\n      if (inputValue || value.length) {\n        if (value.length) {\n          this.fireChange([]);\n        }\n        this.setOpenState(false, { needFocus: true });\n        if (inputValue) {\n          this.setInputValue('');\n        }\n      }\n    },\n    onChoiceAnimationLeave: function onChoiceAnimationLeave() {\n      this.forcePopupAlign();\n    },\n    getOptionInfoBySingleValue: function getOptionInfoBySingleValue(value, optionsInfo) {\n      var h = this.$createElement;\n\n      var info = void 0;\n      optionsInfo = optionsInfo || this.$data._optionsInfo;\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n      if (info) {\n        return info;\n      }\n      var defaultLabel = value;\n      if (this.$props.labelInValue) {\n        var valueLabel = getLabelFromPropsValue(this.$props.value, value);\n        var defaultValueLabel = getLabelFromPropsValue(this.$props.defaultValue, value);\n        if (valueLabel !== undefined) {\n          defaultLabel = valueLabel;\n        } else if (defaultValueLabel !== undefined) {\n          defaultLabel = defaultValueLabel;\n        }\n      }\n      var defaultInfo = {\n        option: h(\n          Option,\n          {\n            attrs: { value: value },\n            key: value },\n          [value]\n        ),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    },\n    getOptionBySingleValue: function getOptionBySingleValue(value) {\n      var _getOptionInfoBySingl = this.getOptionInfoBySingleValue(value),\n          option = _getOptionInfoBySingl.option;\n\n      return option;\n    },\n    getOptionsBySingleValue: function getOptionsBySingleValue(values) {\n      var _this6 = this;\n\n      return values.map(function (value) {\n        return _this6.getOptionBySingleValue(value);\n      });\n    },\n    getValueByLabel: function getValueByLabel(label) {\n      var _this7 = this;\n\n      if (label === undefined) {\n        return null;\n      }\n      var value = null;\n      Object.keys(this.$data._optionsInfo).forEach(function (key) {\n        var info = _this7.$data._optionsInfo[key];\n        var disabled = info.disabled;\n\n        if (disabled) {\n          return;\n        }\n        var oldLable = toArray(info.label);\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    },\n    getVLBySingleValue: function getVLBySingleValue(value) {\n      if (this.$props.labelInValue) {\n        return {\n          key: value,\n          label: this.getLabelBySingleValue(value)\n        };\n      }\n      return value;\n    },\n    getVLForOnChange: function getVLForOnChange(vlsS) {\n      var _this8 = this;\n\n      var vls = vlsS;\n      if (vls !== undefined) {\n        if (!this.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this8.getLabelBySingleValue(vl)\n            };\n          });\n        }\n        return isMultipleOrTags(this.$props) ? vls : vls[0];\n      }\n      return vls;\n    },\n    getLabelBySingleValue: function getLabelBySingleValue(value, optionsInfo) {\n      var _getOptionInfoBySingl2 = this.getOptionInfoBySingleValue(value, optionsInfo),\n          label = _getOptionInfoBySingl2.label;\n\n      return label;\n    },\n    getDropdownContainer: function getDropdownContainer() {\n      if (!this.dropdownContainer) {\n        this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(this.dropdownContainer);\n      }\n      return this.dropdownContainer;\n    },\n    getPlaceholderElement: function getPlaceholderElement() {\n      var h = this.$createElement;\n      var props = this.$props,\n          state = this.$data;\n\n      var hidden = false;\n      if (state._mirrorInputValue) {\n        hidden = true;\n      }\n      var value = state._value;\n      if (value.length) {\n        hidden = true;\n      }\n      if (!state._mirrorInputValue && isCombobox(props) && value.length === 1 && state._value && !state._value[0]) {\n        hidden = false;\n      }\n      var placeholder = props.placeholder;\n      if (placeholder) {\n        var p = {\n          on: {\n            mousedown: preventDefaultEvent,\n            click: this.onPlaceholderClick\n          },\n          attrs: UNSELECTABLE_ATTRIBUTE,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE),\n          'class': props.prefixCls + '-selection__placeholder'\n        };\n        return h(\n          'div',\n          p,\n          [placeholder]\n        );\n      }\n      return null;\n    },\n    inputClick: function inputClick(e) {\n      if (this.$data._open) {\n        this.clearBlurTime();\n        e.stopPropagation();\n      } else {\n        this._focused = false;\n      }\n    },\n    inputBlur: function inputBlur(e) {\n      var _this9 = this;\n\n      var target = e.relatedTarget || document.activeElement;\n\n      // https://github.com/vueComponent/ant-design-vue/issues/999\n      // https://github.com/vueComponent/ant-design-vue/issues/1223\n      if ((isIE || isEdge) && (e.relatedTarget === this.$refs.arrow || target && this.selectTriggerRef && this.selectTriggerRef.getInnerMenu() && this.selectTriggerRef.getInnerMenu().$el === target || contains(e.target, target))) {\n        e.target.focus();\n        e.preventDefault();\n        return;\n      }\n      this.clearBlurTime();\n      if (this.disabled) {\n        e.preventDefault();\n        return;\n      }\n      this.blurTimer = setTimeout(function () {\n        _this9._focused = false;\n        _this9.updateFocusClassName();\n        var props = _this9.$props;\n        var value = _this9.$data._value;\n        var inputValue = _this9.$data._inputValue;\n\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this9._options || [];\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n              _this9.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this9._mouseDown) {\n            // need update dropmenu when not blur\n            _this9.setInputValue('');\n          } else {\n            // why not use setState?\n            _this9.$data._inputValue = '';\n            if (_this9.getInputDOMNode && _this9.getInputDOMNode()) {\n              _this9.getInputDOMNode().value = '';\n            }\n          }\n          var tmpValue = _this9.getValueByInput(inputValue);\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n            _this9.fireChange(value);\n          }\n        }\n        // if click the rest space of Select in multiple mode\n        if (isMultipleOrTags(props) && _this9._mouseDown) {\n          _this9.maybeFocus(true, true);\n          _this9._mouseDown = false;\n          return;\n        }\n        _this9.setOpenState(false);\n        _this9.$emit('blur', _this9.getVLForOnChange(value));\n      }, 200);\n    },\n    inputFocus: function inputFocus(e) {\n      if (this.$props.disabled) {\n        e.preventDefault();\n        return;\n      }\n      this.clearBlurTime();\n\n      // In IE11, onOuterFocus will be trigger twice when focus input\n      // First one: e.target is div\n      // Second one: e.target is input\n      // other browser only trigger second one\n      // https://github.com/ant-design/ant-design/issues/15942\n      // Here we ignore the first one when e.target is div\n      var inputNode = this.getInputDOMNode();\n      if (inputNode && e.target === this.rootRef) {\n        return;\n      }\n      if (!isMultipleOrTagsOrCombobox(this.$props) && e.target === inputNode) {\n        return;\n      }\n      if (this._focused) {\n        return;\n      }\n      this._focused = true;\n      this.updateFocusClassName();\n      // only effect multiple or tag mode\n      if (!isMultipleOrTags(this.$props) || !this._mouseDown) {\n        this.timeoutFocus();\n      }\n    },\n    _getInputElement: function _getInputElement() {\n      var h = this.$createElement;\n\n      var props = this.$props;\n      var _$data = this.$data,\n          inputValue = _$data._inputValue,\n          _mirrorInputValue = _$data._mirrorInputValue;\n\n      var attrs = getAttrs(this);\n      var defaultInput = h('input', {\n        attrs: { id: attrs.id, autoComplete: 'off' }\n      });\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(getClass(inputElement), _defineProperty({}, props.prefixCls + '-search__field', true));\n      var inputEvents = getEvents(inputElement);\n      // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n      inputElement.data = inputElement.data || {};\n      return h(\n        'div',\n        { 'class': props.prefixCls + '-search__field__wrap', on: {\n            'click': this.inputClick\n          }\n        },\n        [cloneElement(inputElement, {\n          props: {\n            disabled: props.disabled,\n            value: inputValue\n          },\n          attrs: _extends({}, inputElement.data.attrs || {}, {\n            disabled: props.disabled,\n            value: inputValue\n          }),\n          domProps: {\n            value: inputValue\n          },\n          'class': inputCls,\n          directives: [{\n            name: 'ant-ref',\n            value: this.saveInputRef\n          }, {\n            name: 'ant-input'\n          }],\n          on: {\n            input: this.onInputChange,\n            keydown: chaining(this.onInputKeydown, inputEvents.keydown, getListeners(this).inputKeydown),\n            focus: chaining(this.inputFocus, inputEvents.focus),\n            blur: chaining(this.inputBlur, inputEvents.blur)\n          }\n        }), h(\n          'span',\n          _mergeJSXProps([{\n            directives: [{\n              name: 'ant-ref',\n              value: this.saveInputMirrorRef\n            }]\n          }, {\n            // ref='inputMirrorRef'\n            'class': props.prefixCls + '-search__field__mirror'\n          }]),\n          [_mirrorInputValue, '\\xA0']\n        )]\n      );\n    },\n    getInputDOMNode: function getInputDOMNode() {\n      return this.topCtrlRef ? this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : this.inputRef;\n    },\n    getInputMirrorDOMNode: function getInputMirrorDOMNode() {\n      return this.inputMirrorRef;\n    },\n    getPopupDOMNode: function getPopupDOMNode() {\n      if (this.selectTriggerRef) {\n        return this.selectTriggerRef.getPopupDOMNode();\n      }\n    },\n    getPopupMenuComponent: function getPopupMenuComponent() {\n      if (this.selectTriggerRef) {\n        return this.selectTriggerRef.getInnerMenu();\n      }\n    },\n    setOpenState: function setOpenState(open) {\n      var _this10 = this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var props = this.$props,\n          state = this.$data;\n      var needFocus = config.needFocus,\n          fireSearch = config.fireSearch;\n\n      if (state._open === open) {\n        this.maybeFocus(open, !!needFocus);\n        return;\n      }\n      this.__emit('dropdownVisibleChange', open);\n      var nextState = {\n        _open: open,\n        _backfillValue: ''\n      };\n      // clear search input value when open is false in singleMode.\n      if (!open && isSingleMode(props) && props.showSearch) {\n        this.setInputValue('', fireSearch);\n      }\n      if (!open) {\n        this.maybeFocus(open, !!needFocus);\n      }\n      this.setState(nextState, function () {\n        if (open) {\n          _this10.maybeFocus(open, !!needFocus);\n        }\n      });\n    },\n    setInputValue: function setInputValue(inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (inputValue !== this.$data._inputValue) {\n        this.setState({\n          _inputValue: inputValue\n        }, this.forcePopupAlign);\n        if (fireSearch) {\n          this.$emit('search', inputValue);\n        }\n      }\n    },\n    getValueByInput: function getValueByInput(str) {\n      var _this11 = this;\n\n      var _$props2 = this.$props,\n          multiple = _$props2.multiple,\n          tokenSeparators = _$props2.tokenSeparators;\n\n      var nextValue = this.$data._value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n        if (multiple) {\n          var value = _this11.getValueByLabel(label);\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n            _this11.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n          _this11.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    },\n    getRealOpenState: function getRealOpenState(state) {\n      var _open = this.$props.open;\n\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n\n      var open = (state || this.$data)._open;\n      var options = this._options || [];\n      if (isMultipleOrTagsOrCombobox(this.$props) || !this.$props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n      return open;\n    },\n    focus: function focus() {\n      if (isSingleMode(this.$props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    },\n    blur: function blur() {\n      if (isSingleMode(this.$props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    },\n    markMouseDown: function markMouseDown() {\n      this._mouseDown = true;\n    },\n    markMouseLeave: function markMouseLeave() {\n      this._mouseDown = false;\n    },\n    handleBackfill: function handleBackfill(item) {\n      if (!this.backfill || !(isSingleMode(this.$props) || isCombobox(this.$props))) {\n        return;\n      }\n\n      var key = getValuePropValue(item);\n\n      if (isCombobox(this.$props)) {\n        this.setInputValue(key, false);\n      }\n\n      this.setState({\n        _value: [key],\n        _backfillValue: key\n      });\n    },\n    _filterOption: function _filterOption(input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var _$data2 = this.$data,\n          value = _$data2._value,\n          backfillValue = _$data2._backfillValue;\n\n      var lastValue = value[value.length - 1];\n      if (!input || lastValue && lastValue === backfillValue) {\n        return true;\n      }\n      var filterFn = this.$props.filterOption;\n      if (hasProp(this, 'filterOption')) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(this);\n        }\n      } else {\n        filterFn = defaultFilter.bind(this);\n      }\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(this, input, child);\n      } else if (getValue(child, 'disabled')) {\n        return false;\n      }\n      return true;\n    },\n    timeoutFocus: function timeoutFocus() {\n      var _this12 = this;\n\n      if (this.focusTimer) {\n        this.clearFocusTime();\n      }\n      this.focusTimer = window.setTimeout(function () {\n        // this._focused = true\n        // this.updateFocusClassName()\n        _this12.$emit('focus');\n      }, 10);\n    },\n    clearFocusTime: function clearFocusTime() {\n      if (this.focusTimer) {\n        clearTimeout(this.focusTimer);\n        this.focusTimer = null;\n      }\n    },\n    clearBlurTime: function clearBlurTime() {\n      if (this.blurTimer) {\n        clearTimeout(this.blurTimer);\n        this.blurTimer = null;\n      }\n    },\n    clearComboboxTime: function clearComboboxTime() {\n      if (this.comboboxTimer) {\n        clearTimeout(this.comboboxTimer);\n        this.comboboxTimer = null;\n      }\n    },\n    updateFocusClassName: function updateFocusClassName() {\n      var rootRef = this.rootRef,\n          prefixCls = this.prefixCls;\n      // avoid setState and its side effect\n\n      if (this._focused) {\n        classes(rootRef).add(prefixCls + '-focused');\n      } else {\n        classes(rootRef).remove(prefixCls + '-focused');\n      }\n    },\n    maybeFocus: function maybeFocus(open, needFocus) {\n      if (needFocus || open) {\n        var input = this.getInputDOMNode();\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (input && (open || isMultipleOrTagsOrCombobox(this.$props))) {\n          if (activeElement !== input) {\n            input.focus();\n            this._focused = true;\n          }\n        } else if (activeElement !== this.selectionRef && this.selectionRef) {\n          this.selectionRef.focus();\n          this._focused = true;\n        }\n      }\n    },\n    removeSelected: function removeSelected(selectedKey, e) {\n      var props = this.$props;\n      if (props.disabled || this.isChildDisabled(selectedKey)) {\n        return;\n      }\n      // Do not trigger Trigger popup\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n      var oldValue = this.$data._value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n\n      if (canMultiple) {\n        var event = selectedKey;\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: this.getLabelBySingleValue(selectedKey)\n          };\n        }\n        this.$emit('deselect', event, this.getOptionBySingleValue(selectedKey));\n      }\n      this.fireChange(value);\n    },\n    openIfHasChildren: function openIfHasChildren() {\n      var $props = this.$props;\n\n      if ($props.children && $props.children.length || isSingleMode($props)) {\n        this.setOpenState(true);\n      }\n    },\n    fireSelect: function fireSelect(value) {\n      this.$emit('select', this.getVLBySingleValue(value), this.getOptionBySingleValue(value));\n    },\n    fireChange: function fireChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          _value: value\n        }, this.forcePopupAlign);\n      }\n      var vls = this.getVLForOnChange(value);\n      var options = this.getOptionsBySingleValue(value);\n      this._valueOptions = options;\n      this.$emit('change', vls, isMultipleOrTags(this.$props) ? options : options[0]);\n    },\n    isChildDisabled: function isChildDisabled(key) {\n      return (this.$props.children || []).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && getValue(child, 'disabled');\n      });\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (!this.$data._open) {\n        return;\n      }\n      if (this.selectTriggerRef && this.selectTriggerRef.triggerRef) {\n        this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    },\n    renderFilterOptions: function renderFilterOptions() {\n      var h = this.$createElement;\n      var inputValue = this.$data._inputValue;\n      var _$props3 = this.$props,\n          children = _$props3.children,\n          tags = _$props3.tags,\n          notFoundContent = _$props3.notFoundContent;\n\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n      var options = this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n      if (tags) {\n        // tags value must be string\n        var value = this.$data._value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        });\n\n        // sort by length\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n            role: 'option'\n          });\n          var menuItem = h(\n            MenuItem,\n            _mergeJSXProps([{ style: UNSELECTABLE_STYLE }, { attrs: attrs }, {\n              attrs: { value: key },\n              key: key }]),\n            [key]\n          );\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        });\n        // ref: https://github.com/ant-design/ant-design/issues/14090\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          var p = {\n            attrs: UNSELECTABLE_ATTRIBUTE,\n            key: inputValue,\n            props: {\n              value: inputValue,\n              role: 'option'\n            },\n            style: UNSELECTABLE_STYLE\n          };\n          options.unshift(h(\n            MenuItem,\n            p,\n            [inputValue]\n          ));\n        }\n      }\n\n      if (!options.length && notFoundContent) {\n        empty = true;\n        var _p = {\n          attrs: UNSELECTABLE_ATTRIBUTE,\n          key: 'NOT_FOUND',\n          props: {\n            value: 'NOT_FOUND',\n            disabled: true,\n            role: 'option'\n          },\n          style: UNSELECTABLE_STYLE\n        };\n        options = [h(\n          MenuItem,\n          _p,\n          [notFoundContent]\n        )];\n      }\n      return { empty: empty, options: options };\n    },\n    renderFilterOptionsFromChildren: function renderFilterOptionsFromChildren() {\n      var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var _this13 = this;\n\n      var childrenKeys = arguments[1];\n      var menuItems = arguments[2];\n      var h = this.$createElement;\n\n      var sel = [];\n      var props = this.$props;\n      var inputValue = this.$data._inputValue;\n\n      var tags = props.tags;\n      children.forEach(function (child) {\n        if (!child.data || child.data.slot !== undefined) {\n          return;\n        }\n        if (getSlotOptions(child).isSelectOptGroup) {\n          var label = getComponentFromProp(child, 'label');\n          var key = child.key;\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          }\n          var childChildren = getSlots(child)['default'];\n          childChildren = typeof childChildren === 'function' ? childChildren() : childChildren;\n          // Match option group label\n          if (inputValue && _this13._filterOption(inputValue, child)) {\n            var innerItems = childChildren.map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return h(\n                MenuItem,\n                _mergeJSXProps([{ key: childValueSub, attrs: { value: childValueSub }\n                }, subChild.data]),\n                [subChild.componentOptions.children]\n              );\n            });\n\n            sel.push(h(\n              MenuItemGroup,\n              { key: key, attrs: { title: label },\n                'class': getClass(child) },\n              [innerItems]\n            ));\n\n            // Not match\n          } else {\n            var _innerItems = _this13.renderFilterOptionsFromChildren(childChildren, childrenKeys, menuItems);\n            if (_innerItems.length) {\n              sel.push(h(\n                MenuItemGroup,\n                _mergeJSXProps([{ key: key, attrs: { title: label }\n                }, child.data]),\n                [_innerItems]\n              ));\n            }\n          }\n\n          return;\n        }\n        warning(getSlotOptions(child).isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + ('instead of `' + (getSlotOptions(child).name || getSlotOptions(child)) + '`.'));\n\n        var childValue = getValuePropValue(child);\n\n        validateOptionValue(childValue, _this13.$props);\n        if (_this13._filterOption(inputValue, child)) {\n          var p = {\n            attrs: _extends({}, UNSELECTABLE_ATTRIBUTE, getAttrs(child)),\n            key: childValue,\n            props: _extends({\n              value: childValue\n            }, getPropsData(child), {\n              role: 'option'\n            }),\n            style: UNSELECTABLE_STYLE,\n            on: getEvents(child),\n            'class': getClass(child)\n          };\n          var menuItem = h(\n            MenuItem,\n            p,\n            [child.componentOptions.children]\n          );\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n\n      return sel;\n    },\n    renderTopControlNode: function renderTopControlNode() {\n      var _this14 = this;\n\n      var h = this.$createElement;\n      var props = this.$props;\n      var _$data3 = this.$data,\n          value = _$data3._value,\n          inputValue = _$data3._inputValue,\n          open = _$data3._open;\n      var choiceTransitionName = props.choiceTransitionName,\n          prefixCls = props.prefixCls,\n          maxTagTextLength = props.maxTagTextLength,\n          maxTagCount = props.maxTagCount,\n          maxTagPlaceholder = props.maxTagPlaceholder,\n          showSearch = props.showSearch;\n\n      var removeIcon = getComponentFromProp(this, 'removeIcon');\n      var className = prefixCls + '-selection__rendered';\n      // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n      var innerNode = null;\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n          var singleValue = value[0];\n\n          var _getOptionInfoBySingl3 = this.getOptionInfoBySingleValue(singleValue),\n              label = _getOptionInfoBySingl3.label,\n              title = _getOptionInfoBySingl3.title;\n\n          selectedValue = h(\n            'div',\n            {\n              key: 'value',\n              'class': prefixCls + '-selection-selected-value',\n              attrs: { title: toTitle(title || label)\n              },\n              style: {\n                display: showSelectedValue ? 'block' : 'none',\n                opacity: opacity\n              }\n            },\n            [label]\n          );\n        }\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, h(\n            'div',\n            {\n              'class': prefixCls + '-search ' + prefixCls + '-search--inline',\n              key: 'input',\n              style: {\n                display: open ? 'block' : 'none'\n              }\n            },\n            [this._getInputElement()]\n          )];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl = void 0;\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n          var omittedValues = this.getVLForOnChange(value.slice(maxTagCount, value.length));\n          var content = '+ ' + (value.length - maxTagCount) + ' ...';\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n          var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n            role: 'presentation',\n            title: toTitle(content)\n          });\n          maxTagPlaceholderEl = h(\n            'li',\n            _mergeJSXProps([{\n              style: UNSELECTABLE_STYLE\n            }, { attrs: attrs }, {\n              on: {\n                'mousedown': preventDefaultEvent\n              },\n\n              'class': prefixCls + '-selection__choice ' + prefixCls + '-selection__choice__disabled',\n              key: 'maxTagPlaceholder'\n            }]),\n            [h(\n              'div',\n              { 'class': prefixCls + '-selection__choice__content' },\n              [content]\n            )]\n          );\n        }\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this14.getOptionInfoBySingleValue(singleValue);\n            var content = info.label;\n            var title = info.title || content;\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = content.slice(0, maxTagTextLength) + '...';\n            }\n            var disabled = _this14.isChildDisabled(singleValue);\n            var choiceClassName = disabled ? prefixCls + '-selection__choice ' + prefixCls + '-selection__choice__disabled' : prefixCls + '-selection__choice';\n            // attrs 放在一起，避免动态title混乱问题，很奇怪的问题 https://github.com/vueComponent/ant-design-vue/issues/588\n            var attrs = _extends({}, UNSELECTABLE_ATTRIBUTE, {\n              role: 'presentation',\n              title: toTitle(title)\n            });\n            return h(\n              'li',\n              _mergeJSXProps([{\n                style: UNSELECTABLE_STYLE\n              }, { attrs: attrs }, {\n                on: {\n                  'mousedown': preventDefaultEvent\n                },\n\n                'class': choiceClassName,\n                key: singleValue || SELECT_EMPTY_VALUE_KEY\n              }]),\n              [h(\n                'div',\n                { 'class': prefixCls + '-selection__choice__content' },\n                [content]\n              ), disabled ? null : h(\n                'span',\n                {\n                  on: {\n                    'click': function click(event) {\n                      _this14.removeSelected(singleValue, event);\n                    }\n                  },\n\n                  'class': prefixCls + '-selection__choice__remove'\n                },\n                [removeIcon || h(\n                  'i',\n                  { 'class': prefixCls + '-selection__choice__remove-icon' },\n                  ['\\xD7']\n                )]\n              )]\n            );\n          });\n        }\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n        selectedValueNodes.push(h(\n          'li',\n          { 'class': prefixCls + '-search ' + prefixCls + '-search--inline', key: '__input' },\n          [this._getInputElement()]\n        ));\n\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          var transitionProps = getTransitionProps(choiceTransitionName, {\n            tag: 'ul',\n            afterLeave: this.onChoiceAnimationLeave\n          });\n          innerNode = h(\n            'transition-group',\n            transitionProps,\n            [selectedValueNodes]\n          );\n        } else {\n          innerNode = h('ul', [selectedValueNodes]);\n        }\n      }\n      return h(\n        'div',\n        _mergeJSXProps([{\n          'class': className\n        }, {\n          directives: [{\n            name: 'ant-ref',\n            value: this.saveTopCtrlRef\n          }]\n        }, {\n          on: {\n            'click': this.topCtrlContainerClick\n          }\n        }]),\n        [this.getPlaceholderElement(), innerNode]\n      );\n    },\n    renderArrow: function renderArrow(multiple) {\n      var h = this.$createElement;\n\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _$props4 = this.$props,\n          _$props4$showArrow = _$props4.showArrow,\n          showArrow = _$props4$showArrow === undefined ? !multiple : _$props4$showArrow,\n          loading = _$props4.loading,\n          prefixCls = _$props4.prefixCls;\n\n      var inputIcon = getComponentFromProp(this, 'inputIcon');\n      if (!showArrow && !loading) {\n        return null;\n      }\n      // if loading  have loading icon\n      var defaultIcon = loading ? h('i', { 'class': prefixCls + '-arrow-loading' }) : h('i', { 'class': prefixCls + '-arrow-icon' });\n      return h(\n        'span',\n        _mergeJSXProps([{\n          key: 'arrow',\n          'class': prefixCls + '-arrow',\n          style: UNSELECTABLE_STYLE\n        }, { attrs: UNSELECTABLE_ATTRIBUTE }, {\n          on: {\n            'click': this.onArrowClick\n          },\n\n          ref: 'arrow'\n        }]),\n        [inputIcon || defaultIcon]\n      );\n    },\n    topCtrlContainerClick: function topCtrlContainerClick(e) {\n      if (this.$data._open && !isSingleMode(this.$props)) {\n        e.stopPropagation();\n      }\n    },\n    renderClear: function renderClear() {\n      var h = this.$createElement;\n      var _$props5 = this.$props,\n          prefixCls = _$props5.prefixCls,\n          allowClear = _$props5.allowClear;\n      var _$data4 = this.$data,\n          value = _$data4._value,\n          inputValue = _$data4._inputValue;\n\n      var clearIcon = getComponentFromProp(this, 'clearIcon');\n      var clear = h(\n        'span',\n        _mergeJSXProps([{\n          key: 'clear',\n          'class': prefixCls + '-selection__clear',\n          on: {\n            'mousedown': preventDefaultEvent\n          },\n\n          style: UNSELECTABLE_STYLE\n        }, { attrs: UNSELECTABLE_ATTRIBUTE }, {\n          on: {\n            'click': this.onClearSelection\n          }\n        }]),\n        [clearIcon || h(\n          'i',\n          { 'class': prefixCls + '-selection__clear-icon' },\n          ['\\xD7']\n        )]\n      );\n      if (!allowClear) {\n        return null;\n      }\n      if (isCombobox(this.$props)) {\n        if (inputValue) {\n          return clear;\n        }\n        return null;\n      }\n      if (inputValue || value.length) {\n        return clear;\n      }\n      return null;\n    },\n    selectionRefClick: function selectionRefClick() {\n      //e.stopPropagation();\n      if (!this.disabled) {\n        var input = this.getInputDOMNode();\n        if (this._focused && this.$data._open) {\n          // this._focused = false;\n          this.setOpenState(false, false);\n          input && input.blur();\n        } else {\n          this.clearBlurTime();\n          //this._focused = true;\n          this.setOpenState(true, true);\n          input && input.focus();\n        }\n      }\n    },\n    selectionRefFocus: function selectionRefFocus(e) {\n      if (this._focused || this.disabled || isMultipleOrTagsOrCombobox(this.$props)) {\n        e.preventDefault();\n        return;\n      }\n      this._focused = true;\n      this.updateFocusClassName();\n      this.$emit('focus');\n    },\n    selectionRefBlur: function selectionRefBlur(e) {\n      if (isMultipleOrTagsOrCombobox(this.$props)) {\n        e.preventDefault();\n        return;\n      }\n      this.inputBlur(e);\n    }\n  },\n\n  render: function render() {\n    var _rootCls;\n\n    var h = arguments[0];\n\n    var props = this.$props;\n    var multiple = isMultipleOrTags(props);\n    // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n    var _props$showArrow = props.showArrow,\n        showArrow = _props$showArrow === undefined ? true : _props$showArrow;\n\n    var state = this.$data;\n    var disabled = props.disabled,\n        prefixCls = props.prefixCls,\n        loading = props.loading;\n\n    var ctrlNode = this.renderTopControlNode();\n    var _$data5 = this.$data,\n        open = _$data5._open,\n        inputValue = _$data5._inputValue,\n        value = _$data5._value;\n\n    if (open) {\n      var filterOptions = this.renderFilterOptions();\n      this._empty = filterOptions.empty;\n      this._options = filterOptions.options;\n    }\n    var realOpen = this.getRealOpenState();\n    var empty = this._empty;\n    var options = this._options || [];\n\n    var _getListeners = getListeners(this),\n        _getListeners$mouseen = _getListeners.mouseenter,\n        mouseenter = _getListeners$mouseen === undefined ? noop : _getListeners$mouseen,\n        _getListeners$mousele = _getListeners.mouseleave,\n        mouseleave = _getListeners$mousele === undefined ? noop : _getListeners$mousele,\n        _getListeners$popupSc = _getListeners.popupScroll,\n        popupScroll = _getListeners$popupSc === undefined ? noop : _getListeners$popupSc;\n\n    var selectionProps = {\n      props: {},\n      attrs: {\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-haspopup': 'true',\n        'aria-expanded': realOpen,\n        'aria-controls': this.$data._ariaId\n      },\n      on: {\n        // click: this.selectionRefClick,\n      },\n      'class': prefixCls + '-selection ' + prefixCls + '-selection--' + (multiple ? 'multiple' : 'single'),\n      // directives: [\n      //   {\n      //     name: 'ant-ref',\n      //     value: this.saveSelectionRef,\n      //   },\n      // ],\n      key: 'selection'\n    };\n    //if (!isMultipleOrTagsOrCombobox(props)) {\n    // selectionProps.on.keydown = this.onKeyDown;\n    // selectionProps.on.focus = this.selectionRefFocus;\n    // selectionProps.on.blur = this.selectionRefBlur;\n    // selectionProps.attrs.tabIndex = props.disabled ? -1 : props.tabIndex;\n    //}\n    var extraSelectionProps = { attrs: { tabIndex: -1 } };\n    if (!isMultipleOrTagsOrCombobox(props)) {\n      extraSelectionProps.attrs.tabIndex = props.disabled ? -1 : props.tabIndex;\n    }\n    var rootCls = (_rootCls = {}, _defineProperty(_rootCls, prefixCls, true), _defineProperty(_rootCls, prefixCls + '-open', open), _defineProperty(_rootCls, prefixCls + '-focused', open || !!this._focused), _defineProperty(_rootCls, prefixCls + '-combobox', isCombobox(props)), _defineProperty(_rootCls, prefixCls + '-disabled', disabled), _defineProperty(_rootCls, prefixCls + '-enabled', !disabled), _defineProperty(_rootCls, prefixCls + '-allow-clear', !!props.allowClear), _defineProperty(_rootCls, prefixCls + '-no-arrow', !showArrow), _defineProperty(_rootCls, prefixCls + '-loading', !!loading), _rootCls);\n    return h(\n      SelectTrigger,\n      _mergeJSXProps([{\n        attrs: {\n          dropdownAlign: props.dropdownAlign,\n          dropdownClassName: props.dropdownClassName,\n          dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n          defaultActiveFirstOption: props.defaultActiveFirstOption,\n          dropdownMenuStyle: props.dropdownMenuStyle,\n          transitionName: props.transitionName,\n          animation: props.animation,\n          prefixCls: props.prefixCls,\n          dropdownStyle: props.dropdownStyle,\n          combobox: props.combobox,\n          showSearch: props.showSearch,\n          options: options,\n          empty: empty,\n          multiple: multiple,\n          disabled: disabled,\n          visible: realOpen,\n          inputValue: inputValue,\n          value: value,\n          backfillValue: state._backfillValue,\n          firstActiveValue: props.firstActiveValue,\n\n          getPopupContainer: props.getPopupContainer,\n\n          showAction: props.showAction,\n          menuItemSelectedIcon: getComponentFromProp(this, 'menuItemSelectedIcon')\n        },\n        on: {\n          'dropdownVisibleChange': this.onDropdownVisibleChange,\n          'menuSelect': this.onMenuSelect,\n          'menuDeselect': this.onMenuDeselect,\n          'popupScroll': popupScroll,\n          'popupFocus': this.onPopupFocus,\n          'mouseenter': mouseenter,\n          'mouseleave': mouseleave\n        }\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveSelectTriggerRef\n        }]\n      }, {\n        attrs: {\n          dropdownRender: props.dropdownRender,\n          ariaId: this.$data._ariaId\n        }\n      }]),\n      [h(\n        'div',\n        _mergeJSXProps([{\n          directives: [{\n            name: 'ant-ref',\n            value: chaining(this.saveRootRef, this.saveSelectionRef)\n          }]\n        }, {\n          style: getStyle(this),\n          'class': classnames(rootCls),\n          on: {\n            'mousedown': this.markMouseDown,\n            'mouseup': this.markMouseLeave,\n            'mouseout': this.markMouseLeave\n          }\n        }, extraSelectionProps, {\n          on: {\n            'blur': this.selectionRefBlur,\n            'focus': this.selectionRefFocus,\n            'click': this.selectionRefClick,\n            'keydown': isMultipleOrTagsOrCombobox(props) ? noop : this.onKeyDown\n          }\n        }]),\n        [h(\n          'div',\n          selectionProps,\n          [ctrlNode, this.renderClear(), this.renderArrow(!!multiple)]\n        )]\n      )]\n    );\n  }\n};\nexport { Select };\nexport default proxyComponent(Select);"]},"metadata":{},"sourceType":"module"}