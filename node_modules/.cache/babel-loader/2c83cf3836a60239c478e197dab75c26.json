{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classnames from 'classnames';\nimport raf from 'raf';\nimport Trigger from '../vc-trigger';\nimport PropTypes from '../_util/vue-types';\nimport DropdownMenu from './DropdownMenu';\nimport { isSingleMode, saveRef } from './util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getListeners } from '../_util/props-util';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\nexport default {\n  name: 'SelectTrigger',\n  mixins: [BaseMixin],\n  props: {\n    // onPopupFocus: PropTypes.func,\n    // onPopupScroll: PropTypes.func,\n    dropdownMatchSelectWidth: PropTypes.bool,\n    defaultActiveFirstOption: PropTypes.bool,\n    dropdownAlign: PropTypes.object,\n    visible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    showSearch: PropTypes.bool,\n    dropdownClassName: PropTypes.string,\n    dropdownStyle: PropTypes.object,\n    dropdownMenuStyle: PropTypes.object,\n    multiple: PropTypes.bool,\n    inputValue: PropTypes.string,\n    filterOption: PropTypes.any,\n    empty: PropTypes.bool,\n    options: PropTypes.any,\n    prefixCls: PropTypes.string,\n    popupClassName: PropTypes.string,\n    value: PropTypes.array,\n    // children: PropTypes.any,\n    showAction: PropTypes.arrayOf(PropTypes.string),\n    combobox: PropTypes.bool,\n    animation: PropTypes.string,\n    transitionName: PropTypes.string,\n    getPopupContainer: PropTypes.func,\n    backfillValue: PropTypes.any,\n    menuItemSelectedIcon: PropTypes.any,\n    dropdownRender: PropTypes.func,\n    ariaId: PropTypes.string\n  },\n  data: function data() {\n    return {\n      dropdownWidth: 0\n    };\n  },\n  created: function created() {\n    this.rafInstance = null;\n    this.saveDropdownMenuRef = saveRef(this, 'dropdownMenuRef');\n    this.saveTriggerRef = saveRef(this, 'triggerRef');\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.setDropdownWidth();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setDropdownWidth();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.cancelRafInstance();\n  },\n  methods: {\n    setDropdownWidth: function setDropdownWidth() {\n      var _this3 = this;\n\n      this.cancelRafInstance();\n      this.rafInstance = raf(function () {\n        var width = _this3.$el.offsetWidth;\n\n        if (width !== _this3.dropdownWidth) {\n          _this3.setState({\n            dropdownWidth: width\n          });\n        }\n      });\n    },\n    cancelRafInstance: function cancelRafInstance() {\n      if (this.rafInstance) {\n        raf.cancel(this.rafInstance);\n      }\n    },\n    getInnerMenu: function getInnerMenu() {\n      return this.dropdownMenuRef && this.dropdownMenuRef.$refs.menuRef;\n    },\n    getPopupDOMNode: function getPopupDOMNode() {\n      return this.triggerRef.getPopupDomNode();\n    },\n    getDropdownElement: function getDropdownElement(newProps) {\n      var h = this.$createElement;\n      var value = this.value,\n          firstActiveValue = this.firstActiveValue,\n          defaultActiveFirstOption = this.defaultActiveFirstOption,\n          dropdownMenuStyle = this.dropdownMenuStyle,\n          getDropdownPrefixCls = this.getDropdownPrefixCls,\n          backfillValue = this.backfillValue,\n          menuItemSelectedIcon = this.menuItemSelectedIcon;\n\n      var _getListeners = getListeners(this),\n          menuSelect = _getListeners.menuSelect,\n          menuDeselect = _getListeners.menuDeselect,\n          popupScroll = _getListeners.popupScroll;\n\n      var props = this.$props;\n      var dropdownRender = props.dropdownRender,\n          ariaId = props.ariaId;\n      var dropdownMenuProps = {\n        props: _extends({}, newProps.props, {\n          ariaId: ariaId,\n          prefixCls: getDropdownPrefixCls(),\n          value: value,\n          firstActiveValue: firstActiveValue,\n          defaultActiveFirstOption: defaultActiveFirstOption,\n          dropdownMenuStyle: dropdownMenuStyle,\n          backfillValue: backfillValue,\n          menuItemSelectedIcon: menuItemSelectedIcon\n        }),\n        on: _extends({}, newProps.on, {\n          menuSelect: menuSelect,\n          menuDeselect: menuDeselect,\n          popupScroll: popupScroll\n        }),\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveDropdownMenuRef\n        }]\n      };\n      var menuNode = h(DropdownMenu, dropdownMenuProps);\n\n      if (dropdownRender) {\n        return dropdownRender(menuNode, props);\n      }\n\n      return null;\n    },\n    getDropdownTransitionName: function getDropdownTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n\n      if (!transitionName && props.animation) {\n        transitionName = this.getDropdownPrefixCls() + '-' + props.animation;\n      }\n\n      return transitionName;\n    },\n    getDropdownPrefixCls: function getDropdownPrefixCls() {\n      return this.prefixCls + '-dropdown';\n    }\n  },\n  render: function render() {\n    var _popupClassName;\n\n    var h = arguments[0];\n    var $props = this.$props,\n        $slots = this.$slots;\n    var multiple = $props.multiple,\n        visible = $props.visible,\n        inputValue = $props.inputValue,\n        dropdownAlign = $props.dropdownAlign,\n        disabled = $props.disabled,\n        showSearch = $props.showSearch,\n        dropdownClassName = $props.dropdownClassName,\n        dropdownStyle = $props.dropdownStyle,\n        dropdownMatchSelectWidth = $props.dropdownMatchSelectWidth,\n        options = $props.options,\n        getPopupContainer = $props.getPopupContainer,\n        showAction = $props.showAction,\n        empty = $props.empty;\n\n    var _getListeners2 = getListeners(this),\n        mouseenter = _getListeners2.mouseenter,\n        mouseleave = _getListeners2.mouseleave,\n        popupFocus = _getListeners2.popupFocus,\n        dropdownVisibleChange = _getListeners2.dropdownVisibleChange;\n\n    var dropdownPrefixCls = this.getDropdownPrefixCls();\n    var popupClassName = (_popupClassName = {}, _defineProperty(_popupClassName, dropdownClassName, !!dropdownClassName), _defineProperty(_popupClassName, dropdownPrefixCls + '--' + (multiple ? 'multiple' : 'single'), 1), _defineProperty(_popupClassName, dropdownPrefixCls + '--empty', empty), _popupClassName);\n    var popupElement = this.getDropdownElement({\n      props: {\n        menuItems: options,\n        multiple: multiple,\n        inputValue: inputValue,\n        visible: visible\n      },\n      on: {\n        popupFocus: popupFocus\n      }\n    });\n    var hideAction = void 0;\n\n    if (disabled) {\n      hideAction = [];\n    } else if (isSingleMode($props) && !showSearch) {\n      hideAction = ['click'];\n    } else {\n      hideAction = ['blur'];\n    }\n\n    var popupStyle = _extends({}, dropdownStyle);\n\n    var widthProp = dropdownMatchSelectWidth ? 'width' : 'minWidth';\n\n    if (this.dropdownWidth) {\n      popupStyle[widthProp] = this.dropdownWidth + 'px';\n    }\n\n    var triggerProps = {\n      props: _extends({}, $props, {\n        showAction: disabled ? [] : showAction,\n        hideAction: hideAction,\n        ref: 'triggerRef',\n        popupPlacement: 'bottomLeft',\n        builtinPlacements: BUILT_IN_PLACEMENTS,\n        prefixCls: dropdownPrefixCls,\n        popupTransitionName: this.getDropdownTransitionName(),\n        popupAlign: dropdownAlign,\n        popupVisible: visible,\n        getPopupContainer: getPopupContainer,\n        popupClassName: classnames(popupClassName),\n        popupStyle: popupStyle\n      }),\n      on: {\n        popupVisibleChange: dropdownVisibleChange\n      },\n      directives: [{\n        name: 'ant-ref',\n        value: this.saveTriggerRef\n      }]\n    };\n\n    if (mouseenter) {\n      triggerProps.on.mouseenter = mouseenter;\n    }\n\n    if (mouseleave) {\n      triggerProps.on.mouseleave = mouseleave;\n    }\n\n    return h(Trigger, triggerProps, [$slots['default'], h('template', {\n      slot: 'popup'\n    }, [popupElement])]);\n  }\n};","map":{"version":3,"sources":["/Users/liulu/刘璐/vue3/hello-vue3/node_modules/ant-design-vue/es/vc-select/SelectTrigger.js"],"names":["_defineProperty","_extends","classnames","raf","Trigger","PropTypes","DropdownMenu","isSingleMode","saveRef","BaseMixin","getListeners","BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","name","mixins","props","dropdownMatchSelectWidth","bool","defaultActiveFirstOption","dropdownAlign","object","visible","disabled","showSearch","dropdownClassName","string","dropdownStyle","dropdownMenuStyle","multiple","inputValue","filterOption","any","empty","options","prefixCls","popupClassName","value","array","showAction","arrayOf","combobox","animation","transitionName","getPopupContainer","func","backfillValue","menuItemSelectedIcon","dropdownRender","ariaId","data","dropdownWidth","created","rafInstance","saveDropdownMenuRef","saveTriggerRef","mounted","_this","$nextTick","setDropdownWidth","updated","_this2","beforeDestroy","cancelRafInstance","methods","_this3","width","$el","offsetWidth","setState","cancel","getInnerMenu","dropdownMenuRef","$refs","menuRef","getPopupDOMNode","triggerRef","getPopupDomNode","getDropdownElement","newProps","h","$createElement","firstActiveValue","getDropdownPrefixCls","_getListeners","menuSelect","menuDeselect","popupScroll","$props","dropdownMenuProps","on","directives","menuNode","getDropdownTransitionName","render","_popupClassName","arguments","$slots","_getListeners2","mouseenter","mouseleave","popupFocus","dropdownVisibleChange","dropdownPrefixCls","popupElement","menuItems","hideAction","popupStyle","widthProp","triggerProps","ref","popupPlacement","builtinPlacements","popupTransitionName","popupAlign","popupVisible","popupVisibleChange","slot"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport classnames from 'classnames';\nimport raf from 'raf';\nimport Trigger from '../vc-trigger';\nimport PropTypes from '../_util/vue-types';\nimport DropdownMenu from './DropdownMenu';\nimport { isSingleMode, saveRef } from './util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getListeners } from '../_util/props-util';\n\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nexport default {\n  name: 'SelectTrigger',\n  mixins: [BaseMixin],\n  props: {\n    // onPopupFocus: PropTypes.func,\n    // onPopupScroll: PropTypes.func,\n    dropdownMatchSelectWidth: PropTypes.bool,\n    defaultActiveFirstOption: PropTypes.bool,\n    dropdownAlign: PropTypes.object,\n    visible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    showSearch: PropTypes.bool,\n    dropdownClassName: PropTypes.string,\n    dropdownStyle: PropTypes.object,\n    dropdownMenuStyle: PropTypes.object,\n    multiple: PropTypes.bool,\n    inputValue: PropTypes.string,\n    filterOption: PropTypes.any,\n    empty: PropTypes.bool,\n    options: PropTypes.any,\n    prefixCls: PropTypes.string,\n    popupClassName: PropTypes.string,\n    value: PropTypes.array,\n    // children: PropTypes.any,\n    showAction: PropTypes.arrayOf(PropTypes.string),\n    combobox: PropTypes.bool,\n    animation: PropTypes.string,\n    transitionName: PropTypes.string,\n    getPopupContainer: PropTypes.func,\n    backfillValue: PropTypes.any,\n    menuItemSelectedIcon: PropTypes.any,\n    dropdownRender: PropTypes.func,\n    ariaId: PropTypes.string\n  },\n  data: function data() {\n    return {\n      dropdownWidth: 0\n    };\n  },\n  created: function created() {\n    this.rafInstance = null;\n    this.saveDropdownMenuRef = saveRef(this, 'dropdownMenuRef');\n    this.saveTriggerRef = saveRef(this, 'triggerRef');\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.setDropdownWidth();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setDropdownWidth();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.cancelRafInstance();\n  },\n\n  methods: {\n    setDropdownWidth: function setDropdownWidth() {\n      var _this3 = this;\n\n      this.cancelRafInstance();\n      this.rafInstance = raf(function () {\n        var width = _this3.$el.offsetWidth;\n        if (width !== _this3.dropdownWidth) {\n          _this3.setState({ dropdownWidth: width });\n        }\n      });\n    },\n    cancelRafInstance: function cancelRafInstance() {\n      if (this.rafInstance) {\n        raf.cancel(this.rafInstance);\n      }\n    },\n    getInnerMenu: function getInnerMenu() {\n      return this.dropdownMenuRef && this.dropdownMenuRef.$refs.menuRef;\n    },\n    getPopupDOMNode: function getPopupDOMNode() {\n      return this.triggerRef.getPopupDomNode();\n    },\n    getDropdownElement: function getDropdownElement(newProps) {\n      var h = this.$createElement;\n      var value = this.value,\n          firstActiveValue = this.firstActiveValue,\n          defaultActiveFirstOption = this.defaultActiveFirstOption,\n          dropdownMenuStyle = this.dropdownMenuStyle,\n          getDropdownPrefixCls = this.getDropdownPrefixCls,\n          backfillValue = this.backfillValue,\n          menuItemSelectedIcon = this.menuItemSelectedIcon;\n\n      var _getListeners = getListeners(this),\n          menuSelect = _getListeners.menuSelect,\n          menuDeselect = _getListeners.menuDeselect,\n          popupScroll = _getListeners.popupScroll;\n\n      var props = this.$props;\n\n      var dropdownRender = props.dropdownRender,\n          ariaId = props.ariaId;\n\n      var dropdownMenuProps = {\n        props: _extends({}, newProps.props, {\n          ariaId: ariaId,\n          prefixCls: getDropdownPrefixCls(),\n          value: value,\n          firstActiveValue: firstActiveValue,\n          defaultActiveFirstOption: defaultActiveFirstOption,\n          dropdownMenuStyle: dropdownMenuStyle,\n          backfillValue: backfillValue,\n          menuItemSelectedIcon: menuItemSelectedIcon\n        }),\n        on: _extends({}, newProps.on, {\n          menuSelect: menuSelect,\n          menuDeselect: menuDeselect,\n          popupScroll: popupScroll\n        }),\n        directives: [{\n          name: 'ant-ref',\n          value: this.saveDropdownMenuRef\n        }]\n      };\n      var menuNode = h(DropdownMenu, dropdownMenuProps);\n\n      if (dropdownRender) {\n        return dropdownRender(menuNode, props);\n      }\n      return null;\n    },\n    getDropdownTransitionName: function getDropdownTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n      if (!transitionName && props.animation) {\n        transitionName = this.getDropdownPrefixCls() + '-' + props.animation;\n      }\n      return transitionName;\n    },\n    getDropdownPrefixCls: function getDropdownPrefixCls() {\n      return this.prefixCls + '-dropdown';\n    }\n  },\n\n  render: function render() {\n    var _popupClassName;\n\n    var h = arguments[0];\n    var $props = this.$props,\n        $slots = this.$slots;\n    var multiple = $props.multiple,\n        visible = $props.visible,\n        inputValue = $props.inputValue,\n        dropdownAlign = $props.dropdownAlign,\n        disabled = $props.disabled,\n        showSearch = $props.showSearch,\n        dropdownClassName = $props.dropdownClassName,\n        dropdownStyle = $props.dropdownStyle,\n        dropdownMatchSelectWidth = $props.dropdownMatchSelectWidth,\n        options = $props.options,\n        getPopupContainer = $props.getPopupContainer,\n        showAction = $props.showAction,\n        empty = $props.empty;\n\n    var _getListeners2 = getListeners(this),\n        mouseenter = _getListeners2.mouseenter,\n        mouseleave = _getListeners2.mouseleave,\n        popupFocus = _getListeners2.popupFocus,\n        dropdownVisibleChange = _getListeners2.dropdownVisibleChange;\n\n    var dropdownPrefixCls = this.getDropdownPrefixCls();\n    var popupClassName = (_popupClassName = {}, _defineProperty(_popupClassName, dropdownClassName, !!dropdownClassName), _defineProperty(_popupClassName, dropdownPrefixCls + '--' + (multiple ? 'multiple' : 'single'), 1), _defineProperty(_popupClassName, dropdownPrefixCls + '--empty', empty), _popupClassName);\n    var popupElement = this.getDropdownElement({\n      props: {\n        menuItems: options,\n        multiple: multiple,\n        inputValue: inputValue,\n        visible: visible\n      },\n      on: {\n        popupFocus: popupFocus\n      }\n    });\n    var hideAction = void 0;\n    if (disabled) {\n      hideAction = [];\n    } else if (isSingleMode($props) && !showSearch) {\n      hideAction = ['click'];\n    } else {\n      hideAction = ['blur'];\n    }\n    var popupStyle = _extends({}, dropdownStyle);\n    var widthProp = dropdownMatchSelectWidth ? 'width' : 'minWidth';\n    if (this.dropdownWidth) {\n      popupStyle[widthProp] = this.dropdownWidth + 'px';\n    }\n    var triggerProps = {\n      props: _extends({}, $props, {\n        showAction: disabled ? [] : showAction,\n        hideAction: hideAction,\n        ref: 'triggerRef',\n        popupPlacement: 'bottomLeft',\n        builtinPlacements: BUILT_IN_PLACEMENTS,\n        prefixCls: dropdownPrefixCls,\n        popupTransitionName: this.getDropdownTransitionName(),\n        popupAlign: dropdownAlign,\n        popupVisible: visible,\n        getPopupContainer: getPopupContainer,\n        popupClassName: classnames(popupClassName),\n        popupStyle: popupStyle\n      }),\n      on: {\n        popupVisibleChange: dropdownVisibleChange\n      },\n      directives: [{\n        name: 'ant-ref',\n        value: this.saveTriggerRef\n      }]\n    };\n    if (mouseenter) {\n      triggerProps.on.mouseenter = mouseenter;\n    }\n    if (mouseleave) {\n      triggerProps.on.mouseleave = mouseleave;\n    }\n    return h(\n      Trigger,\n      triggerProps,\n      [$slots['default'], h(\n        'template',\n        { slot: 'popup' },\n        [popupElement]\n      )]\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}